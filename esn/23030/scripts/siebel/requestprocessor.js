if(typeof(SiebelApp.RequestProcessor)==="undefined"){Namespace("SiebelApp.RequestProcessor");SiebelApp.RequestProcessor=(function(){var d=SiebelJS.Dependency("SiebelApp.Utils");var c=new e();var b=SiebelApp.OfflineCacheConfig;var a=SiebelApp.Offlineconstants;var f=SiebelApp.Constants;function e(){var g;var i={};var j={};h=function h(){return g};h.prototype=this;g=new h();g.constructor=h;this.SetCurrReqParam=function(l,k){j[l]=k};this.SetPrevReqParam=function(l,k){i[l]=k};this.SetCurrReqObj=function(k){j=k};this.SetPrevReqObj=function(k){i=k};this.GetCurrReqObj=function(){return j};this.GetPrevReqObj=function(){return i};return g}e.prototype.GetRequestType=function(g,m){var h="";if(!m){g=d.DecodeFromQueryString(g)}var j=g.GetProperty(a.get("SWECMD"));var l=g.GetProperty(a.get("SWEMETHOD"));if(j){j=j.toString()}if(l){l=l.toString()}var i=[a.get("DRILLDOWN"),a.get("NEWRECORD"),a.get("EDITRECORD"),a.get("WRITERECORD"),a.get("EDIT_FIELD"),a.get("POSITION_ON_ROW"),a.get("SWE_POST_CHANGES"),a.get("DELETERECORD"),a.get("ADDRECORD"),a.get("SWE_CLOSE_APPLET"),a.get("UNDORECORD"),a.get("UPDATEPREFMSG"),f.get("SWE_GET_PICK_INFO"),a.get("SCROLL_NEXT_DATA"),a.get("SCROLL_PREV_DATA"),a.get("PICKRECORD"),a.get("CREATERECORD")];switch(j){case a.get("GOTOVIEW"):h=j;break;case a.get("GETVIEWLAYOUT"):if((SiebelApp.OfflineDataMgr.GetRecordParam()).State){j=a.get("NEWLAYOUT")}h=j;break;case a.get("GETCACHEDFRAME"):case a.get("GOTOPOSTEDACTION"):h=j;break;case a.get("GETAPPLETLAYOUT"):j=a.get("NEWLAYOUT");h=j;break;case a.get("INVOKEMETHOD"):case a.get("CANINVOKEMETHOD"):if(i.indexOf(l)!==-1){h=l}break;default:if(!l&&!j){h=a.get("TEXT")}}var k=SiebelApp.OfflineAppMgr.GetAppContext();k.ReqType=h;return h};e.prototype.IsNotificationRequest=function(g){var h=SiebelApp.RequestProcessor.GetRequestType(g,true);var i=false;switch(h){case f.get("SWE_GET_PICK_INFO"):case a.get("DELETERECORD"):case a.get("SWE_CLOSE_APPLET"):case a.get("POSITION_ON_ROW"):case a.get("PICKRECORD"):case a.get("ADDRECORD"):case a.get("SCROLL_NEXT_DATA"):case a.get("SCROLL_PREV_DATA"):case a.get("SWE_POST_CHANGES"):i=true;break;default:i=false}return i};e.prototype.IsSupported=function(g,j){if(!j){var g=d.DecodeFromQueryString(g)}var h=g.GetProperty(f.get("SWE_SERVICE"));if(!h){h=SiebelApp.RequestProcessor.GetRequestType(g,true)}if(!h){h=g.GetProperty(a.get("SWECMD"));if(h){if(h.toString()===a.get("INVOKEMETHOD")){h=g.GetProperty(a.get("SWEMETHOD"))}}}var k=true;if(h){h=h.toString()}switch(h){case a.get("MESSAGEBAR"):case a.get("GOTOBOOKMARKVIEW"):case a.get("GETCURRENTDATE"):k=false;break;case a.get("NEWRECORD"):var i=SiebelApp.S_App.GetActiveView().GetActiveApplet();if(i&&i.GetParentApplet()&&i.GetPopupAppletName()){k=false}break;default:k=true}return k};e.prototype.GetCmdTag=function(j){var k=SiebelApp.OfflineAppMgr.GetCmdMap();var l=k.length;var g=j;for(var h=0;h<l;h++){if(k[h].cmd===j){g=k[h].cmdTag;break}}return g};e.prototype.IsCUDRequest=function(g){var h=SiebelApp.RequestProcessor.GetRequestType(g,true);switch(h){case a.get("WRITERECORD"):case a.get("DELETERECORD"):case a.get("NEWRECORD"):case a.get("CREATERECORD"):return true;default:return false}};e.prototype.HasCachedResponse=function(g){var h=SiebelApp.RequestProcessor.GetRequestType(g,true);switch(h){case a.get("DELETERECORD"):case f.get("SWE_GET_PICK_INFO"):case a.get("SWE_POST_CHANGES"):case a.get("DELETERECORD"):case a.get("SWE_CLOSE_APPLET"):case a.get("POSITION_ON_ROW"):case a.get("PICKRECORD"):case a.get("WRITERECORD"):case a.get("ADDRECORD"):return false;default:return true}};e.prototype.IsAssoc=function(h){var i=CCFMiscUtil_CreatePropSet();i.DecodeFromString(h);var g=i.GetProperty(f.get("SWE_RPC_PROP_RETURN_STATUS"));if(g&&g.toString()===f.get("SWE_RPC_PROP_NEW_POPUP")){return true}return false};return c}())};