/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.JQMFormRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMFormRenderer");define("siebel/jqmformrenderer",["order!3rdParty/jqmobile/mobiscroll.custom-2.5.0.min"],function(){SiebelAppFacade.JQMFormRenderer=(function(){var V=SiebelJS.Dependency("SiebelApp.Utils");var g=SiebelJS.Dependency("SiebelApp.Constants");var U=g.get("SWE_PST_BUTTON_CTRL");var b=g.get("SWE_CTRL_PICK");var aC=g.get("SWE_CTRL_CHECKBOX");var D=g.get("SWE_CTRL_COMBOBOX");var Q=g.get("SWE_CTRL_DATE_TIME_PICK");var Y=g.get("SWE_CTRL_DATE_PICK");var j=g.get("SWE_CTRL_DATE_TZ_PICK");var S=g.get("SWE_CTRL_CALC");var aF=g.get("SWE_CTRL_MAILTO");var o=g.get("SWE_CTRL_TEXTAREA");var ap=g.get("SWE_CTRL_TEXT");var w=g.get("SWE_CTRL_URL");var I=g.get("SWE_CTRL_PHONE");var y=g.get("SWE_CTRL_INKDATA");var p=g.get("SWE_CTRL_LINK");var ai=g.get("SWE_CTRL_LABEL");var at=g.get("SWE_CTRL_CURRENCY_CALC");var R=g.get("SWE_CTRL_PWD");var aH=g.get("SWE_CTRL_MVG");var H=g.get("SWE_CTRL_IMAGECONTROL");var u=/(About Record Applet\w*)|(About SRF Applet\w*)|(About Siebel Applet\w*)|(About View Applet\w*)|(Record Count Applet\w*)|(Technical Support Applet\w*)/;var r=SiebelApp.S_App.LocaleObject;var al=r.GetLocalString("IDS_CALENDAR_PMAM_COMBOBOX_TITLE")||"AM or PM";var ae=r.GetLocalString("IDS_SWE_TIMEPICKER_HOUR")||"Hour";var G=r.GetLocalString("IDS_SWE_TIMEPICKER_MINUTE")||"Minute";var aq=r.GetLocalString("IDS_SWE_TIMEPICKER_SECOND")||"Second";var an=r.GetLocalString("IDS_SWE_MOBISCROLL_DAY")||"Day";var t=r.GetLocalString("IDS_CALENDAR_MONTH_COMBOBOX_TITLE")||"Month";var k=r.GetLocalString("IDS_CALENDAR_YEAR_COMBOBOX_TITLE")||"Year";var ay=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SUN")||"Sun";var aN=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_MON")||"Mon";var aB=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_TUE")||"Tue";var E=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_WED")||"Wed";var aG=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_THU")||"Thu";var am=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_FRI")||"Fri";var e=r.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SAT")||"Sat";var B=[ay,aN,aB,E,aG,am,e];var v=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SUNDAY")||"Sunday";var N=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_MONDAY")||"Monday";var a=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_TUESDAY")||"Tuesday";var ag=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_WEDNESDAY")||"Wednesday";var aE=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_THURSDAY")||"Thursday";var ab=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_FRIDAY")||"Friday";var av=r.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SATURDAY")||"Saturday";var f=[v,N,a,ag,aE,ab,av];var F=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JAN")||"Jan";var aI=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_FEB")||"Feb";var s=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAR")||"Mar";var n=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_APR")||"Apr";var q=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAY")||"May";var h=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUN")||"Jun";var i=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUL")||"Jul";var M=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_AUG")||"Aug";var K=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_SEP")||"Sep";var aA=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_OCT")||"Oct";var aK=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_NOV")||"Nov";var aM=r.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_DEC")||"Dec";var c=[F,aI,s,n,q,h,i,M,K,aA,aK,aM];var C=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JANUARY")||"January";var A=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_FEBRUARY")||"February";var ar=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MARCH")||"March";var P=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_APRIL")||"April";var ao=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MAY")||"May";var ak=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JUNE")||"June";var aL=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JULY")||"July";var ax=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_AUGUST")||"August";var az=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_SEPTEMBER")||"September";var W=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_OCTOBER")||"October";var aj=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_NOVEMBER")||"November";var aw=r.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_DECEMBER")||"December";var x=[C,A,ar,P,ao,ak,aL,ax,az,W,aj,aw];var J=r.GetLocalString("IDS_SWE_MOBILE_ON")||"On";var L=r.GetLocalString("IDS_SWE_MOBILE_OFF")||"Off";var m=null;function aD(aS){SiebelAppFacade.JQMFormRenderer.superclass.constructor.call(this,aS);this.gTaphold=false;this.findBtnName=undefined;var aV="";var aX=new SiebelAppFacade.FormColumnHelper();this.GetColumnHelper=function(){return aX};this.IsPopup=function(){var aZ=$("[name=popup]").html();if(aZ===null||V.IsEmpty(aZ)){return false}else{return true}};this.GetCurRowSel=function(){return -1};this.GetJQMListId=function(){return undefined};this.GetPopupType=function(){if(this.IsPopup()){var aZ=SiebelApp.S_App.GetPopupPM();if(aZ.Get("isPopupAssoc")){aV=("Assoc")}else{if(aZ.Get("isPopupPick")){aV=("Pick")}else{aV=("")}}}return aV};try{var aQ=new SiebelAppFacade.JQMSearchCtrl(this);this.GetSearchCtrl=function(){return aQ}}catch(aU){SiebelJS.Log("Search Control Not Implemented")}var aR=new SiebelAppFacade.JQMMapCtrl(this);this.GetMapCtrl=function(){return aR};var aY=null;this.SetMapFieldArray=function(){aY=aS.Get("GetMapFields")};this.GetMapFieldArray=function(){return aY};var aT=[];this.GetReqFldHashArr=function(){return aT};var aP=null;this.SetFirstControl=function(aZ){aP=aZ};this.GetFirstControl=function(){return aP};var aO=false;this.GetIsImgClicked=function(){return aO};this.SetIsImgClicked=function(aZ){aO=aZ};var aW=null;this.GetIsComboClicked=function(){return aW};this.SetIsComboClicked=function(aZ){aW=aZ};this.GetPM().AttachPostProxyExecuteBinding("NewRecord",function(a0,aZ,a2){var a1=a2.GetProperty(g.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(V.IsEmpty(a1))&&a1===g.get("SWE_RPC_PROP_REFRESH_LAYOUT")){if(aZ.GetProperty("SWESP")!=="true"){SiebelAppFacade.JQMLayout.SetEditableMode(true)}}});this.GetPM().AttachPostProxyExecuteBinding("CreateRecord",function(a0,aZ,a2){var a1=a2.GetProperty(g.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(V.IsEmpty(a1))&&a1===g.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this.GetPM().AttachPostProxyExecuteBinding("EditRecord",function(a0,aZ,a2){var a1=a2.GetProperty(g.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(V.IsEmpty(a1))&&a1===g.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this._EndLife=function(){aQ=null;aR=null;aP=null}}SiebelJS.Extend(aD,SiebelAppFacade.BasePR);aD.prototype.Init=function(){SiebelAppFacade.JQMFormRenderer.superclass.Init.call(this);this.AttachPMBinding("UpdateQuickPickInfo",this.UpdatePick);this.AttachPMBinding("UpdateAppletMessage",this.UpdateAppletMessageUI);this.AttachPMBinding("HandleCtrlDefChange",this.RefreshControl);this.AttachPMBinding("ShowPopup",this.ShowPopup);this.AttachPMBinding("ShowSelection",this.ShowSelection);
this.AttachPMBinding("ResetAppletState",this.ResetRendererState);this.AttachPMBinding("RefreshData",this.BindData);this.AttachPMBinding("FieldChange",this.SetControlValue);this.AttachPMBinding("UpdateStateChange",this.UpdateUIControls);this.AttachPMBinding("InvokeStateChange",this.UpdateUIButtons);this.AttachPMBinding("GetPhysicalControlValue",this.GetPhysicalControlValue);this.AttachPMBinding("SetFocusToCtrl",this.SetFocusToControl);this.AttachPMBinding("FocusFirstControl",this.FocusFirstControl);this.AttachPMBinding("SetHighlightState",this.SetHighlightState);this.AttachPMBinding("UpdateUI",this.ShowSelection)};aD.prototype.UpdatePick=function(){var aQ=this.GetPM();var aS=arguments[arguments.length-1];var aO=aQ.Get("GetActiveControl");var aT=aQ.Get("GetRecordSet")[aQ.Get("GetSelection")];var aX=aO.GetFieldName();var aP=null;var aZ=0;if(!this.IsPopup()){aZ=1}if(HtmlEncode(aQ.Get("GetBusComp").GetFieldValue(aX))){aP=HtmlEncode(aQ.Get("GetBusComp").GetFieldValue(aX))}else{if(aT&&aT[aX]){aP=HtmlEncode(aT[aX])}}var aW=$("[name="+aO.GetInputName()+"]");if((!this.IsPopup())&&aW.find('option[data-placeholder="true"]').length===0){aW.prepend('<option data-placeholder="true" value=""></option>')}if(!V.IsEmpty(aX)&&(aW.find('option[value=""]').length<=aZ)){aW.prepend('<option value=""></option>')}aW.children('option[value!=""]').attr("disabled","disabled");var aV;var aY;var aR;for(var aU=0;aU<aS.length;aU++){aV=HtmlEncode(aS[aU]);aY=aS[aU];if(!V.IsEmpty(aY)){aY=aS[aU].replace(/\"/g,'\\"')}aR=aW.find('option[value="'+aY+'"]');if(aR.length===0){aW.append('<option value="'+aV+'">'+aV+"</option>")}else{aR.removeAttr("disabled")}}aW.children('option[disabled="disabled"]').remove();aW.selectmenu("refresh");aW.trigger("vclick");delete this.inProgress};aD.prototype.ShowUI=function(){var bh=this.GetPM().Get("GetControls");var a7=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var bc={str:""};bc.str=$(a7).find("td.AppletTitle").text();if(/msie/.test(navigator.userAgent.toLowerCase())&&$("body").find(".ui-selectmenu").length){$(".ui-selectmenu").hide()}var bf=null;var bd=false;var a3;this.SetMapFieldArray();$(a7+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){bf=true}});if(bf===null||bf===undefined){var bg=$(a7).find("td.AppletHIFormBorder").find("table.AppletBack");var aS=$(bg).find("span.mceField").html();if(aS===null){bg=$(a7).find("td.AppletHIFormBorder").find("table.GridBack")}var aV=$(a7).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");$(a7).find("td.AppletHIFormBorder").find("tr.AppletButtons").append($(aV).html());aV.remove();var a8=this.GetReqFldHashArr();$(a7).find("div.mceLabel").each(function(bt){var bv;var bs=$(this).html();if(bs&&bs.indexOf("icon_req.gif")>-1){var br=bs.indexOf("<img");bv=bs.substring(br,bs.length+1)}var bu=$(this).closest("tr").find("span.mceField").find("input").attr("name");if(!V.IsEmpty(bv)){a8[bu]=bv;bd=true}});if(bd===false){$(a7).find("div.mceGridLabel").each(function(bt){var bv;var bs=$(this).html();if(bs&&bs.indexOf("icon_req.gif")>-1){var br=bs.indexOf("<img");bv=bs.substring(br,bs.length+1)}var bu=$(this).closest("tr").find("div.mceGridField").find("input").attr("name");if(!V.IsEmpty(bv)){a8[bu]=bv}})}$(bg).empty();var aP={str:""};for(a3 in bh){if(bh.hasOwnProperty(a3)){this.ShowUIControl(bh[a3],aP,bc)}}(bg).append(aP.str).trigger("create");for(a3 in bh){if(bh.hasOwnProperty(a3)){this.PostUIPrep(bh[a3])}}this.ShowSearch()}else{$(a7).find("td.AppletHIFormBorder").show();var aQ=$(a7).find("table.AppletBack");var bk=aQ.length;var a5=this.GetMapFieldArray();var aY=this.GetColumnHelper();for(var aZ in bh){if(bh!==null){a3=bh[aZ];aY.AddColumn(a3.GetName(),a3);var a1=a3.GetFieldName();var aR=a3.GetUIType();var bl=a3.GetDisplayName();var bq=a3.GetInputName();var be=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var bj="";if(!V.IsEmpty(a1)){bj=HtmlEncode(Z(this.GetPM(),a3,be))}if(!V.IsEmpty(a1)){var aT=this.GetPM().Get("GetBusComp").GetField(a1);if(!V.IsEmpty(aT)&&aT.GetDataType()==="phone"){aR="Phone"}}var bp=a3.GetInputName();var bm=$("[name="+bp+"]");var aO=bm.outerWidth();var aW=bm.parent();var bi;var aX;switch(aR){case aC:bm.remove();aX="<p type='checkbox' id='"+bq+"'></p>";aW.append(aX);break;case U:var bb=$(a7).find("td.AppletHIFormBorder").find("table.AppletBack");var ba={str:""};this.ShowUIControl(a3,ba,bc);(bb).append(ba.str).trigger("create");this.PostUIPrep(a3);break;case aF:var a0="";if(bj!==""){bj=bj.concat("?subject="+bc.str);a0='<a id="'+bq+'_mailto" href="mailto:'+bj+'"></a>'}bm.remove();aX=a0+"<p type='email' id='"+bp+"' class='email-ControlId' name='"+bp+"'></p>";aW.append(aX);if(bj!==""){$("#"+bq+"_mailto").addClass("email")}break;case I:var bn="";if(bj!==""){bn='<a id="'+bq+'_tel" href="tel:'+bj+'"></a>'}bm.remove();aX=bn+"<p type='tel' id='"+bp+"' class='tel-ControlId' name='"+bp+"'></p>";aW.append(aX);if(bj!==""){$("#"+bq+"_tel").addClass("tel")}break;case w:var a9="";if(bj!==""){if(bj.match("^http://")===null){bj="http://"+bj}a9='<a id="'+bq+'_url" href="'+bj+'" rel="external" target="foo" class="ui-link-inherit"></a>'}bm.remove();aX=a9+"<p type='url' id='"+bp+"' class='url-ControlId' name='"+bp+"'></p>";aW.append(aX);if(bj!==""){$("#"+bq+"_url").addClass("url")}break;case S:case at:case b:case aH:case ap:bm.remove();aX="<p type='text' id='"+bq+"' class='FormAppletText' name='"+bq+"'></p>";aW.append(aX);break;case Y:case Q:case j:case D:bm.remove();aX="<p type='text' id='"+bq+"' class='FormAppletText'></p>";aW.append(aX);break;case o:bm.remove();aX="<p type='textArea' id='"+bq+"' class='textArea' name='"+bq+"'></p>";aW.append(aX);break;case y:aX='<div id ="'+bq+'" name ="'+bq+'" class = "siebui-ctrl-sigpad"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+bq+'-clearButton" style="display:none"></p><input class = "'+bq+'" style="display:none"></input></div>';bm.remove();aW.append(aX);if(this.GetPM().ExecuteMethod("CanUpdate",a3.GetName())){$("#"+bq).signaturePad({output:$("."+bq),clear:".siebui-ctrl"+bq+"-clearButton"})}else{try{$("#"+bq).signaturePad({displayOnly:true}).regenerate(bj)}catch(a6){if(a6.name==="SyntaxError"){if(bj===""||bj.match("Cancelled*")){$("#"+bq).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+bq).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(a6)}}}break;case p:case ai:this.ShowUIControl(a3,ba,bc);break}}}var a4=this.GetPM().Get("GetBusComp").GetParentBusComp();var aU=$(a7).find("td.AppletHIFormBorder").find("tr.AppletButtons");var bo=$(a7).find("tr.AppletHIFormBorderChild_Keep");if(aU.length){if(!a4||bo.length){aU[0].className="form-applet-header"}else{aU[0].parentNode.removeChild(aU[0])}}var a2=$(a7).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");$(a7).find("td.AppletHIFormBorder").find("tr.form-applet-header").append($(a2).html());a2.remove();a2=null}a7=null};function au(aS){var aR=false;var aQ=$(aS).height();var aO=$(aS).closest(".siebui-NoScrollFormContainer");
var aP=$(aO).height();if(!V.IsEmpty(aP)&&(aQ>aP)){var aT=parseInt($(aO).css("height"),10);if((!V.IsEmpty(aT))&&($(window).height()>aT)){aR=true}}return aR}aD.prototype.ExpandContainer=function(){var aT=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aS=$(aT).height();var aP=$(aT).closest(".siebui-NoScrollFormContainer");var aR=$(aP).height();var aV=$(window).height();if(!V.IsEmpty(aR)&&(aS>aR)){var aU=$(aP).parent().children("div");for(var aQ=0;aQ<aU.length;aQ++){if(aU[aQ].id===aP.attr("id")){var aO=aU[aQ].nextSibling;if(!V.IsEmpty(aO)&&aO.clientHeight>0){$("#"+(aO).id).removeClass("siebui-ShowmoreSiblingContainer").addClass("siebui-ShowmoreSiblingContainer")}}}$("#"+aP.attr("id")).removeClass("siebui-ShowlessFormContainer");$("#"+aP.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowmoreFormContainer");if(aS>aV){$("#"+aP.attr("id")).removeClass("siebui-ShowmoreFormContainerXL").addClass("siebui-ShowmoreFormContainerXL")}$(aP).css("height",aS+"px")}$(aP).children("#showMoreControl").remove();$(aP).prepend(aa())};aD.prototype.ContractContainer=function(){var aS=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aR=$(aS).height();var aP=$(aS).closest(".siebui-NoScrollFormContainer");$("#"+aP.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowlessFormContainer");if($(aP).hasClass("siebui-ShowmoreFormContainerXL")){$("#"+aP.attr("id")).removeClass("siebui-ShowmoreFormContainerXL")}var aT=$(aP).parent().children("div");for(var aQ=0;aQ<aT.length;aQ++){if(aT[aQ].id===aP.attr("id")){var aO=aT[aQ].nextSibling;if(!V.IsEmpty(aO)){$("#"+(aO).id).removeClass("siebui-ShowmoreSiblingContainer")}}}$(aP).children("#showLessControl").remove();$(aP).prepend(z())};aD.prototype.RefreshContainer=function(aX){var aQ=$(aX).closest(".siebui-NoScrollFormContainer");if(!$(aQ).length&&$(m).length){aQ=m}var aV=$(aQ).parent().children("div");for(var aR=0;aR<aV.length;aR++){var aT=false;var aZ=false;var aS=$(aV[aR]);var a0=$(aS).nextSibling;if($(aS).hasClass("siebui-NoScrollFormContainer")){if($(aS).children("#showMoreControl").length){aT=true}if($(aS).children("#showLessControl").length){aZ=true}var aU=$(aS).find("form").closest("div");var aO=au(aU);var aP=$(aU).height();if(!aO){if(aT){$(aS).children("#showMoreControl").remove();if($(aS).hasClass("siebui-ShowlessFormContainer")){$("#"+aS.attr("id")).removeClass("siebui-ShowlessFormContainer").addClass("siebui-ShowlessFormContainer")}if($(aS).hasClass("siebui-ShowmoreFormContainer")){$("#"+aS.attr("id")).removeClass("siebui-ShowmoreFormContainer")}}if(aZ){if(aP<=$(window).height()/2){$(aS).children("#showLessControl").remove();if($(aS).hasClass("siebui-ShowmoreFormContainer")){$("#"+aS.attr("id")).removeClass("siebui-ShowmoreFormContainer")}}else{if(aP>$(window).height()){$("#"+aS.attr("id")).removeClass("siebui-ShowmoreFormContainerXL").addClass("siebui-ShowmoreFormContainerXL")}else{$("#"+aS.attr("id")).removeClass("siebui-ShowmoreFormContainerXL")}}}if(!V.IsEmpty(a0)){if($(a0).hasClass("siebui-ShowmoreSiblingContainer")){$("#"+a0.attr("id")).removeClass("siebui-ShowmoreSiblingContainer")}}}else{if(aZ){if(aP>$(window).height()){if(!$(aS).hasClass("siebui-ShowmoreFormContainerXL")){$("#"+aS.attr("id")).addClass("siebui-ShowmoreFormContainerXL")}}$(aS).css("height",$(aX).height()+"px");var aY=aa();$(aS).children("#showLessControl").remove();$(aS).prepend(aY)}else{var aW=z();$(aS).children("#showMoreControl").remove();$(aS).prepend(aW)}}}}};function z(){var aP=$("<div id='showMoreControl'>");var aO='<button id="btnMoreCtrl" data-role="button" data-inline="true" data-iconpos="center" data-icon="btn_more" class="ui-icon-btn_more"></button></div>';aP.html(aO);aP.trigger("create");$(aP).removeClass("siebui-showmore").addClass("siebui-showmore");return $(aP)}function aa(){var aP=$("<div id='showLessControl'>");var aO='<button id="btnLessCtrl" data-role="button" data-inline="true" data-iconpos="center" data-icon="btn_less" class="ui-icon-btn_less"></button></div>';aP.html(aO);aP.trigger("create");$(aP).removeClass("siebui-showless").addClass("siebui-showless");return $(aP)}aD.prototype.ResetRendererState=function(){};aD.prototype.ShowUIControl=function(a4,aO,bl){if(!af(a4)){return}var aU=a4.GetFieldName();var aW=a4.GetUIType();var a2=a4.GetDisplayName();var a7=a4.GetInputName();var a1;var bj=this.GetMapFieldArray();var a0=this.GetReqFldHashArr();if(!V.IsEmpty(a0[a7])){a1=a0[a7]+" ";a2=a1.concat(a2)}var aV=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var bc="";if(!V.IsEmpty(aU)){bc=HtmlEncode(Z(this.GetPM(),a4,aV))}var bi=(new Date()).getFullYear();var aT;if(!V.IsEmpty(aU)){var aR=this.GetPM().Get("GetBusComp").GetField(aU);if(!V.IsEmpty(aR)&&aR.GetDataType()==="phone"){aW="Phone"}}switch(aW){case ap:aT=X(a7,a2,bc,ap,"text",a4);aO.str=aO.str.concat(aT);break;case Y:aT=X(a7,a2,bc,Y,"date",a4);aO.str=aO.str.concat(aT);break;case Q:aT=X(a7,a2,bc,Q,"datetime",a4);aO.str=aO.str.concat(aT);break;case j:aT=X(a7,a2,bc,j,"datetime",a4);aO.str=aO.str.concat(aT);break;case aF:if(bc!==""){bc=bc.concat("?subject="+bl.str)}aT=X(a7,a2,bc,aF,"email",a4);aO.str=aO.str.concat(aT);break;case I:aT=X(a7,a2,bc,I,"tel",a4);aO.str=aO.str.concat(aT);break;case w:if(a4.GetName()==="BookmarkImage"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){$("[name='"+a4.GetInputName()+"']").remove();$($("table.FormSection")[0]).remove()}else{aT=X(a7,a2,bc,w,"url",a4);aO.str=aO.str.concat(aT)}break;case o:aT=X(a7,a2,bc,o,"textarea",a4);aO.str=aO.str.concat(aT);break;case S:aT=X(a7,a2,bc,S,"number",a4);aO.str=aO.str.concat(aT);break;case at:aT=X(a7,a2,bc,at,"number",a4);aO.str=aO.str.concat(aT);break;case R:aT=X(a7,a2,bc,R,"password",a4);aO.str=aO.str.concat(aT);break;case aC:aT=X(a7,a2,bc,aC,"checkbox",a4);aO.str=aO.str.concat(aT);break;case D:aT=X(a7,a2,bc,D,"select",a4,this.IsPopup());aO.str=aO.str.concat(aT);break;case U:var aP=a4.GetMethodName();var a6=a4.GetDisplayName();var bb="";var bg=" data-iconpos='center' ";var aX=false;var bh=this.GetPM().ExecuteMethod("CanInvokeMethod",aP);var ba=a7+"_"+g.get("SWE_FILE_NAME_STR");var aS="";var aZ=l.call(this,a4);if(this.IsPopup()){aS=" data-theme='c'"}if(aP==="ExecuteQuery"||aP==="NewQuery"||aP==="UndoQuery"||aP==="GetChart"||aP==="ShowQueryAssistant"||aP==="GotoPrevious"||aP==="GotoNext"||aP==="GotoDate"||aP==="GotoToday"||aP==="GotoWeekly"||aP==="GotoMonthly"||aP==="AddAppointment"||aP==="ToggleCycle"||aP==="EditViewLayout"||aP==="HideAllApplets"||aP==="MaximizeAllApplets"||aP==="MinimizeAllApplets"||aP==="ResetViewLayout"||aP==="ShowAllApplets"||aP==="ShowViewLayout"){}else{var bk=bh?a4.GetEnabledBmp():a4.GetDisabledBmp();if(bk&&(aP!=="GotoNextSet"&&aP!=="GotoPreviousSet")){$("#"+a7).append(bk).addClass(bh?"sweButtonImageEnabled":"sweButtonImageDisabled");break}if(aP==="DeleteRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='delete'")}else{if(aP==="NewRecord"&&a4.GetMethodPropSet().GetProperty("SWESP")==="true"){bb=bb.concat(bg);bb=bb.concat("data-icon='check'")
}else{if(aP==="NewRecord"||aP==="CreateRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='custom-plus'")}else{if(aP==="WriteRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='custom-save'")}else{if(aP==="EditRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='custom-edit'")}else{if(aP==="UndoRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='custom-cancel'")}else{if(aP==="GotoNextSet"){bb=bb.concat(bg);bb=bb.concat("data-icon='arrow-r'")}else{if(aP==="GotoPreviousSet"){bb=bb.concat(bg);bb=bb.concat("data-icon='arrow-l'")}else{if(aP==="PickRecord"||aP==="AddRecord"){bb=bb.concat(bg);bb=bb.concat("data-icon='check'")}else{if(aP==="CloseApplet"){bb=bb.concat(bg);bb=bb.concat("data-icon='delete'")}else{if(aP==="ShowMapLocations"){bb=bb.concat(bg);bb=bb.concat("data-icon='marker'");bb=bb.concat('data-iconpos="notext"')}else{if(aP==="NxtDay"){bb=bb.concat('data-iconpos="notext"');bb=bb.concat("data-icon='arrow-r'")}else{if(aP==="PrevDay"){bb=bb.concat('data-iconpos="notext"');bb=bb.concat("data-icon='arrow-l'")}else{if(aP==="Submit"){bb=bb.concat(bg);bb=bb.concat("data-icon='submit'")}else{if(aP==="Sign"){bb=bb.concat(bg);bb=bb.concat("data-icon='sign'")}else{aX=true;bb=bb.concat(bg);bb=bb.concat("data-icon='null'")}}}}}}}}}}}}}}}bb=bb.concat(" title='"+a6+"'");if(!aX){aT="<button type='button' id='"+a7+"_Ctrl' data-inline='true'"+aZ+aS+bb+">"+a6+"</button>"}else{if(aP==="NewFileAttachment"){var aY=this.GetPM().Get("GetAppletLabel");if(aY!==""){aY=aY+":"}aT="<div id='"+a7+"'class='siebui-file-label'title='"+aY+a6+"'><input id='"+ba+"' type='file' class='siebui-file-input' name='"+g.get("SWE_FILE_NAME_STR")+"'/></div>"}else{aT="<button type='button' id='"+a7+"_Ctrl' data-inline='true'"+aZ+aS+bb+">"+a6+"</button>"}}$("#"+a7).append(aT).trigger("create");if(aP==="GotoNextSet"){$("#"+a7+"_Ctrl").parent().addClass("ui-btn-recnav-next")}if(aP==="GotoPreviousSet"){$("#"+a7+"_Ctrl").parent().addClass("ui-btn-recnav-prev")}if(aP==="NxtDay"){$("#"+a7+"_Ctrl").parent().addClass("ui-btn-NxtDay")}else{if(aP==="PrevDay"){$("#"+a7+"_Ctrl").parent().addClass("ui-btn-PrevDay")}else{if(aP==="ShowMapLocations"){$("#"+a7+"_Ctrl").parent().addClass("ui-btn-ShowMap")}}}}if(this.IsPopup()&&a4.GetMethodName()==="Find"){this.findBtnName="#"+a7+"_Ctrl";$(this.findBtnName).parent().hide()}if(aP==="NewFileAttachment"){var a9=$("#"+ba);var a5=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));var bd="<button type='button' id='"+a7+"_Ctrl' data-inline='true'"+aZ+aS+bb+">"+a6+"</button>";a9.parent().prepend(bd).trigger("create");a9.parent().removeClass();a9.parent().addClass("siebui-file-label");a9.removeClass("ui-input-text ui-body-b");SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:a5,fileInput:a9,formData:{},change:ah,fail:aJ,done:d,drop:ah,scope:this});a9=a5=null}break;case b:aT=X(a7,a2,bc,b,"text",a4);aO.str=aO.str.concat(aT);break;case y:aT=X(a7,a2,bc,y,"ink",a4);aO.str=aO.str.concat(aT);break;case p:var be=$("#"+a4.GetInputName());if(be.length===1){var bf=a4.GetMethodName();var a3=this.GetPM().ExecuteMethod("CanInvokeMethod",bf);var aQ=a3?a4.GetEnabledBmp():a4.GetDisabledBmp();if(aQ){be.append(aQ)}else{be.append(O.call(this,a4)).addClass("siebui-ctrl-link")}}break;case ai:if(a4.GetMethodName()){var a8=$("#"+a4.GetInputName());a8.append(O.call(this,a4)).addClass("siebui-ctrl-label")}break}};function O(aO){return'<a  id ="'+aO.GetInputName()+'_mb" tabindex ="'+aO.GetSeq()+'" href="javascript:void(0)" >'+aO.GetDisplayName()+"</a>"}function ac(aR,aP,aO,aS){var aQ="";aQ='<a id="'+aP+'_maplink" '+aS+' href="#" name = "'+aP+'_maplink" class= "mapLink"></a>';return aQ}function Z(aQ,aV,aO){var aT=aQ.Get("IsInQueryMode");var aU=aV.GetName();var aS=aV.GetFieldName();var aP=aQ.ExecuteMethod("IsPrivateField",aU);var aR="";if(!V.IsEmpty(aS)||aP||!aQ.Get("IsPure")){if(aT||aP||!aQ.Get("IsPure")){if(!aT||!aQ.Get("IsPure")){aR=aQ.ExecuteMethod("GetFormattedFieldValue",aV,false)}else{aR=(V.IsEmpty(aO)||V.IsEmpty(aO[aS]))?"":aO[aS]}}else{aR=aQ.ExecuteMethod("GetFormattedFieldValue",aV,true)}}return aR}aD.prototype.InvokeControlMethod=function(aR){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aQ=aR.GetMethodPropSet();var aO=aQ.Clone();var aP={};aP.async=true;aP.mask=true;aP.target=SiebelApp.S_App.GetTargetViewContainer();aP.cb=function(){var aS=Array.prototype.slice.call(arguments);var aT=aS?aS[aS.length-2]:"";aT=aT?aT.GetProperty(g.get("SWE_RPC_PROP_STATUS")):"";if(aT!==g.get("SWE_RPC_PROP_NEW_LAYOUT")&&aT!==g.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&aT!==g.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};this.GetPM().OnControlEvent(g.get("PHYEVENT_INVOKE_CONTROL"),aR.GetMethodName(),aO,aP)};aD.prototype.ShowSearch=function(){};aD.prototype.PostUIPrep=function(aW){if(!af(aW)){return}var aR=aW.GetFieldName();var aT=aW.GetUIType();var aY=aW.GetInputName();var aV=aW.GetDisplayName();var a7=(new Date()).getFullYear();var aS=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var a2="";if(!V.IsEmpty(aR)){a2=HtmlEncode(Z(this.GetPM(),aW,aS))}var a8=this.GetMapFieldArray();var ba;var a6={dFormat:"mm/dd/yy",tFormat:"HH:ii:ss",dOrder:"mmddyy",tWheels:"HHiiss"};if(!V.IsEmpty(aR)){var aP=this.GetPM().Get("GetBusComp").GetField(aR);if(!V.IsEmpty(aP)&&aP.GetDataType()==="phone"){aT="Phone"}}switch(aT){case Y:this.ConvertLocale(a6);$("#"+aY).mobiscroll({preset:"date",dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c});break;case Q:this.ConvertLocale(a6);$("#"+aY).mobiscroll({preset:"datetime",timeFormat:a6.tFormat,timeWheels:a6.tWheels,dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,ampmText:al,hourText:ae,minuteText:G,secText:aq,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c});break;case j:this.ConvertLocale(a6);$("#"+aY).mobiscroll({preset:"datetime",timeFormat:a6.tFormat,timeWheels:a6.tWheels,dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,ampmText:al,hourText:ae,minuteText:G,secText:aq,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c});break;case aF:if(a2!==""){$("#"+aY+"_mailto").addClass("email")}break;case I:if(a2!==""){$("#"+aY+"_tel").addClass("tel")}break;case w:if(a2!==""){$("#"+aY+"_url").addClass("url")}break;case D:var aQ=$("[name="+aW.GetInputName()+"]");if(this.IsPopup()){aQ.removeAttr("data-theme").attr("data-theme","c")}aQ.selectmenu();break;case aC:var aZ=ad.call(this,aW,"Y",null);var aU=ad.call(this,aW,"N",null);if(aZ!==""&&aU!==""){var a0=$("#"+aY+"_jqm span.ui-slider-label:first");var a4=a0.html()===J?aZ:aU;a0.empty().append(a4);a0=$("#"+aY+"_jqm span.ui-slider-label:last");a4=a0.html()===L?aU:aZ;a0.empty().append(a4)}break;case U:var aO=aW.GetMethodName();var aX=aW.GetDisplayName();var a5=this.GetPM().ExecuteMethod("CanInvokeMethod",aO);
var a9=a5?aW.GetEnabledBmp():aW.GetDisabledBmp();if(aO==="ExecuteQuery"||aO==="NewQuery"||aO==="UndoQuery"||aO==="GetChart"||aO==="ShowQueryAssistant"||aO==="GotoPrevious"||aO==="GotoNext"||aO==="GotoDate"||aO==="GotoToday"||aO==="GotoWeekly"||aO==="GotoMonthly"||aO==="AddAppointment"||aO==="ToggleCycle"||aO==="EditViewLayout"||aO==="HideAllApplets"||aO==="MaximizeAllApplets"||aO==="MinimizeAllApplets"||aO==="ResetViewLayout"||aO==="ShowAllApplets"||aO==="ShowViewLayout"){}else{if(!a5&&(a9===null||(a9&&(aO==="GotoNextSet"||aO==="GotoPreviousSet")))){if(aO==="ShowMapLocations"&&typeof(google)!=="undefined"){$("#"+aY+"_Ctrl").button("enable");$("#"+aY+"_Ctrl").addClass("showMapLocations")}else{$("#"+aY+"_Ctrl").button("disable");if(aO==="NewFileAttachment"){var a1=aY+"_"+g.get("SWE_FILE_NAME_STR");$("#"+a1).attr("disabled","disabled")}}}}break;case b:SiebelAppFacade.ControlBuilder.Pick({target:$("[name='"+aW.GetInputName()+"']"),className:"applet-form-pick",scope:this,click:function(be){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var bd=aW.GetMethodPropSet();var bb=bd.Clone();var bc={};bc.async=false;bc.mask=true;bc.target=SiebelApp.S_App.GetTargetViewContainer();bc.cb=function(){SiebelApp.S_App.uiStatus.Free()};this.GetPM().OnControlEvent(g.get("PHYEVENT_INVOKE_PICK"),be,bb,bc)},control:aW});break;case y:if(this.GetPM().ExecuteMethod("CanUpdate",aW.GetName())){$("#"+aY).signaturePad({output:$("."+aY),clear:".siebui-ctrl"+aY+"-clearButton"})}else{try{$("#"+aY).signaturePad({displayOnly:true}).regenerate(a2)}catch(a3){if(a3.name==="SyntaxError"){if(a2===""||a2.match("Cancelled*")){$("#"+aY).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+aY).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(a3)}}}break}};aD.prototype.ConvertLocale=function(aQ){if(SiebelApp.S_App.LocaleObject){var aY=SiebelApp.S_App.LocaleObject.GetTimeFormat();var aR=SiebelApp.S_App.LocaleObject.GetDateFormat();var aZ=SiebelApp.S_App.LocaleObject.GetDispDateSeparator();var aV=SiebelApp.S_App.LocaleObject.GetDispTimeSeparator();var a2=SiebelApp.S_App.LocaleObject.GetDispTimeAM();var aX=SiebelApp.S_App.LocaleObject.GetDispTimePM();var aP=aY.indexOf("p")>-1?true:false;var aO=V.TokenizeString(aY," ");var aU=0;var aW="";var a1="";var aT="";var a3="";var a0=V.TokenizeString(aR,aZ);for(aU=0;aU<a0.length;aU++){if(a0[aU].toLowerCase()==="m"){aW=aW.concat("m");a1=a1.concat("m")}else{if(a0[aU].toLowerCase()==="mm"){aW=aW.concat("mm");a1=a1.concat("mm")}else{if(a0[aU].toLowerCase()==="mmm"){aW=aW.concat("M");a1=a1.concat("M")}else{if(a0[aU].toLowerCase()==="mmmm"){aW=aW.concat("MM");a1=a1.concat("MM")}else{if(a0[aU].toLowerCase()==="d"){aW=aW.concat("d");a1=a1.concat("d")}else{if(a0[aU].toLowerCase()==="dd"){aW=aW.concat("dd");a1=a1.concat("dd")}else{if(a0[aU].toLowerCase()==="ddd"){aW=aW.concat("D");a1=a1.concat("D")}else{if(a0[aU].toLowerCase()==="dddd"){aW=aW.concat("DD");a1=a1.concat("DD")}else{if(a0[aU].toLowerCase()==="yy"){aW=aW.concat("y");a1=a1.concat("y")}else{if(a0[aU].toLowerCase()==="yyyy"){aW=aW.concat("yy");a1=a1.concat("yy")}}}}}}}}}}if(aU<a0.length-1){aW=aW.concat("/")}}if(aW!==""){aQ.dFormat=aW}if(a1!==""){aQ.dOrder=a1}if(aO.length>0){var aS=aO[0];if(aO[0]==="p"){if(aO.length>1){aS=aO[1];aT=aT.concat("A ")}else{aT=aT.concat("A")}a3=a3.concat("A")}a0=V.TokenizeString(aS,aV);for(aU=0;aU<a0.length;aU++){if(a0[aU].toLowerCase()==="h"){aT=aP?aT.concat("h"):aT.concat("H");a3=aP?a3.concat("h"):a3.concat("H")}if(a0[aU].toLowerCase()==="hh"){aT=aP?aT.concat("hh"):aT.concat("HH");a3=aP?a3.concat("hh"):a3.concat("HH")}if(a0[aU].toLowerCase()==="m"){aT=aT.concat("i");a3=a3.concat("i")}if(a0[aU].toLowerCase()==="mm"){aT=aT.concat("ii");a3=a3.concat("ii")}if(a0[aU].toLowerCase()==="s"){aT=aT.concat("s");a3=a3.concat("s")}if(a0[aU].toLowerCase()==="ss"){aT=aT.concat("ss");a3=a3.concat("ss")}if(aU<a0.length-1){aT=aT.concat(":")}if(aU===a0.length-1&&aP&&aO[0]!=="p"){aT=aT.concat(" A");a3=a3.concat("A")}}}if(aT!==""){aQ.tFormat=aT}if(a3!==""){aQ.tWheels=a3}}};function ad(aT,aS,aR){var aO="";var aU=SiebelApp.S_App.GetIconMap();var aQ=aU[SiebelApp.S_App.LookupStringCache(aT.GetIconMap())];if(aQ){for(var aP=0;aP<aQ.length;aP++){if(!V.IsEmpty(aS)&&aQ[aP].iconName===aS){return aQ[aP].iconImage}if(aQ[aP].iconName==="Default"){aO=aQ[aP].iconImage}}if(!V.IsEmpty(aO)){return aO}}return""}function l(aR,aQ){var aO="";var aP=aR;if((aP!==undefined)){if(!V.IsEmpty(aQ)){aQ="_"+aQ}else{aQ=""}if(typeof(aP.GetObjectType)==="function"){aO=aO+'ot="'+aP.GetObjectType()+aQ+'"'}if(typeof(aP.GetRepstrName)==="function"){aO=aO+' rn="'+aP.GetRepstrName()+aQ+'"'}if(typeof(aP.GetUIName)==="function"){aO=aO+' un="'+aP.GetUIName()+aQ+'" '}}return aO}function X(a0,aY,aZ,aW,aQ,aR,aX){var aS="<div id='"+a0+"_jqm' data-role='fieldcontain'>";var aP="";aP=l.call(this,aR);var aV="<label for='"+a0+"' id='"+a0+"_label'>"+aY+"</label>";switch(aW){case Y:case Q:case j:aS=aS.concat(aV);aS=aS.concat('<input type="text" id="'+a0+'" name="'+a0+'" '+aP+'class="mobiscroll" value="'+aZ+'"/>');break;case ap:aS=aS.concat(aV);aS=aS.concat('<input type="'+aQ+'" id="'+a0+'"'+aP+' name="'+a0+'" value="'+aZ+'"/>');break;case S:case at:aQ="text";aS=aS.concat(aV);aS=aS.concat('<input type="'+aQ+'" pattern="[0-9]*" id="'+a0+'"'+aP+' name="'+a0+'" value="'+aZ+'"/>');break;case R:aS=aS.concat(aV);aS=aS.concat('<input type="'+aQ+'" id="'+a0+'" name="'+a0+'"'+aP+' value="'+aZ+'"/>');break;case w:var aO="";if(aZ!==""){if(aZ.match("^http://")===null){aZ="http://"+aZ}aO='<a id="'+a0+'_url" href="'+aZ+'" rel="external" target="foo" class="ui-link-inherit"></a>'}aS=aS.concat("<label for='"+a0+"' id='"+a0+"_label'>"+aY+"</label>");aS=aS.concat("<input type='"+aQ+"' id='"+a0+"' name='"+a0+"'"+aP+">"+aO+"</input>");break;case I:var aT="";if(aZ!==""){aT='<a id="'+a0+'_tel" href="tel:'+aZ+'"></a>'}aS=aS.concat("<label for='"+a0+"' id='"+a0+"_label'>"+aY+"</label>");aS=aS.concat("<input type='"+aQ+"' id='"+a0+"' name='"+a0+"'"+aP+">"+aT+"</input>");break;case aF:var aU="";if(aZ!==""){aU='<a id="'+a0+'_mailto" href="mailto:'+aZ+'"></a>'}aS=aS.concat("<label for='"+a0+"' id='"+a0+"_label'>"+aY+"</label>");aS=aS.concat("<input type='"+aQ+"' id='"+a0+"' name='"+a0+"'"+aP+">"+aU+"</input>");break;case o:aS=aS.concat(aV);aS=aS.concat('<textarea type="textarea" id="'+a0+'" maxlength="255" name="'+a0+'"'+aP+' value="'+aZ+'">'+aZ+"</textarea>");break;case aC:aS=aS.concat("<label for="+a0+">"+aY+"</label><select name="+a0+" id="+a0+" data-role='slider'"+aP+"><option value='N'>"+L+"</option><option value='Y'>"+J+"</option></select>");break;case D:if(!aX){aS=aS.concat('<label for="'+a0+'" class="select">'+aY+'</label><select data-native-menu="false" class="custom_select" id="'+a0+'"'+aP+' name="'+a0+'" value="'+aZ+'"><option value="'+aZ+'">'+aZ+"</option></select>")}else{aS=aS.concat('<label for="'+a0+'" class="select">'+aY+'</label><select id="'+a0+'" class="select" name="'+a0+'"'+aP+' value="'+aZ+'"><option value="'+aZ+'">'+aZ+"</option></select>")
}break;case b:aS=aS.concat("<label for='"+a0+"' id='"+a0+"_label'>"+aY+"</label>");aS=aS.concat("<input type='"+aQ+"' id='"+a0+"' name='"+a0+"'"+aP+"></input>");break;case y:aS=aS.concat('<div id ="'+a0+'"'+aP+'name ="'+a0+'"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+a0+'-clearButton" style="display:none"></p><input class = "'+a0+'" style="display:none"></input></div>');break}aS=aS.concat("</div>");return aS}aD.prototype.EndLife=function(){$("#s_"+this.GetPM().Get("GetFullId")+"_div").find(".custom_select").unbind();$("#s_"+this.GetPM().Get("GetFullId")+"_div").find(".select").unbind();$("#s_"+this.GetPM().Get("GetFullId")+"_div").off("click");$(document).unbind("mousedown.SiebelAppFacade.JQMFormRenderer");this._EndLife();SiebelAppFacade.JQMFormRenderer.superclass.EndLife.call(this)};aD.prototype.GetSelectedRow=function(aO){return -1};aD.prototype.GetSelectedControl=function(aO){var aQ=this.GetPM().Get("GetPlaceholder");var aP="jqmform_"+aQ+"_";aO=aO.replace(aP,"");aQ=null;return aO};aD.prototype.GetColumnControl=function(aO){return this.GetColumnHelper().GetColumnControl(aO)};aD.prototype.OnFocusInput=function(a4){var a1=a4.data.ctx;var a5=a1.GetSelectedRow($(this).attr("id"));var aZ=a1.GetCurRowSel();if(parseInt(a5,10)===aZ){var a3=$(".aSwipeBtn").length;if(a3!==0){return}var aY=$(this).attr("id");var aX=a1.GetSelectedControl(aY);var aW=a1.GetColumnControl(aX);var aU=aW.GetUIType();var aR;var aT=a1.GetPM().Get("GetRecordSet")[a1.GetPM().Get("GetSelection")];var a2=HtmlEncode(a1.GetPM().ExecuteMethod("GetFormattedFieldValue",aW,false));var aS=aW.GetFieldName();var aV=l.call(this,aW);if(!V.IsEmpty(aS)){var aO=a1.GetPM().Get("GetBusComp").GetField(aS);if(!V.IsEmpty(aO)&&aO.GetDataType()==="phone"){aU=I}}if(a1.GetPM().ExecuteMethod("CanUpdate",aW.GetName())){var a7=(new Date()).getFullYear();var a6={dFormat:"mm/dd/yy",tFormat:"HH:ii:ss",dOrder:"mmddyy",tWheels:"HHiiss"};var aP;var a0;switch(aU){case ap:aR=$(this).find("input").length;if(aR===0){a0="text";$(this).html("<input type='"+a0+"' "+aV+" value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case b:aR=$(this).find("input").length;if(aR===0){aP="<input class = 'jqmform_pick_input' readonly = 'readonly' id='"+aY+"' name='"+aY+"' "+aV+" value='"+a2+"'/>";$(this).html(aP).trigger("create");$(this).find("input").focus();SiebelAppFacade.ControlBuilder.Pick({target:$(".jqmform_pick_input"),className:"applet-jqmlist-pick",scope:this,click:function(bb){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var ba=bb.GetMethodPropSet();var a8=ba.Clone();var a9={};a9.async=false;a9.mask=true;a9.target=SiebelApp.S_App.GetTargetViewContainer();a9.cb=function(){SiebelApp.S_App.uiStatus.Free()};a1.GetPM().OnControlEvent(g.get("PHYEVENT_INVOKE_PICK"),bb,a8,a9)},control:aW})}else{return}break;case Y:aP="<input type='text' id='"+aY+"' class='mobiscroll jqmtable_JDatePick_input' "+aV+" value='"+a2+"'/>";$(this).html(aP).trigger("create");a1.ConvertLocale(a6);$(".jqmtable_JDatePick_input").scroller({preset:"date",showOnFocus:false,dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c,onSelect:a1.OnCloseDateTimePick,onCancel:a1.OnCancelDateTimePick});$(".jqmtable_JDatePick_input").scroller("show");break;case Q:aP="<input type='text' id='"+aY+"' class='mobiscroll jqmtable_JDateTimePick_input' "+aV+" value='"+a2+"'/>";$(this).html(aP).trigger("create");a1.ConvertLocale(a6);$(".jqmtable_JDateTimePick_input").scroller({preset:"datetime",showOnFocus:false,timeFormat:a6.tFormat,timeWheels:a6.tWheels,dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,ampmText:al,hourText:ae,minuteText:G,secText:aq,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c,onSelect:a1.OnCloseDateTimePick,onCancel:a1.OnCancelDateTimePick});$(".jqmtable_JDateTimePick_input").scroller("show");break;case j:aP="<input type='text' id='"+aY+"' class='mobiscroll jqmtable_JDateTimeZonePick_input' "+aV+" value='"+a2+"'/>";$(this).html(aP).trigger("create");a1.ConvertLocale(a6);$(".jqmtable_JDateTimeZonePick_input").scroller({preset:"datetime",showOnFocus:false,timeFormat:a6.tFormat,timeWheels:a6.tWheels,dateOrder:a6.dOrder,dateFormat:a6.dFormat,endYear:a7+20,startYear:a7-100,ampmText:al,hourText:ae,minuteText:G,secText:aq,dayText:an,monthText:t,yearText:k,dayNames:f,dayNamesShort:B,monthNames:x,monthNamesShort:c,onSelect:a1.OnCloseDateTimePick,onCancel:a1.OnCancelDateTimePick});$(".jqmtable_JDateTimeZonePick_input").scroller("show");break;case aC:a2=$(this).parent().attr("value");break;case I:aR=$(this).find("input").length;if(aR===0){a0="tel";$(this).html("<input type='"+a0+"' "+aV+" value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case aF:aR=$(this).find("input").length;if(aR===0){a0="email";$(this).html("<input type='"+a0+"' "+aV+" value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case w:aR=$(this).find("input").length;if(aR===0){a0="url";$(this).html("<input type='"+a0+"' "+aV+" value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case D:aR=$(this).find("select").length;if(aR===0){aP='<select data-native-menu="false" class="custom_select" data-theme="c" id="'+aY+'" '+aV+' name="'+aW.GetInputName()+'" value="'+a2+'"><option value="'+a2+'">'+a2+"</option></select>";$(this).html(aP).trigger("create");var aQ=$("[id="+aY+"-button]");aQ.focus();aQ.bind("touchend mouseup",{ctx:this,ctrl:aW},function(ba){var a8=$(window).height();var a9;if(window.innerHeight>window.innerWidth){a9=a8*0.6}else{a9=a8*0.3}$(".ui-selectmenu").removeAttr("style");$(".ui-selectmenu").css("max-height",a9+"px");if(a1.GetPM().ExecuteMethod("CanUpdate",ba.data.ctrl.GetName())){T.call(a1,ba.data.ctrl)}});$(document).unbind("mousedown.SiebelAppFacade.JQMFormRenderer");$(document).bind("mousedown.SiebelAppFacade.JQMFormRenderer",{ctx:a1},a1.DocClicked);aQ.bind("blur",{ctx:a1,ctrl:aW},a1.OnBlurInputCombo);aQ.bind("mousedown",{ctx:a1},a1.ComboClicked)}else{return}break;case S:case at:aR=$(this).find("input").length;if(aR===0){a0="text";$(this).html("<input type='"+a0+"' "+aV+" pattern='[0-9]*' value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case R:aR=$(this).find("input").length;if(aR===0){a0="password";$(this).html("<input type='"+a0+"' "+aV+" value='"+a2+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case o:aR=$(this).find("input").length;if(aR===0){a0="text";$(this).html('<textarea type="textarea" '+aV+' maxlength="255" value="'+a2+'">'+a2+"</textarea>").trigger("create");$(this).find("textarea").focus();break}else{return}break}if(aZ===-1){a1.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aW,a2)}else{a1.GetPM().OnControlEvent(g.get("PHYEVENT_COLUMN_FOCUS"),a5,aW,a2)
}}}};aD.prototype.OnCloseDateTimePick=function(aO){$(this).focus();$(this).blur()};aD.prototype.OnCancelDateTimePick=function(aO){$(this).focus();$(this).blur()};aD.prototype.OnBlurInputCombo=function(aP){var a3=aP.data.ctx;var aT=a3.GetSelectedRow($(this).attr("id"));var aZ="-button";var aQ=$(this).attr("id");aQ=aQ.replace(aZ,"");var a0=a3.GetSelectedControl(aQ);var aV=a3.GetColumnControl(a0);var aY=aV.GetDisplayName();var aO=aV.GetUIType();var aX=a3.GetCurRowSel();var aW=a3.GetPM().Get("GetRecordSet")[a3.GetPM().Get("GetSelection")];var aS=Z(a3.GetPM(),aV,aW);var a2;var aR;if(a3.GetPM().ExecuteMethod("CanUpdate",aV.GetName())){switch(aO){case D:var aU=a3.GetIsComboClicked();var a4=$(this).attr("id");if(aU!==a4){a2=$(this).next().val();if(a2===aS){var a1=$(this).parent().parent();a1.html(a2);a1.attr("value",a2)}break}else{return}}if(aX===-1){a3.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aV,a2)}else{a3.GetPM().OnControlEvent(g.get("PHYEVENT_COLUMN_BLUR"),aT,aV,a2)}}};aD.prototype.ImgClicked=function(aP){var aO=aP.data.ctx;aO.SetIsImgClicked(true)};aD.prototype.ComboClicked=function(aP){aP.preventDefault();aP.stopPropagation();var aO=aP.data.ctx;var aQ=$(this).attr("id");aO.SetIsComboClicked(aQ)};aD.prototype.DocClicked=function(aP){var aO=aP.data.ctx;aO.SetIsComboClicked(null)};aD.prototype.OnBlurInput=function(a4){var a0=a4.data.ctx;var a1=a0.GetPM().Get("GetActiveControl");if(a1===null||a1===undefined){return}var a5=a0.GetSelectedRow($(this).attr("id"));var aY=a0.GetSelectedControl($(this).attr("id"));var aX=a0.GetColumnControl(aY);var a6=aX.GetDisplayName();var aU=aX.GetUIType();var aZ=a0.GetCurRowSel();var aT=a0.GetPM().Get("GetRecordSet")[a0.GetPM().Get("GetSelection")];var aW=HtmlEncode(a0.GetPM().ExecuteMethod("GetFormattedFieldValue",aX,false));var aR=aX.GetFieldName();if(!V.IsEmpty(aR)){var aP=a0.GetPM().Get("GetBusComp").GetField(aR);if(!V.IsEmpty(aP)&&aP.GetDataType()==="phone"){aU=I}}var a3;var aQ;if(a0.GetPM().ExecuteMethod("CanUpdate",aX.GetName())){switch(aU){case ap:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break;case b:var aS=$("[name=popup]").html();if(aS===null||V.IsEmpty(aS)){var aV=a0.GetIsImgClicked();a0.SetIsImgClicked(false);if(!aV){aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}}else{return}}else{return}break;case Y:case Q:case j:var a2=$(this).mobiscroll("isVisible");if(a2){return}else{a3=$(this).find("input").val();var aO=a0.ConvertToDispTimeAMPM(V.Trim(a3));aO=V.toISOFormat(aO,(aU!==Y))||aO;a3=aO}break;case aC:$(".aSwipeBtn").remove();a3=$(this).val();$(this).parent().attr("value",a3);break;case I:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break;case aF:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break;case w:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break;case S:case at:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break;case R:aQ=$(this).find("input").length;if(aQ!==0){a3=$(this).find("input").val();if(a3===aW){$(this).html("")}break}else{return}break;case o:aQ=$(this).find("textarea").length;if(aQ!==0){a3=$(this).find("textarea").val();if(a3===aW){$(this).html(a3);$(this).val(a3)}break}else{return}break}if(aZ===-1){a0.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aX,a3)}else{a0.GetPM().OnControlEvent(g.get("PHYEVENT_COLUMN_BLUR"),a5,aX,a3)}}};aD.prototype.ClearPick=function(aR){if($(this).val()!==""){var aO=aR.data.ctx;var aP=aO.GetSelectedControl($(this).attr("id"));var aS=aO.GetColumnControl(aP);if(aO.GetPM().ExecuteMethod("CanUpdate",aS.GetName())){aO.gTaphold=true;var aQ=this;var aT=new SiebelApp.UIStatus();aT.Busy({});setTimeout(function(){$(aQ).val("");$(aQ).focus();aT.Free()},0)}}};aD.prototype.OnPick=function(aT){var aP=aT.data.ctx;var aR=aP.GetSelectedControl($(this).attr("id"));var aU=aP.GetColumnControl(aR);SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aS=aU.GetMethodPropSet();var aO=aS.Clone();var aQ={};aQ.async=false;aQ.mask=true;aQ.target=SiebelApp.S_App.GetTargetViewContainer();aQ.cb=function(){SiebelApp.S_App.uiStatus.Free()};setTimeout(function(){aP.GetPM().OnControlEvent(g.get("PHYEVENT_INVOKE_PICK"),aU,aO,aQ)},0)};aD.prototype.BindEvents=function(){var aO=this.GetPM().Get("GetControls");var aP=$("#s_S_A"+this.GetPM().Get("GetId")+"_div").closest(".siebui-NoScrollFormContainer");var aR=("#s_S_A"+this.GetPM().Get("GetId")+"_div");if($(aP).length>0){m=$(aP)}for(var aQ in aO){if(aO.hasOwnProperty(aQ)){this.BindControlEvents(aO[aQ])}}$(aR).delegate(".jqmform_JText","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JText","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_Pick","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_pick_input","click",{ctx:this},this.OnPick);$(aR).delegate(".jqmform_pick_input","taphold",{ctx:this},this.ClearPick);$(aR).delegate(".applet-jqmlist-pick","mousedown",{ctx:this},this.ImgClicked);$(aR).delegate(".jqmform_Pick","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JDateTimeZonePick","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JDateTimeZonePick","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JDateTimePick","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JDateTimePick","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JDatePick","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JDatePick","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_CheckBox_slide","slidestart",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_CheckBox_slide","slidestop",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_Phone","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_Phone","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_Mailto","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_Mailto","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_URL","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_URL","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JComboBox","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JCalculator","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JCalculator","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JCurrencyCalc","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JCurrencyCalc","blur",{ctx:this},this.OnBlurInput);$(aR).delegate(".jqmform_JPassword","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JPassword","blur",{ctx:this},this.OnBlurInput);
$(aR).delegate(".jqmform_JTextArea","click",{ctx:this},this.OnFocusInput);$(aR).delegate(".jqmform_JTextArea","blur",{ctx:this},this.OnBlurInput);$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(aT){var aS=aT.data.ctx;if(aS&&aS.GetPM()){aS.GetPM().OnControlEvent(g.get("PHYEVENT_APPLET_FOCUS"))}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".sweButtonImageEnabled",{ctx:this},function(aU){var aS=aU.data.ctx.GetPM().Get("GetControls");var aT=this.id;for(var aW in aS){if(aS.hasOwnProperty(aW)){var aV=aS[aW];if(aV.GetInputName()===aT&&aV.GetInputName()!=="NewFileAttachment"){return aU.data.ctx.InvokeControlMethod.call(aU.data.ctx,aV)}}}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-ctrl-drilldown",{ctx:this},function(aW){var aT=aW.data.ctx.GetPM().Get("GetControls");var aZ=this.id.indexOf("_mb");var aV=this.id.substring(0,aZ);var aU={};aU.async=false;aU.mask=true;aU.target=SiebelApp.S_App.GetTargetViewContainer();aU.cb=function(){var a0=Array.prototype.slice.call(arguments);if(a0[a0.length-1]===false){SiebelApp.S_App.uiStatus.Free()}};for(var aY in aT){if(aT.hasOwnProperty(aY)){var aX=aT[aY];if(aX.GetInputName()===aV){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aS=CCFMiscUtil_CreatePropSet();aW.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_DRILLDOWN_FORM"),aX,aS,aU)}}}});$(aP).undelegate("#showMoreControl","click.SiebelAppFacade.JQMFormRenderer");$(aP).delegate("#showMoreControl","click.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aS){var aT=new SiebelApp.UIStatus();aT.Busy({});setTimeout(function(){aS.data.ctx.ExpandContainer();aT.Free()},0)});$(aP).undelegate("#showLessControl","click.SiebelAppFacade.JQMFormRenderer");$(aP).delegate("#showLessControl","click.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aS){var aT=new SiebelApp.UIStatus();aT.Busy({});setTimeout(function(){aS.data.ctx.ContractContainer();aT.Free()},0)});$(aP).unbind("orientationchange.SiebelAppFacade.JQMFormRenderer");$(aP).bind("orientationchange.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aS){var aT=new SiebelApp.UIStatus();aT.Busy({});setTimeout(function(){aS.data.ctx.RefreshContainer(aR);aT.Free()},0)});$(window).unbind("resize.SiebelAppFacade.JQMFormRenderer");$(window).bind("resize.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aS){var aT=new SiebelApp.UIStatus();aT.Busy({});setTimeout(function(){if(!V.IsEmpty(aS.data)&&!V.IsEmpty(aS.data.ctx)){aS.data.ctx.RefreshContainer(aR)}aT.Free()},0)});aO=null};aD.prototype.IsValidClick=function(aO){return(V.IndexOf(["input","button","a","select","img"],aO.tagName.toLowerCase())===-1)};aD.prototype.ConvertToDispTimeAMPM=function(aP){var aO=SiebelApp.S_App.LocaleObject.GetDispTimeAM();var aQ=SiebelApp.S_App.LocaleObject.GetDispTimePM();aP=aP.replace(/AM/g,aO);aP=aP.replace(/PM/g,aQ);return aP};aD.prototype.BindControlEvents=function(aP){if(!af(aP)){return}var aT=true;var aW=0;var aY=$("[name="+aP.GetInputName()+"]");var aX=aP.GetFieldName();var aR=this.GetMapFieldArray();var aS=this.GetMapCtrl();switch(aP.GetUIType()){case U:if(aP.GetMethodName()==="NewFileAttachment"){return false}else{if(aP.GetMethodName()==="ClearSignature"){$("#"+(aP.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aP},function(aZ){var a1=aZ.data.ctx.GetPM().Get("GetControls");for(var a0 in a1){if(a1[a0].GetUIType()==="JInkData"){$(".siebui-ctrl"+a1[a0].GetInputName()+"-clearButton").trigger("click");$("."+a1[a0].GetInputName()).attr({value:""});$("#"+a1[a0].GetInputName()).trigger("vmouseup")}}a1=null});break}}if(aP.GetMethodName()!=="ShowMapLocations"){$("#"+(aP.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aP},function(aZ){setTimeout(function(){aZ.data.ctx.InvokeControlMethod.call(aZ.data.ctx,aZ.data.ctrl)},0);if(aZ.data.ctrl.GetMethodName()==="Find"){return false}else{aZ.preventDefault()}})}break;case D:if(!this.IsPopup()){aY=$("[id="+aP.GetInputName()+"-button]");if(aY.length===1){if(typeof(aP.GetObjectType)==="function"){aY.attr("ot",aP.GetObjectType())}if(typeof(aP.GetRepstrName)==="function"){aY.attr("rn",aP.GetRepstrName())}if(typeof(aP.GetUIName)==="function"){aY.attr("un",aP.GetUIName())}}aY.bind("touchend mouseup",{ctx:this,ctrl:aP},function(a3){$(this).next().focus();var aZ=$(window).height();var a0;if(window.innerHeight>window.innerWidth){a0=aZ*0.6}else{a0=aZ*0.3}$(".ui-selectmenu").removeAttr("style");$(".ui-selectmenu").css("max-height",a0+"px");if(a3.data.ctx.GetPM().ExecuteMethod("CanUpdate",a3.data.ctrl.GetName())){T.call(a3.data.ctx,a3.data.ctrl);var a2=$("[name="+aP.GetInputName()+"]");$("[name="+aP.GetInputName()+"]").selectmenu("refresh");var a1=$("#"+aP.GetInputName()+"-menu");if(a1.length===1){if(typeof(aP.GetObjectType)==="function"){a1.attr("ot",aP.GetObjectType())}if(typeof(aP.GetRepstrName)==="function"){a1.attr("rn",aP.GetRepstrName()+"_ComboList")}if(typeof(aP.GetUIName)==="function"){a1.attr("un",aP.GetUIName()+"_ComboList")}}}});aY.bind("focus",{ctx:this,ctrl:aP},function(aZ){$("[name="+aP.GetInputName()+"]").selectmenu("refresh",true)});aY.bind("blur",{ctx:this,ctrl:aP},function(aZ){var a0=$(this).next().val();if(aZ.data.ctx.GetPM().ExecuteMethod("CanUpdate",aZ.data.ctrl.GetName())){aZ.data.ctrl.GetApplet().SetActiveControl(aZ.data.ctrl);aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).next().val())}});aY.bind("change",{ctx:this,ctrl:aP},function(aZ){var a0=$(this).next().val();aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).next().val())})}else{aY.bind("touchstart mousedown",{ctx:this,ctrl:aP},function(aZ){var a0=$(this).is(":focus");if(a0){return}if(aZ.data.ctx.GetPM().ExecuteMethod("CanUpdate",aZ.data.ctrl.GetName())){T.call(aZ.data.ctx,aZ.data.ctrl)}});aY.bind("blur",{ctx:this,ctrl:aP},function(aZ){if(aZ.data.ctx.GetPM().ExecuteMethod("CanUpdate",aZ.data.ctrl.GetName())){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).val())}});aY.bind("change",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).val())})}break;case aC:aY.bind("slidestop",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).val())});aY.bind("slidestart",{ctx:this,ctrl:aP},function(aZ){$(this).focus();aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aZ.data.ctrl,$(this).val())});break;case Y:case Q:case j:aY.bind("change",{ctx:this,ctrl:aP},function(aZ){var a0=$(this).val();var a1=aZ.data.ctx.ConvertToDispTimeAMPM(V.Trim(a0));a1=V.toISOFormat(a1,(aZ.data.ctrl.GetUIType()!==Y))||a1;aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,a1)});aY.bind("focus",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aZ.data.ctrl,$(this).val())});break;case b:var aQ=false;var aV=("#s_S_A"+this.GetPM().Get("GetId")+"_div");
$(aV+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aQ=true;var a1=$(this).attr("class");if(a1!==null&&a1!==undefined){var a0=a1.split(" ");for(var aZ in a0){if(a0[aZ]==="siebui_ServiceSignatureHeader"){aQ=false}}}}});aY.bind("taphold",{ctx:this,ctrl:aP},function(a0){if($(this).val()!==""){if(a0.data.ctx.GetPM().ExecuteMethod("CanUpdate",a0.data.ctrl.GetName())){a0.data.ctx.gTaphold=true;var aZ=this;var a1=new SiebelApp.UIStatus();a1.Busy({});setTimeout(function(){$(aZ).val("");$(aZ).blur();a1.Free()},0)}}});if(aQ===false){aY.bind("click",{ctx:this,ctrl:aP},function(a3){if(a3.data.ctx.gTaphold===false){var a0=a3.data.ctx;var a4=a3.data.ctrl;$(this).blur();SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var a2=aP.GetMethodPropSet();var aZ=a2.Clone();var a1={};a1.async=false;a1.mask=true;a1.target=SiebelApp.S_App.GetTargetViewContainer();a1.cb=function(){SiebelApp.S_App.uiStatus.Free()};setTimeout(function(){a0.GetPM().OnControlEvent(g.get("PHYEVENT_INVOKE_PICK"),a4,aZ,a1)},0)}a3.data.ctx.gTaphold=false})}aY.bind("blur",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).val())});aY.bind("focus",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aZ.data.ctrl,$(this).val());return false});break;case y:aY.bind("vmouseup",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().ExecuteMethod("SetActiveControl",aZ.data.ctrl);aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$("."+aZ.data.ctrl.GetInputName()).val())});aY.bind("vmouseover",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aZ.data.ctrl,$("."+aZ.data.ctrl.GetInputName()).val())});break;case p:case ai:if(aP.GetMethodName()){aY=$("#"+aP.GetInputName());aY.bind("click",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.InvokeControlMethod.call(aZ.data.ctx,aZ.data.ctrl)})}break;default:aY.bind("blur",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_BLUR"),aZ.data.ctrl,$(this).val())});var aU;var aO=false;if(this.IsPopup()&&aP.GetUIType()==="JText"){aU=aY.attr("aria-labelledby");aO=((!V.IsEmpty(aU))&&aU==="PopupQuerySrchspec_Label")?true:false}if(aO===false){aY.bind("focus",{ctx:this,ctrl:aP},function(aZ){aZ.data.ctx.GetPM().OnControlEvent(g.get("PHYEVENT_CONTROL_FOCUS"),aZ.data.ctrl,$(this).val())})}if(aP.GetUIType()==="JTextArea"){aY.bind("keyup",{ctx:this,ctrl:aP},function(a0){if(aT===true){aW=$(this).height();aT=false}var aZ=$(this).height();if(!V.IsEmpty(aW)&&parseInt(aZ,10)>parseInt(aW,10)){setTimeout(function(){$(window).trigger("resize");aW=aZ},0)}})}if(aO===true){aY.bind("keydown",{ctx:this},function(a1){if(a1.which===$.ui.keyCode.ENTER){var a0=this;var aZ=a1.data.ctx;setTimeout(function(){if(aZ.findBtnName!==undefined){$(a0).trigger("blur");$(aZ.findBtnName).trigger("click")}},0);a1.preventDefault();a1.stopPropagation();return false}})}break}if(typeof(google)!=="undefined"&&aR!==null&&V.IndexOf(aR,aX)>-1&&!V.IsEmpty(aX)){$(document).undelegate("#"+(aP.GetInputName()+"_maplink"),"click");$(document).delegate("#"+(aP.GetInputName()+"_maplink"),"click",{ctx:this},function(aZ){var a0=new SiebelApp.UIStatus();a0.Busy({});setTimeout(function(){var a1=$("#"+(aP.GetInputName())).val();aZ.preventDefault();aS.CreateURLForDirection(a1);a0.Free()},0)})}aY=null};aD.prototype.BindData=function(){this.ShowSelection()};aD.prototype.ShowSelection=function(){if(this.inProgress){return false}var aR=this.GetPM();var aZ=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var a2=aR.Get("GetControls");var a0=aR.Get("GetRecordSet");var aU=aR.Get("GetRecordSet")[aR.Get("GetSelection")];var aV=aR.Get("IsInQueryMode");for(var aT in a2){if(a2.hasOwnProperty(aT)){var aS=a2[aT];var a1=aS.GetFieldName();var aQ=aR.ExecuteMethod("IsPrivateField",aT);if(!V.IsEmpty(a1)||aQ||!aR.Get("IsPure")){var aY=Z(aR,aS,a0[0]);if(aR.Get("IsPure")||(!aR.Get("IsPure")&&aS.GetUIType()!==U)){this.EnableControl(aS,aR.ExecuteMethod("CanUpdate",aS.GetName()));this.SetControlValue(aS,aY)}}}}var aP=au(aZ);if(aP===true){var aW=$(aZ).closest(".siebui-NoScrollFormContainer");$("#"+aW.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowmoreFormContainer");var aO=$(aZ).closest(".siebui-ShowmoreFormContainer");if(!V.IsEmpty(aO)){var aX=z();$(aO).children("#showMoreControl").remove();$(aO).prepend(aX)}}};aD.prototype.SetControlValue=function(a7,bk){if(!af(a7)){return}bk=HtmlEncode(bk);var aU=l.call(this,a7);var a9=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var bg=null;$(a9+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){bg=true}});var a0=$("#"+a7.GetInputName())[0]||$("[name="+a7.GetInputName()+"]")[0];a0=$(a0);var bp=a7.GetInputName();var aP=a7.GetUIType();var a6=a7.GetFieldName();var bh="";var aY=false;var a3=a7.GetName();a3=this.GetColumnHelper().GetModifiedColumnName(a3);var a2=this.GetPM().Get("GetPlaceholder");var bf="jqmform_"+a2+"_"+a3;var bo=this.GetPM().ExecuteMethod("CanNavigate",a7.GetName());var aV=this.GetPM().ExecuteMethod("CanUpdate",a7.GetName());if(bo&&!aV&&aP!==aH){aY=true}var a8=this.GetMapFieldArray();var aT;var a4;var aO;var bc=$(a9).find("td.AppletTitle").text();if(!V.IsEmpty(a6)){var aX=this.GetPM().Get("GetBusComp").GetField(a6);if(!V.IsEmpty(aX)&&aX.GetDataType()==="phone"){aP=I}}if(bg===true){var bj;a0.addClass("screen-cntrl-readonly");var aS=a0.parent().attr("class");$(a0).removeAttr("readOnly").attr("readOnly","true");switch(aP){case b:var bb=a0.find("input").length;if(bb!==0&&!V.IsEmpty(bk)){a0.find("input").val(bk);a0.find("input").focus()}else{a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>")}break;case Y:case Q:case j:case aH:case D:case ap:a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>");break;case S:case at:a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>");break;case R:a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"'></span>");break;case aC:var bm="<select class='jqmform_CheckBox_slide' name="+bf+" "+aU+" id='"+bf+"' data-role='slider'><option value='N'>"+L+"</option><option value='Y'>"+J+"</option></select>";a0.html(bm).trigger("create");var a1=ad.call(this,a7,"Y",null);var aR=ad.call(this,a7,"N",null);if(a1!==""&&aR!==""){var aW=a0.parent();var bd=$(aW).find("span.ui-slider-label:first");var aZ=bd.html()===J?a1:aR;bd.empty().append(aZ);bd=$(aW).find("span.ui-slider-label:last");aZ=bd.html()===L?aR:a1;bd.empty().append(aZ)}$("#"+bf).val(bk);var bq=aV?"enable":"disable";$("#"+bf).slider(bq);$("#"+bf).slider("refresh");break;case o:a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>");break}}switch(aP){case H:if(V.IsEmpty(bk)){a0.html("")}else{a0.html(HtmlDecode(bk))}break;case aC:if(bg===null||bg===undefined){a0.val(bk);
a0.slider("refresh")}break;case D:if(bg){return}aO=HtmlDecode(bk);a0.val(aO);if(!V.IsEmpty(aO)){aO=HtmlDecode(bk).replace(/\"/g,'\\"')}if(a0.find('option[value="'+aO+'"]').length===0){a0.append('<option value="'+bk+'">'+bk+"</option>")}if(V.IsEmpty(a6)){a0.find("option").each(function(){if(V.IsEmpty($(this).val())){$(this).remove()}})}if(bg===null||bg===undefined){a0.selectmenu("refresh")}break;case aF:if(bg===true){a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>")}else{a0.attr("value",HtmlDecode(bk))}aT=$("#"+bp+"_mailto");if(aT.length===1){aT.remove()}aU=l.call(this,a7,"Icon");if(bk&&bk!==""){bk=bk.concat("?subject="+bc);var a5='<a id="'+bp+'_mailto" '+aU+' href="mailto:'+bk+'"></a>';$("#"+bp).parent().prepend(a5);$("#"+bp+"_mailto").addClass("email")}break;case I:if(bg===true){a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>")}else{a0.attr("value",bk)}aT=$("#"+bp+"_tel");if(aT.length===1){aT.remove()}aU=l.call(this,a7,"Icon");if(bk&&bk!==""){var bn='<a id="'+bp+'_tel" '+aU+' href="tel:'+bk+'"></a>';$("#"+bp).parent().prepend(bn);$("#"+bp+"_tel").addClass("tel")}break;case w:if(bg===true){a0.html("").append("<span class='jqmform_"+aP+"' "+aU+" id='"+bf+"' value='"+bk+"'>"+bk+"</span>")}else{a0.attr("value",HtmlDecode(bk))}aT=$("#"+bp+"_url");if(aT.length===1){aT.remove()}aU=l.call(this,a7,"Icon");if(bk&&bk!==""){if(bk.match("^http://")===null){bk="http://"+bk}var ba='<a id="'+bp+'_url" '+aU+' href="'+bk+'" rel="external" target="foo" class="ui-link-inherit"></a>';$("#"+bp).parent().prepend(ba);$("#"+bp+"_url").addClass("url")}if(a7.GetName()==="BookmarkURL"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){var aQ=a0.replaceWith('<textarea name="'+a7.GetInputName()+'" rows="3" cols="40" value=\''+bk+"'>"+bk+"</textarea>")}break;default:if(bg===true&&a0.attr("type")==="controlType"){a0.html("").append("<span "+aU+">"+bk+"</span>")}else{if(a7.GetShowBase()&&a7.GetUIType()!=="checkBoxCtrl"){a4=ad.call(this,a7,bk,a0);if(!V.IsEmpty(a4)){a0.html(a4)}else{if(u.test(this.GetPM().GetPMName())){a0.replaceWith('<div  tabindex="0" title="'+bk+'" name="'+a0.attr("name")+'" aria-label="'+a7.GetDisplayName()+'">'+bk+"</div>")}else{a0.val(HtmlDecode(bk))}}}else{if(u.test(this.GetPM().GetPMName())){a0.replaceWith('<div  tabindex="0" title="'+bk+'" name="'+a0.attr("name")+'" aria-label="'+a7.GetDisplayName()+'">'+bk+"</div>")}else{a0.val(HtmlDecode(bk))}}}break}if(typeof(google)!=="undefined"&&a8!==null&&(!V.IsEmpty(a6))&&V.IndexOf(a8,a6)>-1){var bi=$("#"+bp+"_maplink");if(bi.length===1){bi.remove()}aU=l.call(this,a7,"Icon");if(!V.IsEmpty(bk)){var be=ac(this.GetMapCtrl(),bp,bk,aU);a0.parent().prepend(be)}}if(aY){if(bg===true){a0.html("").append("<span "+aU+">"+bk+"</span>")}else{a0.attr("value",bk)}aT=$("#"+bp+"_mb");if(aT.length===1){aT.remove()}if(bk&&bk!==""){var bl='<a  id ="'+bp+'_mb"  class = "siebui-ctrl-drilldown" href="javascript:void(0)" > </a>';$("#"+bp).parent().prepend(bl);$("#"+bp+"_mb").addClass("drilldown ui-icon-siebui-drilldown")}}};aD.prototype.EnableControl=function(aV,aZ){if(!af(aV)){return}var a0=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aR=null;$(a0+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aR=true}});var aO=aV.GetUIType();var a2=$("#"+aV.GetInputName())||$("[name="+aV.GetInputName()+"]");var aP=aZ?"enable":"disable";var aY;var a3;var aQ;if(aO===U){if(aR===null||aR===undefined){aY=aZ?aV.GetEnabledBmp():aV.GetDisabledBmp();aQ=aV.GetMethodName();var aW;var aS;if(aQ==="NewFileAttachment"){aW=aV.GetInputName()+"_"+g.get("SWE_FILE_NAME_STR");aS=$("#"+aW)}if(aY&&(aQ!=="GotoNextSet"&&aQ!=="GotoPreviousSet")){a3=$("#"+aV.GetInputName());a3.html(aY).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(aZ?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var a1=$("#"+(aV.GetInputName()+"_Ctrl"));try{a1.button(aP);if(aQ==="NewFileAttachment"){if(!aZ){aS.attr("disabled","disabled")}else{aS.removeAttr("disabled")}}}catch(aT){SiebelJS.Log(aT);if(!aZ){a1.attr("disabled","disabled");a1.attr("aria-disabled","true");a1.addClass("mobile-button-disabled");a1.addClass("ui-state-disabled");a1.parent().addClass("ui-disabled");if(aQ==="NewFileAttachment"){aS.attr("disabled","disabled")}}else{a1.removeAttr("disabled");a1.attr("aria-disabled","false");a1.removeClass("mobile-button-disabled");a1.removeClass("ui-state-disabled");a1.parent().removeClass("ui-disabled");if(aQ==="NewFileAttachment"){aS.removeAttr("disabled")}}}}}else{aY=aZ?aV.GetEnabledBmp():aV.GetDisabledBmp();aQ=aV.GetMethodName();if(aY&&(aQ!=="GotoNextSet"&&aQ!=="GotoPreviousSet")){a3=$("#"+aV.GetInputName());a3.html(aY).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(aZ?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var aX=$("#"+(aV.GetInputName()+"_Ctrl"));if(!aZ){aX.attr("disabled","disabled");aX.attr("aria-disabled","true");aX.addClass("mobile-button-disabled");aX.addClass("ui-state-disabled");aX.parent().addClass("ui-disabled")}else{aX.removeAttr("disabled");aX.attr("aria-disabled","false");aX.removeClass("mobile-button-disabled");aX.removeClass("ui-state-disabled");aX.parent().removeClass("ui-disabled")}}}}else{if(aO===Y||aO===Q||aO===j){a2.mobiscroll(aP);a2.prop("readonly",true)}else{if(aO===aC){if(aR===null||aR===undefined){a2.slider(aP)}}else{if(aO===D){if(aR===null||aR===undefined){a2.selectmenu(aP)}}else{var aU=$("#"+aV.GetInputName())[0]||$("[name="+aV.GetInputName()+"]")[0];$(aU).removeAttr("readOnly").attr("readOnly",!aZ)}}}}if(aO!==U){if(aZ){a2.addClass("siebui-ipe-enabled")}else{a2.removeClass("siebui-ipe-enabled")}}a2=null};aD.prototype.UpdateUIControls=function(){var aO=this.GetPM().Get("GetControls");for(var aQ in aO){if(aO.hasOwnProperty(aQ)){var aP=aO[aQ];var aR=aP.GetFieldName();if(!V.IsEmpty(aR)){this.EnableControl(aP,this.GetPM().ExecuteMethod("CanUpdate",aP.GetName()))}}}};aD.prototype.UpdateUIButtons=function(){var aO=this.GetPM().Get("GetControls");for(var aQ in aO){if(aO.hasOwnProperty(aQ)){var aP=aO[aQ];if(aP.GetUIType()===U){var aR=this.GetPM().ExecuteMethod("CanInvokeMethod",aP.GetMethodName());this.EnableControl(aP,aR)}}}aO=null};aD.prototype.SetFocusToControl=function(aQ,aP){var aO=this.GetPM().Get("GetControls");var aR=null;for(var aT in aO){if(aO.hasOwnProperty(aT)){var aS=aO[aT];if(aQ===SiebelApp.S_App.LookupStringCache(aT)){if(!V.IsEmpty(aS.GetMethodName())){aR=$("#"+(aS.GetInputName()+"_Ctrl"))}else{aR=$("#"+aS.GetInputName())[0]||$("[name="+aS.GetInputName()+"]")[0]}if(aP){aR.focus()}else{aR.blur()}return true}}}};aD.prototype.FocusFirstControl=function(){if(this.GetFirstControl()){this.GetFirstControl().focus();return}var aP=this.GetPM().Get("GetControls");var aO=9999;for(var aS in aP){if(aP.hasOwnProperty(aS)){var aR=aP[aS];var aT=aR.GetFieldName();if(!V.IsEmpty(aT)){if(aR.GetIndex()&&aR.GetIndex()<aO){var aQ=this.GetPM().ExecuteMethod("CanUpdate",SiebelApp.S_App.LookupStringCache(aS));if(aQ){aO=aR.GetIndex();
this.SetFirstControl($("#"+aR.GetInputName())[0]||$("[name="+aR.GetInputName()+"]")[0]);break}}}}}if(this.GetFirstControl()){this.GetFirstControl().focus()}};aD.prototype.SetHighlightState=function(aQ,aP){var aO=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(aQ){aO.addClass("Selected siebui-applet-active").removeClass("NotSelected siebui-applet-nonactive")}else{aO.removeClass("Selected siebui-applet-active").addClass("NotSelected siebui-applet-nonactive")}};aD.prototype.GetPhysicalControlValue=function(aT){var aS,aQ;var aV=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aO=null;$(aV+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aO=true}});if(aT){this.GetPM().AddProperty("PhysicalCtrlVal",aQ);if(aO===null||aO===undefined){aS=$("[name='"+aT.GetInputName()+"']");aQ=aS.val()||""}else{var aR=aT.GetName();aR=this.GetColumnHelper().GetModifiedColumnName(aR);var aU=this.GetPM().Get("GetPlaceholder");var aP="jqmform_"+aU+"_"+aR;aS=$("[id='"+aP+"']");aQ=aS.attr("value")||""}switch(aT.GetUIType()){case Y:case Q:case j:aQ=V.toISOFormat(this.ConvertToDispTimeAMPM(V.Trim(aQ)),(aT.GetUIType()!==Y))||aQ;break;case y:aQ=$("."+aT.GetInputName()).val();break}this.GetPM().AddProperty("PhysicalCtrlVal",aQ)}};aD.prototype.fixHeight=function(){};aD.prototype.fixWidth=function(aP){if(this.IsPopup()){var aO=$(".siebui-popup-btm");if(aO!==undefined){}}};function T(aQ){this.inProgress=true;var aP=this.GetPM();aP.ExecuteMethod("SetActiveControl",aQ);var aO=CCFMiscUtil_CreatePropSet();this.GetPM().ExecuteMethod("InvokeMethod","EditPopup",aO)}function af(aO){return(typeof(aO.GetInputName)==="function")}function ah(aR,aQ,aP){var aO=this.GetPM().ExecuteMethod("NewFileAttachment");var aS=g.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(aP).fileupload("option","formData",aO);$(aP).fileupload("option","url",SiebelApp.S_App.GetPageURL()+g.get("SWE_ARG_START")+aS)}function d(aQ,aP){var aO;if(aP.dataType==="iframe "){aO=$(aP.result).find("body").html()}else{aO=aP.result}if(!V.IsEmpty(aO)){SiebelApp.S_App.ProcessResponse(aO)}}function aJ(aP,aO){}return aD}());return"SiebelAppFacade.JQMFormRenderer"})}if(typeof(SiebelAppFacade.PopupRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PopupRenderer");SiebelAppFacade.PopupRenderer=(function(){var i=SiebelJS.Dependency("SiebelApp.Utils");var g=SiebelJS.Dependency("SiebelApp.Constants");var b;var a;var c;function d(n){var m=n;b=n;a=true;this.retryWaitForObjInfoProcessing=0;this.GetPM=function(){return m};this.GetPM().AttachPMBinding("state",h,{scope:this});this.GetPM().AttachPMBinding("url",e,{scope:this});this.GetPM().AttachPMBinding("OnLoadPopupContent",l,{scope:this});this.GetPM().AttachPMBinding("StandAlonePopup",this.ProcessStandAlonePopup,{scope:this})}function j(){var m=this;if(this.Get("CanProcessLayout")===false&&m.retryWaitForObjInfoProcessing<25){m.retryWaitForObjInfoProcessing++;setTimeout(function(){j.call(m)},100);return}m.retryWaitForObjInfoProcessing=0;this.ExecuteMethod("OnLoadPopupContent")}function e(){SiebelApp.contentUpdater.AddCallBack(this.GetPM().Get("url"),j,this.GetPM());var m=$("[name=popup]");m.attr("src",this.GetPM().Get("url"));SiebelApp.contentUpdater.loadContent(true);c=$("head meta[name=viewport]")[0]}function f(){if(a===false){a=true;b.OnControlEvent("ClosePopupByX",window.event)}$("head meta[name=viewport]").remove();$("head").prepend(c)}function l(){var o=this.GetPM().Get("currPopups");if(o&&o[0]){var m="<div class='jqmpopup_title'><span>"+SiebelApp.S_App.LookupStringCache(o[0].GetTitle())+"</span></div>";$("[name=popup]").prepend(m);k();var n=o[0].GetPModel().GetRenderer();n.fixHeight();n.fixWidth($("#popup-popup").css("width"))}else{k()}}function k(){var n=$("[name=ShownItems]")[0];var m=$("[name=HiddenItems]")[0];if(n!==null&&n!==undefined){$(n).attr("data-native-menu","false")}if(m!==null&&m!==undefined){$(m).attr("data-native-menu","false")}$("[name=popup]").popup({overlayTheme:"a"});$("[name=popup]").popup({afterclose:f});$("[name=popup]").popup("open");$(".popupContainer").trigger("create");a=false;$("head meta[name=viewport]").remove();$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0" />')}function h(){var o=this.GetPM().Get("state");if(o===g.get("POPUP_STATE_HIDDEN")){if(a===false){a=true;$("[name=popup]").popup("close")}$("[name=popup]").children().remove()}else{if(o===g.get("POPUP_STATE_VISIBLE")){var m=0;var n=0;$("[name=popup]").removeClass("popupContainer").addClass("popupContainer")}}}d.prototype.BindData=function(){};d.prototype.ShowUI=function(){if($("[name=popup]").length===0){var m;if(IsOfflineModeEnabled()&&SiebelApp.OfflineAppSettings.GetMode()===true){m=$('<div name="popup" id="popup" data-role="popup" data-dismissible="false"></div>')}else{m=$('<div name="popup" id="popup" data-role="popup"></div>')}SiebelApp.S_App.GetTargetViewContainer().append(m);SiebelApp.S_App.uiStatus.LocalBusy({target:"[name=popup]",mask:false})}};d.prototype.BindEvents=function(){};d.prototype.ProcessStandAlonePopup=function(q,n){if((window.navigator.standalone!==undefined)&&window.navigator.standalone){var m=document.createElement("a");m.setAttribute("href",q);m.setAttribute("target","_blank");var o=document.createEvent("HTMLEvents");o.initEvent("click",true,true);m.dispatchEvent(o);m=null}else{var p=window.open(q,"subWind",n)}};return d}());SiebelAppFacade.FormColumnHelper=function(){var b={};var a={};var c={};this.GetColMap=function(){return b};this.GetColControl=function(){return a};this.GetColField=function(){return c}};SiebelAppFacade.FormColumnHelper.prototype={AddColumn:function(c,b){var a=null;if(typeof(c)==="string"){a=c.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_");this.GetColMap()[a]=c;this.GetColControl()[a]=b;this.GetColField()[b.GetFieldName()]=c}return a},GetActualControlName:function(a){return this.GetColMap()[a]},GetActualColumnName:function(a){return this.GetColControl()[a].GetDisplayName()},GetModifiedColumnName:function(b){var a=null;if(typeof(b)==="string"){a=b.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_")}return a},GetColumnControl:function(a){return this.GetColControl()[a]},GetColumnOfField:function(a){return this.GetColField()[a]},TranslateObject:function(c,f){var d={};var b=null;for(var a=0;a<c.length;a++){var e=c[a].control.GetFieldName();b=c[a].name;if(!SiebelApp.Utils.IsEmpty(b)){d[b.replace(/ /g,"_").replace(/\//g,"_").replace(/#/g,"_")]=f[e]}}if(f.Id){d.Id=f.Id}return d}}};