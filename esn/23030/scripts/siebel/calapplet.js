if(typeof(SiebelApp.S_App.CalApplet)=="undefined"){Namespace("SiebelApp.S_App.CalApplet");SiebelApp.S_App.CalApplet=(function(){var k=SiebelApp.Utils;var i=SiebelApp.Constants;var c="pcl";var f=i.get("SWE_FIELD_STR");var b=i.get("SWE_ROW_STR");var j=i.get("SWE_ROW_ID_STR");var g=i.get("SWE_APPLET_STR");var a=i.get("SWE_ACTIVE_APPLET_STR");var h=i.get("SWE_ROW_IDS_STR");function e(){var l=new Object();var n;var m;this.GetUserPrefPropset=function(){return m};this.SetUserPrefPropset=function(o){m=o};this.ProcessSelfProps=function(o){e.prototype.ProcessSelfProps.call(this,o)};this.ProcessChildrenProps=function(t){var q=t.GetType();var o=i.get("SWE_PST_CNTRL_LIST");var s=SiebelApp.S_App.AppletControl;switch(q){case o:var p=t.EnumChildren(true);do{var r=new s();if(p.GetType()==i.get("SWE_PST_CUSTOM_CTRL")){r.SetApplet(this);r.ProcessObjectInfo(p);d.call(this,r);this.SetUserPrefPropset(p.GetChild(0))}else{}}while(p=t.EnumChildren(false));break;default:e.prototype.ProcessChildrenProps.call(this,t)}};this.Initialize=function(){var q=SiebelAppFacade.FacadeConstants;var o=SiebelAppFacade.RendererFactory;var p=o.GetRenderer(q.get("CAL_RENDERER"),this);this.SetRenderer(p)};this.CallServerApplet=function(p,o,q){o.SetProperty(i.get("SWE_CMD_ARG"),i.get("SWE_CMD_INVOKE_METHOD_STR"));o.SetProperty(i.get("SWE_VIEW_ID_ARG"),"");o.SetProperty(i.get("SWE_VIEW_ARG"),this.GetView().GetName());o.SetProperty(i.get("SWE_APPLET_STR"),this.GetName());o.SetProperty(i.get("SWE_METHOD_STR"),p);o.SetProperty(i.get("SWE_REQ_ROW_ID_STR"),"1");o.SetProperty(i.get("SWE_ACTIVE_VIEW_STR"),SiebelApp.S_App.GetActiveView().GetName());o.SetProperty(i.get("SWE_ACTIVE_APPLET_STR"),this.GetName());if(o.GetProperty(i.get("SWE_NEED_CONTEXT_STR")==undefined||o.GetProperty(i.get("SWE_NEED_CONTEXT_STR")==null))){o.SetProperty(i.get("SWE_NEED_CONTEXT_STR"),"true")}o.SetProperty(i.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());if(this.GetPopBookMark()){o.SetProperty(i.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}if(p==i.get("SWE_EDIT_FIELD")||p==i.get("SWE_GET_PICK_INFO")){o.SetProperty(i.get("SWE_JS_EXTRA_INFO"),"false")}SiebelApp.S_App.CallServer(o,q,true)};this.NotifyGeneric=function(q,o){if(q=="HICalendarData"){var r=CCFMiscUtil_CreatePropSet();for(var p=0;p<o.length;p++){r.SetProperty(p.toString(),o[p])}this.GetRenderer().SetNotify("HICalendarData",r)}else{e.prototype.NotifyGeneric.call(this,q,o)}};this.GetCalControl=function(o){return l[o]};this.GetCalControlMap=function(){return l};this.SetRenderer=function(o){n=o};this.GetRenderer=function(){return n};this.GetAllFieldValues=function(q,s){if(this.GetBusComp().GetParentBusComp()!=null){var o;for(var p in this.GetCalControlMap()){var r=this.GetCalControlMap()[p];q.SetProperty(r.GetSpanPrefix()+s,this.GetBusComp().GetFieldValue(r.GetFieldName()))}}};this.GetDrilldownURL=function(o,s,r){var q=CCFMiscUtil_CreatePropSet();var p=this.GetCalControl(o);o=p.GetSpanPrefix()+s;q.SetProperty(f,o);q.SetProperty(b,s);q.SetProperty(j,r);this.GetRowIds(q);this.GetAllFieldValues(q,s);q.SetProperty(g,this.GetName());q.SetProperty(a,this.GetName());return SiebelApp.S_App.GetDrilldownURL(q)}}function d(l){this.GetCalControlMap()[l.GetName()]=l;this.GetControls()[l.GetName()]=l}return e}())};