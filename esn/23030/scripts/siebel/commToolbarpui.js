/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.S_App.CommToolbar)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.CommToolbar");SiebelApp.S_App.CommToolbar=(function(){var p;var z=false;var o={};var M={};var G={};var K={};var s=0;var L=null;var O=false;var F="7000";var H="CTI Message";var l=[];var S=0;var I;var C=false;var f;var y;var e=false;var J=false;var h=0;var v=0;var P="";var x="";var b={};var t=null;var D="";var N=false;var g=true;var E=false;var q="";var r=0;var m=3;var w=0;function i(){var T;U=function U(){return T};U.prototype=this;T=new U();T.constructor=U;return T}i.prototype.SetPModel=function(T){p=T};i.prototype.GetPModel=function(){return p};i.prototype.GetName=function(){return"CommToolbar"};i.prototype.GetPropArray=function(){return["GetName","GetTopControlNum","GetTopCtrlsSeqMap","GetSubCtrlsSeqMap","GetPopSidewayCtrl","GetPlaceholder","GetBackgroundColor","IsMakeCallPopupNeeded","IsAutomationEnabled"]};i.prototype.GetMethodArray=function(){return["InvokeCommandByItemName","InvokeCommandToolTip","ShowPreviousMessage","ShowNextMessage","ShowStatusText","ShowMessageWithAlert","PlaySound","UpdateHTMLControl","TriggerEvent","ApplySticky","FlashTitle","BlinkParentBtn","GotoCTIToolbar","HideCTIToolbar","CollectFocusInfo","ClearFocusInfo","CallContactFromUI","UpdateCallContactFromUI","OpenCallContactFromUIPopup"]};i.prototype.Init=function(){var T=this.GetParamFromHiddenTag();if(this.ProcessObjectInfo(T)){return true}else{return false}};i.prototype.HasShown=function(){return z};i.prototype.HandleGotoCTIToolbar=function(){this.GotoCTIToolbar();return true};i.prototype.GetTopControlNum=function(){return s};i.prototype.GetTopCtrlsSeqMap=function(){return o};i.prototype.GetSubCtrlsSeqMap=function(){return K};i.prototype.GetPopSidewayCtrl=function(){return M.SidewayPopup};i.prototype.GetPlaceholder=function(){return".com_siebel_applets_toolbar_CSSToolBarApplet_class"};i.prototype.GetBackgroundColor=function(){return this.GetParameter("BGColor")};i.prototype.GetImageURL=function(){return this.GetParameter("ImageURL")};i.prototype.GetURLBase=function(){return this.GetParameter("URLBase")};i.prototype.IsMakeCallPopupNeeded=function(){return g};i.prototype.IsAutomationEnabled=function(){return E};i.prototype.Show=function(){if($(this.GetPlaceholder()).length<=0){B(1,"No place holder for CTI toolbar!");z=true;return}try{R();B(0,"CTI toolbar: INIT.begin");if(this.Init()){this.GetPModel().Show();SiebelApp.S_App.CommToolbarUtil.InitApplet()}else{B(1,"Init process failed!")}}catch(T){B(1,"Init process failed!")}finally{z=true;B(0,"CTI toolbar: INIT.end")}};i.prototype.GetParamFromHiddenTag=function(){var T=new JSSPropertySet();$(this.GetPlaceholder()).children("input").each(function(){var U=$(this);T.SetProperty(U.attr("name"),U.attr("value"));U.attr("aria-hidden","true")});return T};i.prototype.ProcessObjectInfo=function(T){L=T;var U=this.GetParameter("AutomationEnabled");if(U!==undefined&&U.toLowerCase()==="true"){E=true}I=this.GetParameter("SRN");if(I===undefined){I=""}if(this.GetParameter("IsUseCookie").toLowerCase()==="true"){C=true}B(3,"IsUseCookie = "+C);if(!C){f=this.GetParameter("SNAME");if(f!==undefined){y=this.GetParameter("SID");if(y!==undefined){y=encodeURIComponent(y)}else{y=""}}else{B(2,"SNAME parameter is missing.")}}if(this.ParseControlInfo()){var W=SiebelAppFacade.CommToolbarPresentationModel;this.SetPModel(new W(this));var V=new JSSPropertySet();V.SetProperty("SWE_OUI_RENDERER","CommToolbarPhyRenderer");this.GetPModel().Setup(V);return true}else{return false}};i.prototype.GetParameter=function(T){return L.GetProperty(T)};function k(T){var U=/^\+{0,1}\d*$/;return(U.test(T))}i.prototype.ParseControlInfo=function(){var ae=-1;var Z=0;var X=0;var aa;var T;var Y;var ad=SiebelApp.S_App.CommToolbarItem;var af=this.GetParameter("SidewayPopup")+";Type=Button;Command=SidewayPopup;Enabled=true";var ac=new ad(af);ac.m_state="enabled";M.SidewayPopup=ac;s=this.GetParameter("NumberOfControls");if(s===undefined){B(2,"NumberOfControls parameter is missing.");return false}else{if(!k(s)){B(2,"Value of NumberOfControls is: "+s);return false}}var ab=s;for(var W=1;W<=ab;W++){Y=this.GetParameter("Control"+W);if(Y===undefined){B(2,"Parameter with name Control"+W+" is missing.")}else{aa=new ad(Y);if(ae!==aa.m_iSeq){ae=aa.m_iSeq;Z++;X=0}aa.m_iSeq=Z;if(aa.m_index>0){aa.m_index=++X}if(aa.m_index===0){o[aa.m_iSeq]=aa;M[aa.m_name]=aa}if(aa.m_index>0||aa.m_bSticky===true){if(aa.m_index>0){s--}G[aa.m_name]=aa;T=K[aa.m_iSeq];if(T===undefined){T=[];K[aa.m_iSeq]=T}if(aa.m_index!==0){T[aa.m_index]=aa}}}}for(var V=0;V<s;V++){aa=o[V+1];if(aa===undefined){continue}if(aa.m_bSticky===true){T=K[V+1];if(T!==undefined){for(var U=1;U<T.length;U++){T[U].m_bSticky=true}}}}return true};function j(T){var U=M[T];if(U===undefined){U=G[T]}return U}i.prototype.InvokeCommandByItemName=function(Z,W,U){var Y=j(Z);if(Y===undefined){B(2,"Control with name: "+Z+"is not found.");return}else{if(Y.m_state==="enabled"&&n()===true){var V=d(W,U);var T=Y.m_command;if(SiebelApp.S_App.CommToolbarUtil.IsPSRLogEnabled()===true){var X=j(Z).m_tooltip;if(X==="Write PSR Log"){V.PSRLog=SiebelApp.S_App.CommToolbarUtil.GetPSRLog()}}B(3,"InvokeToolbarCommand for control: "+Z);SiebelApp.S_App.CommToolbarUtil.SendCommand({url:T,inputKV:V,error:function(){B(2,"Failed invoking command for control: "+Z+"!")},needUIFProcessRP:true})}}};i.prototype.InvokeCommandToolTip=function(Y,X,U){var W=j(Y);if(W===undefined){B(2,"Control with name: "+Y+"is not found.");return}else{if(e===false){W.SetTooltip(W.m_tooltipFromTools)}else{var T=W.m_dynamictooltipCmd;if(T.length>0){var V=d(X,U);V.ControlName=W.m_name;B(3,"invokeCommandToolTip for control: "+Y);SiebelApp.S_App.CommToolbarUtil.SendCommand({url:T,inputKV:V,error:function(){W.SetTooltip(W.m_tooltipFromTools);B(2,"Failed getting dynamic tooltip for control: "+Y+", Use static tooltip.")}})}else{W.SetTooltip(W.m_tooltipFromTools)}}}};i.prototype.CallContactFromUI=function(T,W){if(n()===true&&D.length>0){var V=d(W);V.UIPhone=T;var U=this.GetParameter("InitCommand1").replace("ShellUIInit",D);B(3,"Make call to "+V.UIPhone+" using command "+D);SiebelApp.S_App.CommToolbarUtil.SendCommand({url:U,inputKV:V,error:function(){B(2,"Failed invoking command: "+D+"!")},needUIFProcessRP:true})}};function d(ad,ac){var aa={FromCTIToolBar:"true"};var V=false;var ab={};$.extend(ab,M,G);for(var Y in ab){if(ab.hasOwnProperty(Y)){var T=ab[Y];if(T.m_type==="edit"){V=false;if(ad.FocusEdit===Y){V=true}if(ad.EditText!==undefined&&ad.EditText[Y]!==undefined){aa[Y]=ad.EditText[Y];aa[Y+"_HasFocus"]=((ac||V)?"true":"false")}}else{if(T.m_type==="combo box"&&ad.ComboValue!==undefined){var ae=ad.ComboValue[Y];if(ae!==undefined&&ae.length>0){aa[Y]=ae}}}}}var Z=ad.SelText;if(Z!==undefined&&Z.length>0){aa.SelectedText=Z}var X;if(t===null||ac){X=Q()}else{X=t}var U=X.BusComp;var W=X.Field;if(U!==undefined&&U.length>0){aa.FocusBusComp=U;if(W!==undefined&&W.length>0){aa.FocusField=W}}aa.refID=SiebelApp.S_App.CommToolbarUtil.GetRefId();return aa}function A(U,T){if(U!==undefined){return true
}else{B(2,"Control not found : "+T);return false}}i.prototype.ExecuteCommand=function(X){var U=null;var ag=null;var Y=false;if(X.name===undefined){B(2,"Invalid command!");return}if(X.m_type!=="UPDATEMENU"&&X.m_type!=="UPDATEMENU"){U=j(X.control)}if(U!==undefined&&U!==null&&U.m_bSticky===true){ag=G[X.control];if(ag===undefined||ag===null){ag=null;var V="Error: Fail to find the sticky item from Sideway";this.LogMsg(1,V)}}switch(X.name.toUpperCase()){case"ENABLECONTROL":if(X.control==="CallFromUI"){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{if(X.value.toLowerCase()==="true"){N=true}else{N=false}}this.UpdateCallContactFromUI(N)}else{if(A(U,X.control)){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{U.SetEnabled(X.value);if(ag!==null&&ag.m_id!==U.m_id){ag.SetEnabled(X.value)}}Y=true}}break;case"UPDATEMENU":if(X.control===undefined||X.value===undefined){B(2,"Invalid command : "+X);return}else{SiebelApp.S_App.CommToolbarUtil.UpdateCmdMgrMenu(X.control,X.value.toLowerCase())}break;case"MSGDISPLAYINTERVAL":if(X.value===undefined){B(2," Invalid command : "+X);return}else{F=X.value}break;case"IMPLICITSAVE":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{if(X.value.toUpperCase()==="TRUE"){O=true}}break;case"CTIMESSAGEPREFIX":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{H=X.value}break;case"CHANGEVALUE":if(A(U,X.control)){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{U.ChangeValue(X.value);if(ag!==null&&ag.m_id!==U.m_id){ag.ChangeValue(X.value)}}}Y=true;break;case"BLINKCONTROL":if(A(U,X.control)){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{U.Blink(X.value);if(ag!==null&&ag.m_id!==U.m_id){ag.Blink(X.value)}if(J===true&&U.m_name.indexOf("Accept Work")>=0&&X.value.toUpperCase()==="TRUE"){this.TriggerEvent(U.m_name,"click")}}}Y=true;break;case"CHANGETOOLTIP":if(A(U,X.control)){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{U.SetTooltip(X.value);if(ag!==null&&ag.m_id!==U.m_id){ag.SetTooltip(X.value)}}}break;case"STARTTIMER":var ad=X.startTime;var Z=X.serverTime;if(A(U,X.control)){if(ad!==undefined&&Z!==undefined){U.StartTimer(ad,Z)}else{B(2,"Invalid command : "+X);return}}break;case"STOPTIMER":if(A(U,X.control)){U.StopTimer()}break;case"SHOWALERT":if(X.message===undefined){B(2,"Invalid command : "+X);return}else{this.ShowMessageWithAlert(X.message)}break;case"SHOWDOCUMENT":case"DOPOPUP":case"DOSWEENCODECMD":var ah=(X.checkPopup!==undefined&&X.checkPopup.toUpperCase()==="TRUE"&&u());var af=(X.url.indexOf("OpenEmailPopup")<0)&&(X.url.indexOf("UpdateCustDashboardWithBookmark")<0);if(!ah&&af){if(X.name.toUpperCase()==="SHOWDOCUMENT"&&n()===true){SiebelApp.S_App.CommToolbarUtil.ShowDocument(X.url,X.target,X.encodedCmd,X.viewName)}else{if(X.name.toUpperCase()==="DOPOPUP"){SiebelApp.S_App.CommToolbarUtil.DoPopup(X.url,X.width,X.height)}else{if(X.name.toUpperCase()==="DOSWEENCODECMD"&&n()===true){SiebelApp.S_App.CommToolbarUtil.DoSweCmd(X.url)}}}}else{if(X.name.toUpperCase()!=="DOSWEENCODECMD"&&X.urlParameters!==undefined){a(X,X.urlParameters,["SWEService","SWEMethod","SWECmd"]);if((c(X.SWEService)&&X.SWEService.length>0)&&(c(X.SWEMethod)&&X.SWEMethod.length>0)&&(c(X.SWECmd)&&X.SWECmd.toUpperCase()==="INVOKEMETHOD")){var ac=SiebelApp.S_App.GetService(X.SWEService);if(ac){if(af||ah){X.urlParameters.SetProperty("ExecuteCommand","No")}ac.InvokeMethod(X.SWEMethod,X.urlParameters);B(3,"Invoke Method"+X.SWEMethod+" for BS: "+X.SWEService)}}}if(af||ah){this.ExecuteCommand({name:"SHOWSTATUSTEXT",value:X.popupErrMsg})}}break;case"HASPENDINGPOPUP":if(X.urlParameters!==undefined){a(X,X.urlParameters,["SWEService","SWEMethod","SWECmd"]);if((c(X.SWEService)&&X.SWEService.length>0)&&(c(X.SWEMethod)&&X.SWEMethod.length>0)&&(c(X.SWECmd)&&X.SWECmd.toUpperCase()==="INVOKEMETHOD")){var ab=u()?"TRUE":"FALSE";var ac=SiebelApp.S_App.GetService(X.SWEService);if(ac){var aa=CCFMiscUtil_CreatePropSet();aa.SetProperty("HasPendingPopup",ab);if(X.value!==undefined&&X.value!==null){aa.SetProperty("Value",X.value)}ac.InvokeMethod(X.SWEMethod,aa);B(3,"Invoke Method"+X.SWEMethod+" for BS: "+X.SWEService+" Popup: "+ab)}}}break;case"DOPUREPOPUP":if(X.url!==undefined){var ai=location.protocol;SWEShowFeaturedPopup(ai+"//"+X.url,X.target,X.height,X.width,X.feature)}else{B(2,"Invalid command : "+X);return}break;case"REMOVEPOPUP":if(X.target===undefined){B(2,"Invalid command : "+X);return}else{if(X.target.length>0){var ae=X.target;if(window[ae]!==undefined&&window[ae]!==null){window[ae].close()}}}break;case"DONE":break;case"REVERSEORDER":break;case"TOGGLECONTROL":if(A(U,X.control)){if(X.value===undefined){B(2,"Invalid command : "+X);return}else{U.SetToggle(X.value)}}Y=true;break;case"SHOWERRORSTATUSTEXT":case"SHOWSTATUSTEXT":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{var aj=X.value;this.AddMessageToQ(aj);this.ShowStatusText(aj,F)}break;case"PLAYSOUND":var T=X.value;if(T===undefined){B(2,"Invalid command : "+X);return}else{if(T.length>0){this.PlaySound(T)}}break;case"INVOKEMETHOD":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{if(X.value.length>0){var W="start.swe?SWECmd=InvokeMethod&SWEService=HTML+Communication+Client&SWEMethod=";W+=X.value;SiebelApp.S_App.CommToolbarUtil.SendCommand({url:W,inputKV:{},error:function(){B(2,"Invoke method failed for: "+X.value+" of HTML Communication Client.")},needUIFProcessRP:true})}}break;case"WAITFORCMD":e=true;SiebelApp.S_App.CommToolbarUtil.StartPush({bPush:true,sCmd:X.value,StopPushString:q,RetryBeforeStopPush:r});break;case"GETMESSAGECMD":if(X.polling.length>0&&X.polling>=0){SiebelApp.S_App.CommToolbarUtil.StartPush({bPush:false,sCmd:X.value,iInterval:X.polling,StopPushString:q,RetryBeforeStopPush:r})}else{SiebelApp.S_App.CommToolbarUtil.StartPush({bPush:false,sCmd:X.value,iInterval:2,StopPushString:q,RetryBeforeStopPush:r})}break;case"SHOWPREVIOUSMESSAGE":this.ShowPreviousMessage();break;case"SHOWNEXTMESSAGE":this.ShowNextMessage();break;case"AUTOANSWER":if(X.value!==undefined&&X.value.toUpperCase()==="TRUE"){J=true}break;case"BROWSERONFOCUS":this.FlashTitle(x);break;case"SERIOUSREFIDERROR":this.SeriousRefIDError();break;case"MAXREFIDERROR":if(X.value!==undefined&&X.message!==undefined){this.SetMaxRefIDError(X.value,X.message)}break;case"BRINGTOFRONTTITLE":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{x=X.value}break;case"ENABLEPSRLOG":SiebelApp.S_App.CommToolbarUtil.SetEnablePSRLog();break;case"SETCLIENTPSRLOGLENGTH":if(!isNaN(X.value)){SiebelApp.S_App.CommToolbarUtil.SetClientPSRLogLength(X.value)}break;case"INITFAILED":this.HideCTIToolbar();break;case"CALLFROMUICOMMAND":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{D=X.value}break;case"STOPPUSHSTRING":if(X.value===undefined){B(2,"Invalid command : "+X);return}else{q=$("<div/>").html(X.value).text()}break;case"RETRYBEFORESTOPPUSH":if(X.value===undefined||isNaN(X.value)){B(2,"Invalid command : "+X);return}else{r=X.value}break;case"JAVASCRIPTLOGLEVEL":if(X.value===undefined||isNaN(X.value)){B(2,"Invalid command : "+X);
return}else{m=X.value;B(1,"JavaScriptLogLevel : "+m);SiebelApp.S_App.CommToolbarUtil.SetLogLevel(m)}break;default:break}if(Y){this.BlinkParentBtn()}};function a(W,U,T){for(var V=0;V<T.length;V++){W[T[V]]=U.GetProperty(T[V])}}function c(T){return(T!==null&&T!==undefined)}function Q(){var T={BusComp:"",Field:""};var X=App();var W;var V;var U;var Z;var Y;if(X===undefined||X===null){B(2,"App() failed!");return T}W=X.GetMainView();if(W===undefined||W===null){B(2,"Get no main view!");return T}V=W.GetActiveApplet();if(V===undefined||V===null){B(2,"No active applet found!");return T}U=V.GetBusComp();if(U===undefined||U===null){B(2,"No BC found for current active applet !")}else{T.BusComp=U.GetName()}Z=V.GetActiveControl();if(Z===undefined||Z===null){B(3,"No active control found for current active applet!")}else{Y=Z.GetFieldName();T.Field=Y}return T}i.prototype.AddMessageToQ=function(T){if(l.length<10){l.push(T)}else{l.shift();l.push(T)}S=l.length};i.prototype.ShowNextMessage=function(){var T;if(l.length===0){return}if(S<l.length-1){T=l[++S]}else{S=l.length-1;T=l[l.length-1]}T=S+". "+T;this.ShowStatusText(T,F)};i.prototype.ShowPreviousMessage=function(){var T;if(l.length===0){return}if(S>0){T=l[--S]}else{T=l[0]}T=S+". "+T;this.ShowStatusText(T,F)};i.prototype.ShowStatusText=function(U,T){};i.prototype.ShowMessageWithAlert=function(T){};i.prototype.TriggerEvent=function(U,T){};i.prototype.UpdateHTMLControl=function(V,U,T){};i.prototype.PlaySound=function(T){};i.prototype.FlashTitle=function(T){};i.prototype.BlinkParentBtn=function(){};i.prototype.GotoCTIToolbar=function(){};i.prototype.HideCTIToolbar=function(){};i.prototype.UpdateCallContactFromUI=function(T){};i.prototype.ApplySticky=function(U){var T=j(U);if(T!==undefined&&T!==null&&T.m_bSticky===true){var V=o[T.m_iSeq];if(V!==undefined&&V!==null){M[V.m_name]=undefined;V.ReplaceInfo(T);V.SetEnabled("true");M[V.m_name]=V}}};i.prototype.CollectFocusInfo=function(){t=Q()};i.prototype.ClearFocusInfo=function(){t=null};i.prototype.IsUseCookies=function(){return C};i.prototype.GetSessionName=function(){return f};i.prototype.GetSessionId=function(){return y};i.prototype.GetSessionRN=function(){return I};function n(){if(O===false){return true}var T=true;var W=App();if(W===undefined||W===null){B(2,"App() failed!");return T}var U=App().GetMainView();if(U===undefined||U===null){B(2,"No main view found!");return T}var V=U.GetActiveApplet();if(V===undefined||V===null){B(2,"No active applet found!");return T}T=V.InvokeMethod("ImplicitCommit",CCFMiscUtil_CreatePropSet());return T}function u(){if(SiebelApp.S_App.GetPopupPM().Get("state")===consts.get("POPUP_STATE_VISIBLE")){return true}else{return false}}i.prototype.SeriousRefIDError=function(){h++;B(1,"Serious Error <"+h+">: Ref ID is less than expected!");if(v>0&&h>=v){SiebelApp.S_App.CommToolbarUtil.StopPush();B(1,P);this.ExecuteCommand({name:"SHOWSTATUSTEXT",value:P})}};i.prototype.PushError=function(){w++;B(1,"Serious Error <"+w+">: Push Response Error!");if(v>0&&w>=v){SiebelApp.S_App.CommToolbarUtil.StopPush();B(1,P);this.ExecuteCommand({name:"SHOWSTATUSTEXT",value:P})}};i.prototype.SetMaxRefIDError=function(U,T){if(!isNaN(U)){v=U}P=T};function B(U,T){SiebelApp.S_App.CommToolbarUtil.Log(U,"commToolbarpui.js: "+T)}i.prototype.CallContactFromUIEnabled=function(){return N};i.prototype.OpenCallContactFromUIPopup=function(T,U){};i.prototype.DisableAllButtons=function(){var V;var U={};$.extend(U,M,G);for(var T in U){if(U.hasOwnProperty(T)){V=U[T];if(V.m_type==="button"){V.SetEnabled("FALSE")}}}};function R(){var T=3;var U=true;SiebelApp.S_App.CommToolbarUtil.SetLogLevel(T);g=U}return new i()}())};