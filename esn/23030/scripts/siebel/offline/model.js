/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.Metadata)==="undefined"){SiebelJS.Namespace("SiebelApp.Metadata");SiebelApp.Metadata=(function(){var f=SiebelJS.Dependency("SiebelApp.Offlineconstants");var p=SiebelJS.Dependency("SiebelApp.Constants");var v=SiebelJS.Dependency("SiebelApp.Utils");var g=SiebelApp.S_App;var j=f.get("METADATA_FLD_SEP");var t=SiebelApp.OfflineUtils;var a=SiebelApp.AjaxRequestMgr;var u=["MBCs","MLinks","MBOs","MBSs","MApplets","MBCFilters","MBOFilters","PickListInfo","MViews"];var d=["SystemPreferences","SiebelApplicationParameters","ListOfValues","PickListGeneric","PickListHierarchical","PickListHierarchicalSubArea","MIcons"];var e=null;var o=false;function i(){var z;A=function A(){return z};A.prototype=this;z=new A();z.constructor=A;return z}var s=new i();i.prototype.Load=function(F){var H;var J;var D;var K;e=window.localStorage.getItem("Metadata");if(e){e=JSON.parse(e)}else{e={}}var I=true;if(v.IsEmpty(F)){K=u.concat(d)}else{if(F){K=u}else{K=d;I=false}}H=K.length;var E=function(L){J=L.retVal[0];D=L.retVal[1];switch(J){case u[0]:e[u[0]]={};y.call(this,D);break;case u[1]:e[u[1]]={};k.call(this,D);break;case u[2]:e[u[2]]={};l.call(this,D);break;case u[3]:e[u[3]]={};n.call(this,D);break;case u[4]:e[u[4]]={};c.call(this,D);break;case u[5]:e[u[5]]={};break;case u[6]:e[u[6]]={};break;case u[7]:e[u[7]]={};q.call(this,D);break;case u[8]:e[u[8]]={};SiebelApp.S_App.Model.SetViewModeDef(D);break;case d[0]:e[d[0]]={};b.call(this,D);break;case d[1]:e[d[1]]=D;SiebelApp.S_App.Model.SetSiebelApplicationParameters(D);break;case d[2]:e[d[2]]={};r.call(this,D);break;case d[3]:e[d[3]]={};m.call(this,D);break;case d[4]:e[d[4]]={};w.call(this,D);break;case d[5]:e[d[5]]={};x.call(this,D);break;case d[6]:e[d[6]]={};h.call(this,D);break}var S={};var P=f.get("SWE_POST_CHANGES");var U=f.get("WRITERECORD");var O=f.get("UNDORECORD");var T=f.get("POSITION_ON_ROW");var R=f.get("NEWRECORD");var M=f.get("EDITRECORD");var V=f.get("DELETERECORD");var N=f.get("GO_TO_NEXT_SET");var Q=f.get("GO_TO_PREV_SET");var W=p.get("SWE_GET_PICK_INFO");S.PostChanges=[U,O,P,T,M,N,Q,W];S.WriteRecord=[P,T,N,Q];a.SetDepnRequestMap(S)};var B=[];var G=-1;var C=function(){var L=z;return function(){return([K[L]])}};var A;for(var z=0;z<H;z++){if(e[K[z]]){continue}A=C();B[++G]={execute:SiebelApp.BrowserCacheMgr.GetMetadata,executeScope:SiebelApp.BrowserCacheMgr,postExecute:E,preExecute:A}}$.eachAsyncOp(this,B);$.callback(this,function(L){if(I){var M={};M[d[2]]=e[d[2]];window.localStorage.setItem("Metadata",JSON.stringify(M))}$.setReturnValue(L)})};i.prototype.EnumUserProps=function(A){var z=null;if(A.userPropMap){z=[];for(var B in A.userPropMap){if(B){z.push(B)}}return z}else{return null}};i.prototype.GetUserProperty=function(A,z){if(z.userPropMap){return z.userPropMap[A]}else{return""}};function r(B){if(!B){SiebelJS.Log("Unable to load List Of Values");return}var z=B.length;var A=this.GetListOfValues();for(var C=0;C<z;C++){if(!A[B[C].Type]){A[B[C].Type]=[]}A[B[C].Type].push(B[C])}}function b(B){if(!B){SiebelJS.Log("Unable to load System Preferences");return}var z=B.length;var A=null;for(var C=0;C<z;C++){A={};A.Value=B[C].Value;this.SetSystemPreference(B[C].Name,A)}}function q(C){if(!C){SiebelJS.Log("Unable to get PickList Definitions.");return}var z=C.length;var A=null;for(var D=0;D<z;D++){A={};for(var B in C[D]){if(C[D][B]){if(this.IsBoolean(C[D][B])){A[B]=v.IsTrue(C[D][B])}else{A[B]=C[D][B]}}}A.Name=C[D].NAME;this.SetPickListDef(A.Name,A)}}function m(D){if(!D){SiebelJS.Log("Unable to get ParsePickListGeneric BC Table.");return}var z=D.length;var C=null;var A=null;for(var E=0;E<z;E++){A={};C={};for(var B in D[E]){if(D[E][B]){A[B]=D[E][B]}}A.Type=D[E].Type;C.Value=D[E].Value;C.OrderBy=D[E].OrderBy;C.Name=D[E].Name;this.SetPickListGeneric(A.Type,C)}}function h(D){if(!D){SiebelJS.Log("Unable to get MIcons BC Table.");return}var z=D.length;var C=null;var A=null;for(var E=0;E<z;E++){A={};C={};for(var B in D[E]){if(D[E][B]){A[B]=D[E][B]}}A.IconMapName=D[E].IconMapName;C.IconMapName=D[E].IconMapName;C.IconName=D[E].IconName;C.FileName=D[E].FileName;this.SetMIcons(A.IconMapName,C)}}function w(D){if(!D){SiebelJS.Log("Unable to get ParsePickListHierarchical BC Table.");return}var z=D.length;var C=null;var A=null;for(var E=0;E<z;E++){A={};C={};for(var B in D[E]){if(D[E][B]){A[B]=D[E][B]}}A.Type=D[E].Type;C.Value=D[E].Value;C.Parent=D[E].Parent;this.SetPickListHierarchical(A.Type,C)}}function x(D){if(!D){SiebelJS.Log("Unable to get ParsePickListHierarchical BC Table.");return}var z=D.length;var C=null;var A=null;for(var E=0;E<z;E++){A={};C={};for(var B in D[E]){if(D[E][B]){A[B]=D[E][B]}}A.Type=D[E].Type;C.Value=D[E].Value;C.Parent=D[E].Parent;C.Parent=D[E].Parent;C.ParentType=D[E].ParentType;this.SetPickListHierarchicalSubArea(A.Type,C)}}function c(A){if(!A){SiebelJS.Log("Unable to get Applet Definitions.");return}var J=A.length;var G=null;var H=null;var I=null;var D=null;var E=null;for(var B=0;B<J;B++){G={};for(var N in A[B]){if(this.IsBoolean(A[B][N])){G[N]=v.IsTrue(A[B][N])}else{if(A[B][N]){G[N]=(v.IsEmpty(A[B][N]))?"":A[B][N]}}}G.userPropMap=null;if(!v.IsEmpty(A[B].userPropMap)){H=A[B].userPropMap.substring(1,A[B].userPropMap.length-1).split(j);I=H.length;G.userPropMap={};for(E=0;E<I;E++){D=H[E].split(f.get("METADATA_SEP"));D[1]=D[1].replace(/&verbar;/g,"|");G.userPropMap[D[0]]=D[1]}}G.control=null;if(!(v.IsEmpty(A[B].control))){var M=A[B].control.substring(1,A[B].control.length-1).split(j);var z={};var F=null;var L=null;I=M.length;for(E=0;E<I;E++){F=M[E].split(f.get("METADATA_SEP"));L={};L.name=F[0];L.field=F[1];L.ReadOnly=v.IsTrue(F[2]);L.PickFrameName=F[3];L.htmlIconMap=F[4];z[L.name]=L}G.control=z}G.drilldown=null;if(!(v.IsEmpty(A[B].drilldown))){var C=A[B].drilldown.substring(1,A[B].drilldown.length-1).split(j);I=C.length;G.drilldown={};var O=[];for(E=0;E<I;E++){var K={};D=C[E].split(f.get("METADATA_SEP"));D[1]=D[1].replace(/&verbar;/g,"|");K.viewname=D[1];K.busCompName=D[2];K.destFieldName=D[3];K.hyperLinkField=D[4];K.srcFieldName=D[5];K.menuText=D[6];K.sequence=D[7];K.visibilityType=D[8];K.Dynamicdrilldown={};G.drilldown[D[0]]=K;O.push(D[4])}G.ddCtrlsArray=O}this.SetAppletDef(A[B].Name,G)}}function n(A){if(!A){SiebelJS.Log("Unable to get Business Object Definitions.");return}var G=A.length;var z={};var F=null;var E=null;var C=null;var D=null;for(var B=0;B<G;B++){z={};for(var H in A[B]){if(A[B][H]){z[H]=A[B][H]}}if(!v.IsEmpty(A[B].userPropMap)){E=A[B].userPropMap.substring(1,A[B].userPropMap.length-1).split(j);F=E.length;z.userPropMap={};for(D=0;D<F;D++){C=E[D].split(f.get("METADATA_SEP"));C[1]=C[1].replace(/&verbar;/g,"|");z.userPropMap[C[0]]=C[1]}}this.SetBusServiceDef(A[B].Name,z)}}function l(E){if(!E){SiebelJS.Log("Unable to get Business Object Definitions.");return}var z=E.length;var A=null;var F=null;var D=null;var B=null;for(var G=0;G<z;G++){F={};A=E[G].BCLinkProp.substring(1,E[G].BCLinkProp.length-1).split(j);D=A.length;for(var C=0;C<D;C++){B=A[C].split(f.get("METADATA_SEP"));F[B[0]]=B[1]}this.SetBusObjDef(E[G].Name,F)}}function k(C){if(!C){SiebelJS.Log("Unable to get Link Definitions.");
return}var z=C.length;var A=null;for(var D=0;D<z;D++){A={};for(var B in C[D]){if(this.IsBoolean(C[D][B])){A[B]=v.IsTrue(C[D][B])}else{if(C[D][B]){A[B]=(v.IsEmpty(C[D][B]))?"":C[D][B]}}}this.SetLinkDef(C[D].Name,A)}}i.prototype.IsBoolean=function(z){if(z==="F"||z==="T"){return true}return false};i.prototype.GetListOfValues=function(){return e[d[2]]};function y(F){if(!F){SiebelJS.Log("Unable to get Business Component Definitions.");return}var E=null;var K=null;var z=null;var J=null;var U=null;var A=null;var S=F.length;var C=null;var P=null;var V=null;var X=null;var I=null;var R=null;var O=null;var T=null;for(var L=0;L<S;L++){E={};for(var aa in F[L]){if(this.IsBoolean(F[L][aa])){E[aa]=v.IsTrue(F[L][aa])}else{E[aa]=(v.IsEmpty(F[L][aa]))?"":F[L][aa]}}var Z=F[L].userKey;if(!v.IsEmpty(Z)){var N=t.RTrim(Z,",");var D=N.split(",");var Y=D.length;for(var M=0;M<Y;M++){D[M]=t.RemoveNonAlphaChars(D[M])}E.userKey=D.toString()}if(!v.IsEmpty(F[L].userPropMap)){V=F[L].userPropMap.substring(1,F[L].userPropMap.length-1).split(j);C=V.length;E.userPropMap={};for(R=0;R<C;R++){X=V[R].split(f.get("METADATA_SEP"));X[1]=X[1].replace(/&verbar;/g,"|");E.userPropMap[X[0]]=X[1]}}if(!v.IsEmpty(F[L].Visibility)){var G=F[L].Visibility.substring(1,F[L].Visibility.length-1).split(j);C=G.length;E.Visibility={};for(R=0;R<C;R++){X=G[R].split(f.get("METADATA_SEP"));G[R]={};G[R].mode=X[0];G[R].ownerType=X[1];G[R].privateField=X[2];G[R].visibilityField=X[3];G[R].visibilityMVField=X[4];G[R].visibilityMVLink=X[5]}E.Visibility=G}K=F[L].Fields.substring(1,F[L].Fields.length-1).split(j);J={};C=K.length;var Q=[];var W=[];for(R=0;R<C;R++){I=null;U=null;if(K[R].indexOf("}~{")!==-1){U=K[R].substring(K[R].indexOf("~{")+1,K[R].indexOf("}~{")+1);I=K[R].substring(K[R].indexOf("}~{")+2,(K[R].length-2))}else{if(K[R].charAt(K[R].length-1)==="}"){I=K[R].substring((K[R].indexOf("~{")+1),(K[R].length-2));if(K[R].substring((K[R].indexOf("~{")+1),(K[R].indexOf("}",(K[R].indexOf("~{"))))).split("~").length===2){U=I;I=null}}}z=K[R].split(f.get("METADATA_SEP"));A={};A.IsCalculated=(z[1]!==undefined)?z[1]:"";A.CalExpr=(z[2]!==undefined)?z[2]:"";A.ColName=(z[3]!==undefined)?z[3]:"";A.ForceActive=(z[4]!==undefined)?z[4]:"";A.ForceCase=(z[5]!==undefined)?z[5]:"";A.Hidden=(z[6]!==undefined)?z[6]:"";A.ImPostChg=(z[7]!==undefined)?z[7]:"";A.LinkName=(z[8]!==undefined)?z[8]:"";A.NoCopy=(z[9]!==undefined)?z[9]:"";A.PickListName=(z[10]!==undefined)?z[10]:"";A.PostDefault=(z[11]!==undefined)?z[11]:"";A.PreDefault=(z[12]!==undefined)?z[12]:"";A.Precision=(z[13]!==undefined)?z[13]:"";A.ReadOnly=(z[14]!==undefined)?v.IsTrue(z[14]):false;A.Required=(z[15]!==undefined)?v.IsTrue(z[15]):false;A.Scale=(z[16]!==undefined)?z[16]:"";A.OldTextLen=(z[17]!==undefined)?z[17]:"";A.DataType=(z[18]!==undefined)?z[18]:"";A.ValidationSpec=(z[19]!==undefined)?z[19]:"";A.DisableSearch=(z[20]!==undefined)?z[20]:"";A.DisableSort=(z[21]!==undefined)?z[21]:"";A.userPropMap=null;A.pickMap=null;var H=z[z.length-1];if(v.IsEmpty(H)){A.Join=false}else{A.Join=true;var B=[];B=H.split(":");A.JoinInfo={};A.JoinInfo.JoinType=B[0];A.JoinInfo.JoinTable=B[1];if(B[0]==="X"){Q.push(z[0]);W.push(z[3])}}if(I){I=I.substring(1,I.length-1);if(!SiebelApp.Utils.IsEmpty(I)){I=I.substring(1,I.length-1).split(f.get("METADATA_LST_SEP"));P=I.length;A.pickMap=[];for(O=0;O<P;O++){X=I[O].split(f.get("METADATA_SEP"));A.pickMap.push({FldName:X[0],IsConstrained:v.IsTrue(X[1]),NoClear:X[2],PFldName:X[3]})}}}if(U){V=U.substring(1,U.length-1);if(!SiebelApp.Utils.IsEmpty(V)){V=V.substring(1,V.length-1).split(f.get("METADATA_LST_SEP"));P=V.length;A.userPropMap={};for(O=0;O<P;O++){X=V[O].split(f.get("METADATA_SEP"));X[1]=X[1].replace(/&verbar;/g,"|");A.userPropMap[X[0]]=X[1]}}}J[z[0]]=A}E.Fields=J;E.InterFieldInfo={};E.InterFieldInfo.InterFieldArr=Q;E.InterFieldInfo.InterFieldColName=W;this.SetBusCompDef(F[L].Name,E)}}i.prototype.IsInitialized=function(){return o};i.prototype.SetInitialized=function(z){o=z};i.prototype.GetBusObjDef=function(z){if(!e[u[2]][z]){throw new Error()}return e[u[2]][z]};i.prototype.GetBusCompDef=function(z){if(!e[u[0]][z]){return null}return e[u[0]][z]};i.prototype.GetBCUnqKeys=function(z){var A=this.GetBusCompDef(z);var B;if(A&&!v.IsEmpty(A.userKey)){B=A.userKey}return B};i.prototype.GetLinkDef=function(z){if(!e[u[1]][z]){throw new Error()}return e[u[1]][z]};i.prototype.GetAppletDef=function(z){if(!e[u[4]][z]){throw new Error()}return e[u[4]][z]};i.prototype.GetPickListDef=function(z){if(!e[u[7]][z]){return null}return e[u[7]][z]};i.prototype.GetPickListGeneric=function(z){if(!e[d[3]][z]){throw new Error()}return e[d[3]][z]};i.prototype.GetMIcons=function(z){if(!e[d[6]][z]){throw new Error()}return e[d[6]][z]};i.prototype.GetPickListHierarchical=function(A,C){if(!e[d[4]][A]){throw new Error()}var D=e[d[4]][A];var z=[];for(var B=0;B<D.length;B++){if(!C){z.push(D[B].Value)}else{if(C===D[B].Parent){z.push(D[B].Value)}}}return z};i.prototype.GetPickListHierarchicalSubArea=function(A,E,C){if(!e[d[5]][A]){throw new Error()}var D=e[d[5]][A];var z=[];for(var B=0;B<D.length;B++){if(!C){z.push(D[B].Value)}else{if(E===D[B].ParentType&&C===D[B].Parent){z.push(D[B].Value)}}}return z};i.prototype.GetSystemPreference=function(z){if(!e[d[0]][z]){return""}return e[d[0]][z]};i.prototype.GetBusServiceDef=function(z){if(!e[u[3]][z]){throw new Error()}return e[u[3]][z]};i.prototype.SetBusServiceDef=function(z,A){e[u[3]][z]=A};i.prototype.SetSystemPreference=function(z,A){e[d[0]][z]=A};i.prototype.SetPickListDef=function(z,A){e[u[7]][z]=A};i.prototype.SetPickListGeneric=function(A,B){var z=e[d[3]][A];if(z){z.push(B)}else{z=[];z.push(B)}e[d[3]][A]=z};i.prototype.SetMIcons=function(A,B){var z=e[d[6]][A];if(z){z.push(B)}else{z=[];z.push(B)}e[d[6]][A]=z};i.prototype.SetPickListHierarchical=function(A,B){var z=e[d[4]][A];if(z){z.push(B)}else{z=[];z.push(B)}e[d[4]][A]=z};i.prototype.SetPickListHierarchicalSubArea=function(A,B){var z=e[d[5]][A];if(z){z.push(B)}else{z=[];z.push(B)}e[d[5]][A]=z};i.prototype.SetAppletDef=function(z,A){e[u[4]][z]=A};i.prototype.SetBusObjDef=function(z,A){e[u[2]][z]=A};i.prototype.SetBusCompDef=function(z,A){e[u[0]][z]=A};i.prototype.GetLov=function(E){var B=SiebelApp.Metadata.GetListOfValues();var C=B[E];var A=[];if(C){var z=C.length;for(var D=0;D<z;D++){A[D]=C[D].Name}return A}};i.prototype.SetLinkDef=function(z,A){e[u[1]][z]=A};return s}())}if(typeof(SiebelApp.S_App.Model)==="undefined"){SiebelJS.Namespace("SiebelApp.Model");SiebelApp.S_App.Model=(function(){var b={};var n={};var v=[];var r=["Id","Created","Created By","Updated","Updated By","Mod Id","Conflict Id"];var l=SiebelApp.S_App;var t=SiebelApp.Metadata;var j=SiebelApp.Offlineconstants;var q=SiebelApp.Constants;var x=SiebelJS.Dependency("SiebelApp.Utils");var h=j.get("DOUIREG_OBJ_NAME");var m=j.get("DOUIREG_OBJ_TYPE");var e=j.get("DOUIREG_OBJ_MTHD");var o=j.get("DOUIREG_EXT_TYPE");var d=j.get("DOUIREG_SRVC_NAME");var s=j.get("DOUIREG_SRVC_MTDH");var z=j.get("DOUIREG_EXT_TYPEOVERRIDE");var g=j.get("DOUIREG_EXT_TYPEPRE");var w=j.get("DOUIREG_EXT_TYPEPOST");
var f=j.get("STAND_ALONE_INST");var c=q.get("SWE_PROP_NAME");var a=j.get("DOUIREG_EXT_CONTEXT");var p=j.get("DOUIREG_OBJ_TYPEBUSCOMP");var k=j.get("DOUIREG_OBJ_TYPEAPPLET");var y=0;function i(){var A;this.GetServiceMap=function(){return n};B=function B(){return A};B.prototype=this;A=new B();A.constructor=B;return A}var u=new i();i.prototype.IsMetadataInitialized=function(){if(!t.IsInitialized()){t.Load();$.callback(this,function(){t.SetInitialized(true)})}};i.prototype.GetPickListDef=function(A){return t.GetPickListDef(A)};i.prototype.GetBusObj=function(A){var C;var B=SiebelApp.S_App.Model.GetIsInterFace();if(B<0||B===0){C=this.GetBusObjDef(A);return(C)}else{C=this.GetBusObjDef(A);return C.GetInterface()}};i.prototype.GetSystemPreference=function(A){return(SiebelApp.Metadata.GetSystemPreference(A))};i.prototype.SetBOArray=function(A){v.push(A)};i.prototype.GetBOArray=function(){return v};i.prototype.GetBusObjDef=function(E){var A;var B=CCFMiscUtil_CreatePropSet();var H=t.GetBusObjDef(E);var D;B.SetType(q.get("SWE_PST_BUSOBJ_INFO"));var C=l.LookupSCIndex(E);if(C!==-1){D=C}else{l.GetStringCache().push(E);D=l.GetStringCache().length-1}B.SetPropertyStr(c,E);B.SetProperty(f,"true");if(H){for(var G in H){if(G){var I=CCFMiscUtil_CreatePropSet();var F=CCFMiscUtil_CreatePropSet();I.SetType(q.get("SWE_PST_NEW_BUSCOMP"));F.SetType(q.get("SWE_PST_BUSCOMP_INFO"));F.SetValue(G);F.SetProperty(q.get("SWE_PROP_NAME"),G);I.AddChild(F);B.AddChild(I)}}}A=new l.BusObj();A.ProcessObjectInfo(B);v.push(A);return A};i.prototype.GetLovNameVal=function(D,F){var B=SiebelApp.Metadata.GetListOfValues();var C=B[F];if(x.IsEmpty(D)){return""}if(C){var A=C.length;for(var E=0;E<A;E++){if((C[E].Name).toUpperCase()===(D).toUpperCase()){return C[E].Value}}}return""};i.prototype.GetLovValName=function(F,E){var B=SiebelApp.Metadata.GetListOfValues();var C=B[E];if(C){var A=C.length;for(var D=0;D<A;D++){if((C[D].Value).toUpperCase()===(F).toUpperCase()){return C[D].Name}}}return""};i.prototype.GetSystemFields=function(){return r};i.prototype.ResetDyncPS=function(){b={}};i.prototype.GetDyncPS=function(B,A){if(A){return b}else{return(b[B])}};i.prototype.SetDyncPS=function(B,A,D){if(!D){D=B.length}for(var C=0;C<D;C++){b[B[C]]=A[C]}};i.prototype.RegistryLookup=function(A){var D;var G="";var C="";var E="";var F;var B=false;if(A[h]){if(A[m]&&A[e]&&(A[o])){G=A[m];C=A[e];E=A[o]}else{E=null;B=true}D=A[h]}else{return null}if(!B){F=D+G+C+E}else{F=D}if(F){if(n[F]){return(n[F])}else{return null}}};i.prototype.ServiceRegistry=function(E){var B={};var D;var G;var A="";var C="";var H="";var I="";var F="";var J=false;if(E[h]&&E[m]&&E[e]&&E[o]){A=E[m];C=E[e];H=E[o];F=E[s]}else{if(E[d]&&E[h]){H=null;J=true}else{return(false)}}G=E[h];I=E[d];if(!J){D=G+A+C+H;B[d]=I;B[s]=F;B[o]=H}else{D=G;B[d]=I}if(n[D]){n[D][0]=B}else{n[D]=[B]}return(true)};i.prototype.InvokeRegisteredSvc=function(B,I,A){var J=this.RegistryLookup(B);var F={};if(J){var C=J[0];var D=null;if(J.length>1){D=J[1]}if(!C&&!D){$.setReturnValue({err:false,retVal:F});if(A){return({err:false,retVal:F})}return}else{if(A){return(this.InvokeSyncRegisteredSvc(B,I,C,D))}}}else{$.setReturnValue({err:false,retVal:F});if(A){return({err:false,retVal:F})}return}var G={};if(B[a]){G=B[a]}var H=function H(){if(C.Service&&SiebelApp[C.Service]){var L=new SiebelApp[C.Service]();if(G&&(B[m]===k||B[m]===p)){if(L.constructor.superclass){var K=G.GetInterface();L.SetContext(K)}}this.SetIsInterFace(1);L[C[s]](I);$.callback(this,E)}else{SiebelJS.Log("Service Function not found");$.setReturnValue({err:false,retVal:F})}};var E=function(L){H=null;var K=L.err;L.Outputargs=L.retVal;this.SetIsInterFace(-1);var M={err:K,retVal:L};$.setReturnValue(M)};if(C&&D){if(C[o]===g){SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(B,I,A,D);$.callback(this,function(L){var M=L.retVal;if(M){var K=M.Outputargs;if(K&&K.GetPropertyAsStr("Invoked")==="true"){$.setReturnValue(L);H=null;E=null;return}else{H.call(this)}}else{H.call(this)}})}else{H.call(this);$.callback(this,function(K){if(!K.err){SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(B,I,A,D);$.callback(this,function(L){$.setReturnValue(L);H=null;E=null})}else{$.setReturnValue(K)}})}}else{if(C){H.call(this)}else{SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(B,I,A,D);$.callback(this,function(K){$.setReturnValue(K);H=null;E=null})}}};i.prototype.InvokeSyncRegisteredSvc=function(C,J,D,E){var G={};if(C[a]){G=C[a]}var I=function I(){if(D.Service&&SiebelApp[D.Service]){var L=new SiebelApp[D.Service]();if(G&&(C[m]===k||C[m]===p)){if(L.constructor.superclass){var K=G.GetInterface();L.SetContext(K)}}this.SetIsInterFace(1);L[D[s]](J);var N=SiebelApp.OfflineAppMgr.GetCurrentRetVal();var M=N.err;N.Outputargs=N.retVal;this.SetIsInterFace(-1);var O={err:M,retVal:N};return O}else{SiebelJS.Log("Service Function not found");return({err:false,retVal:F})}};if(D&&E){if(D[o]===g){var A=SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(C,J,true,E);var B=A.retVal;if(B){var H=B.Outputargs;if(H&&H.GetPropertyAsStr("Invoked")==="true"){I=null;return(A)}else{return I.call(this)}}else{return I.call(this)}}else{var F=I.call(this);I=null;if(!F.err){return(SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(C,J,true,E))}else{return F}}}else{if(D){return(I.call(this))}else{I=null;return(SiebelApp.S_App.ModelInterface.InvokeRegisteredSvc(C,J,true,E))}}};i.prototype.EndSetupView=function(B,E,C,A,F,D){B.EndActivationBlock();$.callback(this,function(){if(!x.IsEmpty(A)){B.DrillDownByField(E,C,A,F,D)}})};i.prototype.GetLoginName=function(){return window.localStorage.getItem("UID")};i.prototype.SetSiebelApplicationParameters=function(B){var A=B[0];if(x.IsEmpty(this.GetLoginName())){window.localStorage.setItem("UID",A.LoginName)}this.GetLoginId=function(){return A.LoginId};this.GetPositionId=function(){return A.PositionId};this.GetPositionName=function(){return A.PositionName};this.GetOrganizationId=function(){return A.OrganizationId};this.GetOrganizationName=function(){return A.GetOrganizationName};this.GetLanguage=function(){return A.Language};this.GetCurrencyCode=function(){return A.CurrencyCode};this.GetDivisionId=function(){return A.DivisionId};this.GetDivisionName=function(){return A.DivisionName};this.GetTimeZone=function(){return A.TimeZone}};i.prototype.SetIsInterFace=function(A){y=y+A};i.prototype.GetIsInterFace=function(){return(y)};i.prototype.ReSetIsInterFace=function(){y=0};i.prototype.ReleaseBO=function(A){A.EndLife()};i.prototype.SetViewModeDef=function(B){if(B){var D=B.length;var A={};for(var C=0;C<D;C++){A[B[C].Name]=B[C].Visibility}this.GetViewModeDef=function(){return A}}};i.prototype.GetViewMode=function(B){var A=this.GetViewModeDef();return(A[B])};return u}())}if(typeof(SiebelApp.S_App.ModelInterface)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.ModelInterface");SiebelApp.S_App.ModelInterface=(function(){var m={};var j=SiebelApp.Offlineconstants;var o=SiebelApp.Constants;var s=SiebelJS.Dependency("SiebelApp.Utils");var i=j.get("DOUIREG_OBJ_NAME");var l=j.get("DOUIREG_OBJ_TYPE");
var d=j.get("DOUIREG_OBJ_MTHD");var n=j.get("DOUIREG_EXT_TYPE");var b=j.get("DOUIREG_SRVC_NAME");var q=j.get("DOUIREG_SRVC_MTDH");var u=j.get("DOUIREG_EXT_TYPEOVERRIDE");var g=j.get("DOUIREG_EXT_TYPEPRE");var r=j.get("DOUIREG_EXT_TYPEPOST");var f=j.get("STAND_ALONE_INST");var c=o.get("SWE_PROP_NAME");var a=j.get("DOUIREG_EXT_CONTEXT");var p=j.get("DOUIREG_OBJ_TYPEBUSCOMP");var k=j.get("DOUIREG_OBJ_TYPEAPPLET");function h(){var v;w=function w(){return v};w.prototype=this;v=new w();v.constructor=w;return v}var e=new h();for(var t in SiebelApp.S_App.Model.constructor.prototype){(function(){var v=t;if(typeof(SiebelApp.S_App.Model.constructor.prototype[v])==="function"){h.prototype[v]=function(){return(SiebelApp.S_App.Model.constructor.prototype[v].apply(SiebelApp.S_App.Model,arguments))}}}())}h.prototype.ServiceRegistry=function(z){var w={};var y;var B;var v="";var x="";var C="";var D="";var A="";var E=false;if(z[i]&&z[l]&&z[d]&&z[n]){v=z[l];x=z[d];if((x===j.get("CANINVOKEMETHOD"))&&((z[l]==="Applet")||(z[l]==="BusComp"))){x="DoCanInvokeMethod"}else{if((x===j.get("INVOKEMETHOD"))&&((z[l]==="Applet")||(z[l]==="BusComp"))){x="DoInvokeMethod"}}C=z[n];A=z[q]}else{if(z[b]&&z[i]){C=null;E=true}else{return(false)}}B=z[i];D=z[b];if(!E){y=B+v+x+C;w[b]=D;w[q]=A;w[n]=C}else{y=B;w[b]=D}if(SiebelApp.S_App.Model.GetServiceMap()[y]){SiebelApp.S_App.Model.GetServiceMap()[y].push(w)}else{SiebelApp.S_App.Model.GetServiceMap()[y]=[null,w]}return(true)};h.prototype.InvokeRegisteredSvc=function(x,D,v,y){var A;var z;var w;var C={};if(x[a]){C=x[a]}var B=function(E){z=E.err;E.Outputargs=E.retVal;SiebelApp.S_App.Model.SetIsInterFace(-1);A=null;y=null;$.setReturnValue({err:z,retVal:E});if(v){return E}};if(y&&SiebelApp[y.Service]){A=new SiebelApp[y.Service]();if(C&&(x[l]===k||x[l]===p)){if(A.constructor.superclass){w=C.GetInterface();A.SetContext(w)}}if(typeof(A[y[q]])==="function"){SiebelApp.S_App.Model.SetIsInterFace(1);A[y[q]](D);$.callback(this,B)}else{SiebelApp.S_App.Model.ReSetIsInterFace();SiebelJS.Log("Service Function not found");$.setReturnValue({err:true});if(v){return({err:false,retVal:retObj})}}}else{$.setReturnValue({err:false,retVal:retObj});SiebelJS.Log("Service Function not found");if(v){return({err:false,retVal:retObj})}}};return e}())};