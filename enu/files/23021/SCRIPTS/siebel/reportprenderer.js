if(typeof(SiebelAppFacade.ReportPhyRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.ReportPhyRenderer");if(typeof(SiebelApp)!=="undefined"&&typeof(SiebelApp.S_App)!=="undefined"){if(typeof(SiebelApp.Constants)!=="undefined"){SiebelApp.S_App.RegisterConstructorAgainstKey(SiebelApp.Constants.get("SWE_UIDEF_RPTAPPLET_PRENDR"),"SiebelAppFacade.ReportPhyRenderer")}}var consts=SiebelJS.Dependency("SiebelApp.Constants");SiebelAppFacade.ReportPhyRenderer=(function(){function c(D){var C=D;this.GetPM=function(){return C};C.AttachPMBinding("ShowParameters",function(){q.call(this)},{scope:this});C.AttachPMBinding("ReBindData",function(){var E=this.GetPM().Get("ReBindData");if(E==="HandleNotify"){this.BindData()}},{scope:this});C.AttachPMBinding("ShowMultiSelect",function(){var E=this.GetPM().Get("reportScheduleModeMap");var F=E[$("#scheduleFrequency").children().val()];if(F==="Run Daily/Weekly"){u.call(this,"ReportWeekInfo","#SchedulerWeekDays");h.call(this,"ReportWeekInfo");v.call(this,"ReportRunTimeHour");v.call(this,"ReportRunTimeMinute")}else{if(F==="Run Monthly"){u.call(this,"ReportMonthInfo","#SchedulerMonths");h.call(this,"ReportMonthInfo");v.call(this,"ReportRunTimeHour");v.call(this,"ReportRunTimeMinute")}}},{scope:this});C.AttachPMBinding("ShowHideControls",function(){var G=this.GetPM();var F=G.Get("ShowHideControls");if(typeof(F)==="undefined"||F==="paneload"){s.call(this)}else{var E=G.Get("reportScheduleModeMap");var H=E[$("#scheduleFrequency").children().val()];l.call(this,H)}},{scope:this})}SiebelJS.Extend(c,SiebelAppFacade.PhysicalRenderer);c.prototype.ShowUI=function(){$("#SS_OpenUIReportPane").addClass("siebui-report-pane");var G=$("#reportCustomName");var F=G.children();F.removeAttr("style");$("#ScheduleHeader").hide();$("#reportParameter").hide();$("#s_SubmitSaveDataOption").children("button").attr("class","appletButton");$("#s_SubmitSaveOutputOption").children("button").attr("class","appletButton");$("#s_SubmitSavePublicOption").children("button").attr("class","appletButton");if(utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){$("#s_reportclose").attr("tabindex","0");$("#s_reportclose").attr("role","link");$("#s_reportclose").attr("aria-label",$("#Report_Title_Label").html()+":close");$("#reportnamesCombo select:first-child").attr("aria-labelledby","Report_Name_Label");$("#reportOutputType select:first-child").attr("aria-labelledby","Report_Output_Type_Label");$("#reportLocaleNames select:first-child").attr("aria-labelledby","Report_Locale_Label");$("#reportCustomName input:first-child").attr("aria-labelledby","Report_Custom_Name_Label");var D=$("#Report_Title_Label").html()+" Applet";$("#s_ReportPane").attr({role:"navigation",title:D});var I="";$("#s_reportclose").attr("title","close");$("#scheduleFrequency select:first-child").attr("aria-labelledby","Frequency__Field_Label");$("#SchedulerStartDate input:first-child").attr("aria-labelledby","Start_Date_Label");$("#SchedulerEndDate input:first-child").attr("aria-labelledby","End_Date_Label");$("#SchedulerDates input:first-child").attr("aria-labelledby","Dates_Label");$("#ReportRunTimeHour select:first-child").attr("aria-labelledby","Run_Time_Label");$("#ReportRunTimeHour select:first-child").attr("title","Hour");$("#ReportRunTimeMinute select:first-child").attr("aria-labelledby","Run_Time_Label");$("#ReportRunTimeMinute select:first-child").attr("title","Minute");$("#SchedulerRunDate input:first-child").attr("aria-labelledby","Run_Date_Label");$("#multiaccordion2_icon").attr("tabindex","0");$("#multiaccordion2_icon").attr("role","link");$("#multiaccordion2_icon").attr("aria-label",$("#Schedule_Title_Label").html()+":expand");$("#multiaccordion3_icon").attr("tabindex","0");$("#multiaccordion3_icon").attr("role","link");$("#multiaccordion3_icon").attr("aria-label",$("#Parameter_Title_Label").html()+":expand");$("#s_MyBIPReports button:first-child").attr("title",$("#Report_Title_Label").html()+":"+$("#s_MyBIPReports button:first-child").attr("title"));$("#s_SubmitReportExecution button:first-child").attr("title",$("#Report_Title_Label").html()+":"+$("#s_SubmitReportExecution button:first-child").attr("title"));$("#s_SubmitSavePublicOption button:first-child").attr("role","checkbox");$("#s_SubmitSaveDataOption button:first-child").attr("role","checkbox");$("#s_SubmitSaveOutputOption button:first-child").attr("role","checkbox");$("#SchedulerRunDate input:first-child").attr("aria-required","true");$("#SchedulerStartDate input:first-child").attr("aria-required","true");$("#SchedulerEndDate input:first-child").attr("aria-required","true");$("#ReportRunTimeHour input:first-child").attr("aria-required","true");$("#ReportRunTimeMinute input:first-child").attr("aria-required","true");$("#SchedulerDates input:first-child").attr("aria-required","true")}if(this.GetPM().Get("ReportList").length===0){$("#s_SubmitReportExecution button:first-child").attr("disabled","disabled");$("#multiaccordion2").hide();$("#multiaccordion3").hide()}else{$("#s_SubmitReportExecution button:first-child").removeAttr("disabled");$("#multiaccordion2").show();$("#multiaccordion3").show()}g.call(this,"#SchedulerRunDate");f.call(this,"#SchedulerStartDate");f.call(this,"#SchedulerEndDate");var E=this.GetPM().Get("ReportResponsibilitiesMap");var H=E.admin_scheduler_responsiblity;var C=E.standalone_client;if(H==="False"||C==="True"){$("#multiaccordion2").hide();$("#ScheduleHeader").hide()}this.GetPM().ExecuteMethod("SetReportData","ScheduleSaveData","on");$("#s_SubmitSaveDataOption button:first-child").attr("class","appletButtonDis");this.GetPM().ExecuteMethod("SetReportData","ScheduleSaveOutput","on");$("#s_SubmitSaveOutputOption button:first-child").attr("class","appletButtonDis");$("#reportnamesCombo select:first-child").focus()};c.prototype.BindEvents=function(){$("#s_reportclose").bind("click",{ctx:this},function(C){C.data.ctx.GetPM().OnControlEvent(consts.get("REPORT_PANE_CLOSE"))});$("#s_reportclose").bind("keydown",{ctx:this},function(C){if(C.which===13){C.data.ctx.GetPM().OnControlEvent(consts.get("REPORT_PANE_CLOSE"))}});$("#reportnamesCombo").bind("change blur",{ctx:this},function(D){var C=D.data.ctx.GetPM().Get("ReportMap");var E=C[$(this.children).val()];j("reportOutputType",E.OUTPUT_TYPE);j("reportLocaleNames",E.LOCALE);D.data.ctx.GetPM().ExecuteMethod("SetReportData","SelectedReportOptType",E.OUTPUT_TYPE);D.data.ctx.GetPM().ExecuteMethod("SetReportData","SelectedReportLocale",E.LOCALE);D.data.ctx.GetPM().ExecuteMethod("SetReportData","SelectedReportName",$(this.children).val());D.data.ctx.GetPM().SetProperty("ShowParameters",true)});$("#reportOutputType").bind("change blur",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","SelectedReportOptType",$(this.children).val())});$("#reportLocaleNames").bind("change blur",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","SelectedReportLocale",$(this.children).val())});$("#scheduleFrequency").bind("change blur",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleReportFrequency",$(this.children).val());
C.data.ctx.GetPM().SetProperty("ShowHideControls",$(this.children).val());C.data.ctx.GetPM().SetProperty("ShowMultiSelect",true)});$("#ReportRunTimeHour").bind("change",{ctx:this},function(G){var D=parseInt($(this).children("input").val());var C=D<24&&D>=0?true:false;if(C===true){G.data.ctx.GetPM().ExecuteMethod("SetReportData","RunTimeHour",$(this).children("input").val());$(this).children("input").data("oldValue",$(this).children("input").val())}else{var F="IDS_SWE_JQGRID_MSG_NUMBER";var E='"'+$("#Run_Time_Label").html()+" = "+$(this).children("input").val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(F);if(E){alert(HtmlDecode(E));if(typeof($(this).children("input").data("oldValue"))!="undefined"){$(this).children("input").val($(this).children("input").data("oldValue"))}}}});$("#ReportRunTimeMinute").bind("change",{ctx:this},function(G){var D=parseInt($(this).children("input").val());var C=D<60&&D>=0?true:false;if(C===true){G.data.ctx.GetPM().ExecuteMethod("SetReportData","RunTimeMinute",$(this).children("input").val());$(this).children("input").data("oldValue",$(this).children("input").val())}else{var F="IDS_SWE_JQGRID_MSG_NUMBER";var E='"'+$("#Run_Time_Label").html()+" = "+$(this).children("input").val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(F);if(E){alert(HtmlDecode(E));if(typeof($(this).children("input").data("oldValue"))!="undefined"){$(this).children("input").val($(this).children("input").data("oldValue"))}}}});$("#SchedulerDates").bind("change",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleDates",$(this.children).val())});$("#SchedulerJobName").bind("change",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ReportJobName",$(this.children).val())});$("#reportCustomName").bind("change",{ctx:this},function(C){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ReporCustomName",$(this.children).val())});$("#reportCustomName").bind("keydown",{ctx:this},function(C){if(C.which===13){return false}});$("#s_SubmitSaveDataOption").bind("click",{ctx:this},function(C){if($("#s_SubmitSaveDataOption button:first-child").attr("class")==="appletButton"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleSaveData","on");$("#s_SubmitSaveDataOption button:first-child").attr("class","appletButtonDis")}else{if($("#s_SubmitSaveDataOption button:first-child").attr("class")==="appletButtonDis"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleSaveData","off");$("#s_SubmitSaveDataOption button:first-child").attr("class","appletButton")}}});$("#s_SubmitSaveOutputOption").bind("click",{ctx:this},function(C){if($("#s_SubmitSaveOutputOption button:first-child").attr("class")==="appletButton"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleSaveOutput","on");$("#s_SubmitSaveOutputOption button:first-child").attr("class","appletButtonDis")}else{if($("#s_SubmitSaveOutputOption button:first-child").attr("class")==="appletButtonDis"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleSaveOutput","off");$("#s_SubmitSaveOutputOption button:first-child").attr("class","appletButton")}}});$("#s_SubmitSavePublicOption").bind("click",{ctx:this},function(C){if($("#s_SubmitSavePublicOption button:first-child").attr("class")==="appletButton"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","SchedulePublic","on");$("#s_SubmitSavePublicOption button:first-child").attr("class","appletButtonDis")}else{if($("#s_SubmitSavePublicOption button:first-child").attr("class")==="appletButtonDis"){C.data.ctx.GetPM().ExecuteMethod("SetReportData","SchedulePublic","off");$("#s_SubmitSavePublicOption button:first-child").attr("class","appletButton")}}});$("#s_SubmitReportExecution").bind("click",{ctx:this},function(D){var E=D.data.ctx.GetPM().Get("ReportResponsibilitiesMap");var F=E.admin_scheduler_responsiblity;var C=E.standalone_client;if(F!="False"||C!="True"){if(i.call(D.data.ctx)===false){return}}if(typeof(D.data.ctx.GetPM().ExecuteMethod("GetReportParamData"))!="undefined"){if(A.call(D.data.ctx)===false){return}}$("#s_SubmitReportExecution button:first-child").attr("disabled","disabled");$("#s_SubmitReportExecution button:first-child").removeAttr("class");$("#s_SubmitReportExecution button:first-child").attr("class","appletButtonDis");D.data.ctx.GetPM().OnControlEvent(consts.get("REPORT_SUBMIT"));setTimeout(function(){$("#s_SubmitReportExecution button:first-child").removeAttr("disabled");$("#s_SubmitReportExecution button:first-child").removeAttr("class");$("#s_SubmitReportExecution button:first-child").attr("class","appletButton")},1000)});$("#s_MyBIPReports").bind("click",{ctx:this},function(D){var E=CCFMiscUtil_CreatePropSet();var C=CCFMiscUtil_CreatePropSet();E.SetProperty(consts.get("SWE_VIEW_ID_STR"),consts.get("REPORTPANE_VIEWNAME"));D.data.ctx.GetPM().ExecuteMethod("InvokeServiceMethod",consts.get("METH_GETREPORTPANE"),E,C);SiebelApp.S_App.UnregisterExtObject("ReportPane");SiebelApp.S_App.GotoView(consts.get("REPORT_OUTPUT_VIEW"))});$("#multiaccordion2_icon").bind("click",{ctx:this},function(C){if($("#ScheduleHeader").is(":hidden")){$("#ScheduleHeader").show();$("#multiaccordion2_icon").attr("class","siebui-rptaccordion-collap");$("#multiaccordion2_icon").attr("aria-label",$("#Schedule_Title_Label").html()+":collapse")}else{$("#ScheduleHeader").hide();$("#multiaccordion2_icon").attr("class","siebui-rptaccordion-exp");$("#multiaccordion2_icon").attr("aria-label",$("#Schedule_Title_Label").html()+":expand")}});$("#multiaccordion2_icon").bind("keydown",{ctx:this},function(C){if(C.which===13){if($("#ScheduleHeader").is(":hidden")){$("#ScheduleHeader").show();C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleReportFrequency","Run Immediately");$("#multiaccordion2_icon").attr("class","siebui-rptaccordion-collap");$("#multiaccordion2_icon").attr("aria-label",$("#Schedule_Title_Label").html()+":collapse")}else{$("#ScheduleHeader").hide();$("#multiaccordion2_icon").attr("class","siebui-rptaccordion-exp");C.data.ctx.GetPM().ExecuteMethod("SetReportData","ScheduleReportFrequency","");$("#multiaccordion2_icon").attr("aria-label",$("#Schedule_Title_Label").html()+":expand")}}});$("#multiaccordion3_icon").bind("click",{ctx:this},function(C){if($("#reportParameter").is(":hidden")){$("#reportParameter").show();$("#multiaccordion3_icon").attr("class","siebui-rptaccordion-collap");$("#multiaccordion3_icon").attr("aria-label",$("#Parameter_Title_Label").html()+":collapse")}else{$("#reportParameter").hide();$("#multiaccordion3_icon").attr("class","siebui-rptaccordion-exp");$("#multiaccordion3_icon").attr("aria-label",$("#Parameter_Title_Label").html()+":expand")}});$("#multiaccordion3_icon").bind("keydown",{ctx:this},function(C){if(C.which===13){if($("#reportParameter").is(":hidden")){$("#reportParameter").show();$("#multiaccordion3_icon").attr("class","siebui-rptaccordion-collap");$("#multiaccordion3_icon").attr("aria-label",$("#Parameter_Title_Label").html()+":collapse")}else{$("#reportParameter").hide();$("#multiaccordion3_icon").attr("class","siebui-rptaccordion-exp");
$("#multiaccordion3_icon").attr("aria-label",$("#Parameter_Title_Label").html()+":expand")}}})};c.prototype.BindData=function(){var C=this.GetPM();B.call(this);b.call(this);e.call(this);d.call(this);C.SetProperty("ShowHideControls","paneload");C.SetProperty("ShowParameters",true)};function i(){var J="",K="false";var E,H;var F=this.GetPM();var M=F.ExecuteMethod("GetReportData","ScheduleReportFrequency");var I=F.Get("reportScheduleModeMap");var D=I[M];if(D==="Run Once"){M=F.ExecuteMethod("GetReportData","ScheduleRunDate");if(M===""||typeof(M)==="undefined"){var C="IDS_SWE_JQGRID_MSG_REQUIRED";var G=$("#Run_Date_Label").html()+" "+SiebelApp.S_App.LocaleObject.GetLocalString(C);if(G){alert(HtmlDecode(G));return false}}}else{if(D==="Run Daily/Weekly"){M=F.ExecuteMethod("GetReportData","RunTimeHour");if(M===""||typeof(M)==="undefined"){K="True";J=$("#Run_Time_Label").html()}M=F.ExecuteMethod("GetReportData","RunTimeMinute");if(M===""||typeof(M)==="undefined"){K="True";J+=$("#Run_Time_Label").html()+", "}M=F.ExecuteMethod("GetReportData","ScheduleStartDate");E=M;if(M===""||typeof(M)==="undefined"){K="True";J+=$("#Start_Date_Label").html()+", "}M=F.ExecuteMethod("GetReportData","ScheduleEndDate");H=M;if(M===""||typeof(M)==="undefined"){K="True";J+=$("#End_Date_Label").html()+", "}M=F.ExecuteMethod("GetReportData","ScheduleWeekDays");if(M===""||typeof(M)==="undefined"||M.length===0){K="True";J+=$("#WeekDays_Label").html()}if(K==="True"){var C="IDS_SWE_JQGRID_MSG_REQUIRED";var G=J+" "+SiebelApp.S_App.LocaleObject.GetLocalString(C);if(G){alert(HtmlDecode(G));return false}}if(Date.parse(E)>=Date.parse(H)){var C="IDS_SWE_JQGRID_MSG_DATE";var L=SiebelApp.S_App.LocaleObject.GetLocalString(C);alert(HtmlDecode(L));return false}}else{if(D==="Run Monthly"){M=F.ExecuteMethod("GetReportData","RunTimeHour");if(M===""||typeof(M)==="undefined"){K="True";J=$("#Run_Time_Label").html()}M=F.ExecuteMethod("GetReportData","RunTimeMinute");if(M===""||typeof(M)==="undefined"){K="True";J+=$("#Run_Time_Label").html()+", "}M=F.ExecuteMethod("GetReportData","ScheduleStartDate");E=M;if(M===""||typeof(M)==="undefined"){K="True";J+=$("#Start_Date_Label").html()+", "}M=F.ExecuteMethod("GetReportData","ScheduleEndDate");H=M;if(M===""||typeof(M)==="undefined"){K="True";J+=$("#End_Date_Label").html()+", "}var M=F.ExecuteMethod("GetReportData","ScheduleMonths");if(M===""||typeof(M)==="undefined"||M.length===0){K="True";J+=$("#Months_Label").html()+", "}var M=F.ExecuteMethod("GetReportData","ScheduleDates");if(M===""||typeof(M)==="undefined"){K="True";J+=$("#Dates_Label").html()}if(K==="True"){var C="IDS_SWE_JQGRID_MSG_REQUIRED";var G=J+" "+SiebelApp.S_App.LocaleObject.GetLocalString(C);if(G){alert(HtmlDecode(G));return false}}if(Date.parse(E)>=Date.parse(H)){var C="IDS_SWE_JQGRID_MSG_DATE";var L=SiebelApp.S_App.LocaleObject.GetLocalString(C);alert(HtmlDecode(L));return false}}}}}function A(){var H=this.GetPM();var F=H.ExecuteMethod("GetReportParamData");if(typeof(F)!="undefined"){var O=H.ExecuteMethod("GetReportData","SelectedReportName");var K=H.Get("ReportParamMap");if(typeof(K)==="undefined"){return}if(O===""||typeof(O)==="undefined"){return}var G=K[O];if(typeof(G)==="undefined"){return}var J;var D;var E="";for(var I=0,M=G.length;I<M;I++){var N=G[I];D=N.GetProperty("ReqFlg");var P;if(D==="TRUE"||D==="Y"){D=N.GetProperty("ReqFlg");P=F.GetProperty(N.GetProperty("CtrlName"));if(P===""||typeof(P)==="undefined"||P.length===0){var C="IDS_SWE_JQGRID_MSG_REQUIRED";var L=N.GetProperty("DispName")+" "+SiebelApp.S_App.LocaleObject.GetLocalString(C);if(L){alert(HtmlDecode(L));return false}}}}}}function m(H){var G='<div class="siebui-report-row">';G=G+'<div class="mceGridLabel"><span id="s_'+H.GetProperty("DispName")+'_labl">'+H.GetProperty("DispName")+"</span>";if(H.GetProperty("ReqFlg")==="Y"){G=G+'<img src="images\\icon_req.gif" alt="Required" title="Required">'}G=G+"</div></td>";G=G+'<td><div class="mceGridField">';G=G+'<select name="s_'+H.GetProperty("DispName")+'_number" id="s_'+H.GetProperty("CtrlName")+'_id" aria-labelelledby="s_'+H.GetProperty("DispName")+'_labl" aria-label="'+H.GetProperty("DispName")+'" ctrlname="'+H.GetProperty("CtrlName")+'"';if(utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())&&H.GetProperty("ReqFlg")==="Y"){G=G+' aria-required="true"'}if(H.PropertyExists("ot")){G=G+' un="'+H.GetProperty("un")+'" rn="" ot="'+H.GetProperty("ot")+'"'}G=G+">";var J=H.GetChild(0);var I;var E=H.GetProperty("Default");for(var F=0,C=J.GetChildCount();F<C;F++){var D=J.GetChild(F);I=D.GetType();if(F===0&&(typeof(E)==="undefined"||E==="")){H.SetProperty("Default",I)}G=G+"<option value='"+I+"'>"+I+"</option>"}G=G+"</select></div></div>";$("#reportParameter").append(G)}function q(){var G=this.GetPM();var M=false;if($("#reportParameter").is(":hidden")||$("#multiaccordion3").is(":hidden")){M=true}$("#reportParameter").empty();var E=G.ExecuteMethod("GetReportParamData");if(typeof(E)!="undefined"){G.ExecuteMethod("SetReportParamData")}var N=G.ExecuteMethod("GetReportData","SelectedReportName");var J=this.GetPM().Get("ReportParamMap");if(typeof(J)==="undefined"){return}if(N===""||typeof(N)==="undefined"){return}var F=J[N];if(typeof(F)==="undefined"){if(!$("#multiaccordion3").is(":hidden")){$("#multiaccordion3").hide()}return}if($("#multiaccordion3").is(":hidden")){$("#multiaccordion3").show()}var I;var C;var D="";$("#reportParameter").append(D);for(var H=0,K=F.length;H<K;H++){var L=F[H];C=L.GetProperty("CtrlType");if(C==="LOV"){m.call(this,L);n.call(this,L);o.call(this,L)}else{if(C==="Text"||C==="TextArea"||C==="Check Box"||C==="Number"||C==="Date"||C==="DateTime"){x.call(this,L,C);n.call(this,L);if(C==="Text"||C==="TextArea"||C==="Check Box"){o.call(this,L)}}else{if(C==="Label"){D="";D=D+'<div style="width:100%;" class="mceGridLabel"><span  style="display:inline-block;width:100%;text-align:left;"id="s_'+L.GetProperty("CtrlName")+'_labl">'+L.GetProperty("DispName")+"</span>";D=D+"</div>";$("#reportParameter").append(D)}}}}if(M===true){$("#reportParameter").hide()}}function x(F,C){var E=navigator.userAgent;var D='<div class="siebui-report-row">';D=D+'<div class="mceGridLabel"><span id="s_'+F.GetProperty("CtrlName")+'_labl">'+F.GetProperty("DispName")+"</span>";if(F.GetProperty("ReqFlg")==="Y"){D=D+'<img src="images\\icon_req.gif" alt="Required" title="Required">'}D=D+"</div>";if(C==="Check Box"&&(E.indexOf("Firefox")!=-1)){D=D+'<div class="siebui-report-checkbox mceGridField">'}else{D=D+'<div class="mceGridField">'}if(C==="TextArea"){D=D+"<textarea"}else{if(C==="Check Box"){D=D+'<input type="checkbox"'}else{D=D+'<input type="text"'}}D=D+' name="s_'+F.GetProperty("CtrlName")+'_name" id="s_'+F.GetProperty("CtrlName")+'_id" aria-labelelledby="s_'+F.GetProperty("CtrlName")+'_labl" aria-label="'+F.GetProperty("DispName")+'" ctrlname="'+F.GetProperty("CtrlName")+'"';if(utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())&&F.GetProperty("ReqFlg")==="Y"){D=D+' aria-required="true"'}if(F.PropertyExists("ot")){D=D+' un="'+F.GetProperty("un")+'" rn="" ot="'+F.GetProperty("ot")+'"'
}D=D+">";if(C==="TextArea"){D=D+"</textarea>"}D=D+"</div></div>";$("#reportParameter").append(D);if(C==="Number"){a.call(this,"#s_"+F.GetProperty("CtrlName")+"_id")}else{if(C==="Date"){f.call(this,"#s_"+F.GetProperty("CtrlName")+"_id")}else{if(C==="DateTime"){g.call(this,"#s_"+F.GetProperty("CtrlName")+"_id")}}}}function a(C){SiebelAppFacade.ControlBuilder.Calculator({target:C,className:"applet-form-calculator",scope:this,click:function(F,E){var D=this;SiebelAppFacade.ControlBuilder.Calculator({target:E,className:"applet-form-calculator",control:F,show:true,beforeShow:function(H,G){$(this).val(H)},close:function(G){var H=G.replace(/\[/g,"").replace(/\]/g,"");$(this).calculator("destroy").next("img").show().end().focus();D.GetPM().ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),H);$(this).data("oldValue",$(this).val())}})}});$(C).bind("change",{ctx:this},function(G){var D=/^\d+$/.test($(this).val());if(D===true||$(this).val()===""){G.data.ctx.GetPM().ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),$(this).val());$(this).data("oldValue",$(this).val())}else{var F="IDS_SWE_JQGRID_MSG_NUMBER";var E='"'+$(this).attr("aria-label")+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(F);if(E){alert(HtmlDecode(E));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}}});w.call(this,$(C))}function v(F){var E=new Date();var D;var C=this.GetPM();switch($("#"+F).attr("id")){case"ReportRunTimeHour":D=E.getHours();$("#"+F).children("input").val(D);C.ExecuteMethod("SetReportData","RunTimeHour",D);$("#"+F).children("input").data("oldValue",D);break;case"ReportRunTimeMinute":D=E.getMinutes();$("#"+F).children("input").val(D);C.ExecuteMethod("SetReportData","RunTimeMinute",D);$("#"+F).children("input").data("oldValue",D);break;default:}if(typeof($("#"+F).children("img").attr("id"))!="undefined"){return}if($("#"+F).children("input").attr("id")===""||typeof($("#"+F).children("input").attr("id"))==="undefined"){$("#"+F).children("input").attr("id",$("#"+F).children("input").attr("name")+"_combo")}var G=$("#"+F).children("input");SiebelAppFacade.ControlBuilder.SelectCtrl({target:G,className:"applet-form-combo",scope:G,click:function(J){var H=[];var K=this;if(H.length===0){K.autocomplete("option","source",[])}if(H.length===0){switch($(this).parent().attr("id")){case"ReportRunTimeHour":for(var I=0;I<24;I++){H.push(I.toString())}break;case"ReportRunTimeMinute":for(var I=0;I<60;I=I+15){H.push(I.toString())}break;default:}}if(K.length!==0){K.autocomplete("option","source",H).autocomplete("option","minLength",0).autocomplete("search","").focus()}}});$(G).autocomplete({source:[]}).autocomplete("option","position",{my:"center top",at:"center bottom",of:$(G),collision:"flip flip"}).bind("autocompleteselect",{ctx:this},function(I){var H=I.data.ctx.GetPM();switch($(this).parent().attr("id")){case"ReportRunTimeHour":H.ExecuteMethod("SetReportData","RunTimeHour",I.srcElement.innerHTML);$(this).data("oldValue",I.srcElement.innerHTML);break;case"ReportRunTimeMinute":H.ExecuteMethod("SetReportData","RunTimeMinute",I.srcElement.innerHTML);$(this).data("oldValue",I.srcElement.innerHTML);break;default:}});w.call(this,$(G))}function f(C){if($(C).html()!=""&&($(C).children().attr("id")===""||typeof($(C).children().attr("id"))==="undefined")){$(C).children().attr("id",$(C).children().attr("name")+"_id");C=$(C).children()}SiebelAppFacade.ControlBuilder.DatePick({target:C,className:"applet-form-date",scope:this,showPopup:false,click:function(F,E){this.GetPM().SetProperty("isControlPopupOpen",true);var D=this;SiebelAppFacade.ControlBuilder.DatePick({target:E,className:"applet-form-date",control:F,scope:this,showPopup:true,getISOVal:function(){var H=$(this.target).val();var G=H;if(H){G=utils.GetISODateTime(H,false)}return G},onClose:function(){$(this).datetimepicker("destroy").focus();var G=SiebelApp.S_App.LocaleObject.GetStringFromDateTime($(this).val(),consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());$(this).val(G);var I=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(G,SiebelApp.S_App.LocaleObject.GetDateFormat(),"MM/DD/YYYY");var H=D.GetPM();switch($(this).parent().attr("id")){case"SchedulerStartDate":H.ExecuteMethod("SetReportData","ScheduleStartDate",I);break;case"SchedulerEndDate":H.ExecuteMethod("SetReportData","ScheduleEndDate",I);break;default:H.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),I)}$(this).data("oldValue",$(this).val())}})}});$(C).bind("change",{ctx:this},function(H){if(H.isTrigger===true){return}var I=SiebelApp.S_App.LocaleObject.GetStringFromDateTime($(this).val(),SiebelApp.S_App.LocaleObject.GetDateFormat(),"MM/DD/YYYY");var D=H.data.ctx.GetPM();var E="";switch($(this).parent().attr("id")){case"SchedulerStartDate":if(I===""&&$(this).val()!=""){E=$("#Start_Date_Label").html();var G="LocaleErrFormattedToString";var F='"'+E+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(G);alert(HtmlDecode(F));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}else{D.ExecuteMethod("SetReportData","ScheduleStartDate",I);$(this).data("oldValue",$(this).val())}break;case"SchedulerEndDate":if(I===""&&$(this).val()!=""){E=$("#End_Date_Label").html();var G="LocaleErrFormattedToString";var F='"'+E+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(G);alert(HtmlDecode(F));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}else{D.ExecuteMethod("SetReportData","ScheduleEndDate",I);$(this).data("oldValue",$(this).val())}break;default:if(I===""&&$(this).val()!=""){E=$(this).attr("aria-label");var G="LocaleErrFormattedToString";var F='"'+E+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(G);alert(HtmlDecode(F));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}else{D.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),I);$(this).data("oldValue",$(this).val())}}});w.call(this,$(C))}function g(C){if($(C).html()!=""&&($(C).children().attr("id")===""||typeof($(C).children().attr("id"))==="undefined")){$(C).children().attr("id",$(C).children().attr("name")+"_id");C=$(C).children()}SiebelAppFacade.ControlBuilder.DateTimePick({target:C,className:"applet-form-date",scope:this,showPopup:false,click:function(F,E){this.GetPM().SetProperty("isControlPopupOpen",true);var D=this;SiebelAppFacade.ControlBuilder.DateTimePick({target:E,className:"applet-form-date",control:F,scope:this,showPopup:true,getISOVal:function(){var H=$(this.target).val();var G=H;if(H){G=utils.GetISODateTime(H,false)}return G},onClose:function(){$(this).datetimepicker("destroy").focus();var H=SiebelApp.S_App.LocaleObject.GetStringFromDateTime($(this).val(),consts.get("ISO_DATETIME_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat());$(this).val(H);
var G="MM/DD/YYYY HH:mm:ss";var J=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(H,SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat(),G);var I=D.GetPM();switch($(this).parent().attr("id")){case"SchedulerRunDate":I.ExecuteMethod("SetReportData","ScheduleRunDate",J);break;default:I.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),J)}$(this).data("oldValue",$(this).val())}})}});$(C).bind("change",{ctx:this},function(I){if(I.isTrigger===true){return}var D="MM/DD/YYYY HH:mm:ss";var F="";var J=SiebelApp.S_App.LocaleObject.GetStringFromDateTime($(this).val(),SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat(),D);var E=I.data.ctx.GetPM();switch($(this).parent().attr("id")){case"SchedulerRunDate":if(J===""&&$(this).val()!=""){F=$("#Run_Date_Label").html();var H="LocaleErrFormattedToString";var G='"'+F+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(H);alert(HtmlDecode(G));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}else{E.ExecuteMethod("SetReportData","ScheduleRunDate",J);$(this).data("oldValue",$(this).val())}break;default:if(J===""&&$(this).val()!=""){F=$(this).attr("aria-label");var H="LocaleErrFormattedToString";var G='"'+F+" = "+$(this).val()+'", '+SiebelApp.S_App.LocaleObject.GetLocalString(H);alert(HtmlDecode(G));if(typeof($(this).data("oldValue"))!="undefined"){$(this).val($(this).data("oldValue"))}else{$(this).val("")}}else{E.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),J);$(this).data("oldValue",$(this).val())}}});w.call(this,$(C))}function n(D){var C=this.GetPM();if(D.GetProperty("Default")!=""){if($("#s_"+D.GetProperty("CtrlName")+"_id").attr("type")==="checkbox"){var E="N";if(D.GetProperty("Default")==="Y"||D.GetProperty("Default")==="TRUE"){$("#s_"+D.GetProperty("CtrlName")+"_id").prop("checked",true);E="Y"}else{if(D.GetProperty("Default")==="N"||D.GetProperty("Default")==="FALSE"){$("#s_"+D.GetProperty("CtrlName")+"_id").prop("checked",false)}}C.ExecuteMethod("SetReportParamData",$("#s_"+D.GetProperty("CtrlName")+"_id").attr("ctrlname"),E)}else{$("#s_"+D.GetProperty("CtrlName")+"_id").val(D.GetProperty("Default"));C.ExecuteMethod("SetReportParamData",$("#s_"+D.GetProperty("CtrlName")+"_id").attr("ctrlname"),$("#s_"+D.GetProperty("CtrlName")+"_id").val())}}else{if($("#s_"+D.GetProperty("CtrlName")+"_id").attr("type")==="checkbox"){$("#s_"+D.GetProperty("CtrlName")+"_id").prop("checked",false);C.ExecuteMethod("SetReportParamData",$("#s_"+D.GetProperty("CtrlName")+"_id").attr("ctrlname"),"N")}else{$("#s_"+D.GetProperty("CtrlName")+"_id").val("");C.ExecuteMethod("SetReportParamData",$("#s_"+D.GetProperty("CtrlName")+"_id").attr("ctrlname"),"")}}}function o(C){$("#s_"+C.GetProperty("CtrlName")+"_id").bind("change",{ctx:this},function(E){var D=E.data.ctx.GetPM();if($(this).attr("type")==="checkbox"){var F="N";if($(this).prop("checked")){F="Y"}D.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),F)}else{D.ExecuteMethod("SetReportParamData",$(this).attr("ctrlname"),$(this).val())}})}function w(C){C.bind("keydown",{ctx:this},function(D){if(D.which===consts.get("SWE_F2_KEY")){$(this).next().click()}})}function h(F){var D=this.GetPM().Get(F);var E=D.length;var C=true;for(var G=1;G<E+1;G++){$("#"+D[G-1]+"_ctrl").bind("click",{ctx:this},function(N){var M=N.data.ctx.GetPM();var H=M.Get("reportScheduleModeMap");var O=H[$("#scheduleFrequency").children().val()];if($(this).attr("class")==="appletButton"){$(this).attr("class","appletButtonDis");if(O==="Run Monthly"){var I=M.Get("ReportMonthMap");M.ExecuteMethod("SetReportArrayData","ScheduleMonths",I[$(this).children().html()],"Add")}else{if(O==="Run Daily/Weekly"){var K=M.Get("ReportWeekMap");var J=K[$(this).children().html()];var L="";switch(J){case"1":Week="Mon";break;case"2":Week="Tue";break;case"3":Week="Wed";break;case"4":Week="Thu";break;case"5":Week="Fri";break;case"6":Week="Sat";break;case"7":Week="Sun";break;default:break}M.ExecuteMethod("SetReportArrayData","ScheduleWeekDays",Week,"Add")}}}else{if($(this).attr("class")==="appletButtonDis"){$(this).attr("class","appletButton");if(O==="Run Monthly"){var I=M.Get("ReportMonthMap");M.ExecuteMethod("SetReportArrayData","ScheduleMonths",I[$(this).children().html()],"Remove")}else{if(O==="Run Daily/Weekly"){var K=M.Get("ReportWeekMap");var J=K[$(this).children().html()];var L="";switch(J){case"1":Week="Mon";break;case"2":Week="Tue";break;case"3":Week="Wed";break;case"4":Week="Thu";break;case"5":Week="Fri";break;case"6":Week="Sat";break;case"7":Week="Sun";break;default:break}M.ExecuteMethod("SetReportArrayData","ScheduleWeekDays",Week,"Remove")}}}}})}}function u(G,E){var C=this.GetPM().Get(G);var F=C.length;var D="";$(E).html("");for(var H=1;H<F+1;H++){var I='<div id="'+C[H-1]+'_ctrl" title="'+C[H-1]+'" tabindex="0" role="checkbox" class="appletButton"><span>'+C[H-1]+"</span></div>";$(E).append(I)}}function s(){$("#ReportRunTimeHour").hide();$("#ReportRunTime").hide();$("#ReportRunTimeMinute").hide();$("#RunDate").hide();$("#StartDate").hide();$("#EndDate").hide();$("#ReportWeekDays").hide();$("#ReportMonths").hide();$("#Dates").hide();$("#schedulebuttonCtrl").hide()}function B(){var C=this.GetPM().Get("ReportList");var D;if(C){D=t.call(this,C)}}function j(E,C){var F=$("[id="+E+"]");var G=F.find("select");var D=G.find("option[value='"+C+"']");D.attr("selected",true)}function b(){var C=this.GetPM().Get("ReportOutputType");var D;if(C){D=p.call(this,C)}}function e(){var C=this.GetPM().Get("ReportLocale");var D;if(C){D=r.call(this,C)}}function d(){var D=this.GetPM().Get("ReportScheduleMode");var C;if(D){C=y.call(this,D)}}function l(I){var L=new Date();var H=(L.getMonth())+1;var K=L.getDate();var J=L.getFullYear();var P=H+"-"+K+"-"+J;var G=J+"-"+H+"-"+K;var M=L.getHours();var F=L.getMinutes();var N=L.getSeconds();if(I===""||typeof(I)==="undefined"){$("#ReportRunTimeHour").hide();$("#ReportRunTime").hide();$("#ReportRunTimeMinute").hide();$("#RunDate").hide();$("#StartDate").hide();$("#EndDate").hide();$("#ReportWeekDays").hide();$("#ReportMonths").hide();$("#Dates").hide();$("#schedulebuttonCtrl").hide()}else{if(I==="Run Immediately"){$("#ReportRunTimeHour").hide();$("#ReportRunTime").hide();$("#ReportRunTimeMinute").hide();$("#RunDate").hide();$("#StartDate").hide();$("#EndDate").hide();$("#ReportWeekDays").hide();$("#ReportMonths").hide();$("#Dates").hide();$("#schedulebuttonCtrl").show()}else{if(I==="Run Once"){$("#ReportRunTime").hide();$("#ReportRunTimeHour").hide();$("#ReportRunTimeMinute").hide();$("#RunDate").show();var C=J+"-"+H+"-"+K+" "+M+":"+F+":"+N;var E=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(C,consts.get("ISO_DATETIME_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat());$("#SchedulerRunDate").children().val(E);var D="MM/DD/YYYY HH:mm:ss";var O=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(E,SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat(),D);
this.GetPM().ExecuteMethod("SetReportData","ScheduleRunDate",O);$("#StartDate").hide();$("#EndDate").hide();$("#ReportWeekDays").hide();$("#ReportMonths").hide();$("#Dates").hide();$("#schedulebuttonCtrl").show()}else{if(I==="Run Daily/Weekly"){$("#ReportRunTimeHour").show();$("#ReportRunTime").show();$("#ReportRunTimeMinute").show();k.call(this);z.call(this);$("#RunDate").hide();$("#StartDate").show();$("#EndDate").show();var E=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(G,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());var O=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(E,SiebelApp.S_App.LocaleObject.GetDateFormat(),"MM/DD/YYYY");$("#SchedulerStartDate").children().val(E);if(O!=""||typeof(O)!="undefined"){this.GetPM().ExecuteMethod("SetReportData","ScheduleStartDate",O)}$("#ReportWeekDays").show();$("#ReportMonths").hide();$("#Dates").hide();$("#schedulebuttonCtrl").show()}else{if(I==="Run Monthly"){$("#ReportRunTimeHour").show();$("#ReportRunTime").show();$("#ReportRunTimeMinute").show();k.call(this);z.call(this);$("#RunDate").hide();$("#StartDate").show();$("#EndDate").show();var E=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(G,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());var O=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(E,SiebelApp.S_App.LocaleObject.GetDateFormat(),"MM/DD/YYYY");$("#SchedulerStartDate").children().val(E);if(O!=""||typeof(O)!="undefined"){this.GetPM().ExecuteMethod("SetReportData","ScheduleStartDate",O)}$("#ReportWeekDays").hide();$("#ReportMonths").show();$("#Dates").show();$("#schedulebuttonCtrl").show()}}}}}}function k(){var G;var C=[];var D=$("#ReportRunTimeHour");var F=D.find("select");if(F.children().size()>0){F.children().remove()}for(var E=0;E<24;E++){if(E===0){C[E]="<option value='"+E+"' selected='selected'>"+E+"</option>";this.GetPM().ExecuteMethod("SetReportData","hourInfo",E)}else{C[E]="<option value='"+E+"'>"+E+"</option>"}}F.append(C.join(""));return G}function z(){var G;var C=[];var F=$("#ReportRunTimeMinute");var E=F.find("select");if(E.children().size()>0){E.children().remove()}for(var D=0;D<60;D=D+15){if(D===0){C[D]="<option value='"+D+"' selected='selected'>"+D+"</option>";this.GetPM().ExecuteMethod("SetReportData","minuteInfo",D)}else{C[D]="<option value='"+D+"'>"+D+"</option>"}}E.append(C.join(""));return G}function t(F){var I;var H=[];var D=$("#reportnamesCombo");var E=D.find("select");if(E.children().size()>0){E.children().remove()}var C=F.length;for(var G=0;G<C;G++){if(G===0){H[G]="<option value='"+F[G]+"' selected='selected'>"+F[G]+"</option>";this.GetPM().ExecuteMethod("SetReportData","SelectedReportName",F[G])}else{H[G]="<option value='"+F[G]+"'>"+F[G]+"</option>"}}E.append(H.join(""));return I}function p(E){var F=this.GetPM();var C;var K=[];var J;var I;var D;var G=$("[id=reportOutputType]");var L=G.find("select");if(L.children().size()>0){L.children().remove()}J=F.ExecuteMethod("GetReportData","SelectedReportName");I=F.Get("ReportMap");D=I[J];var M=E.length;if(typeof(D)==="undefined"){return C}for(var H=0;H<M;H++){if(D.OUTPUT_TYPE===E[H]){K[H]="<option value='"+E[H]+"' selected='selected'>"+E[H]+"</option>";this.GetPM().ExecuteMethod("SetReportData","SelectedReportOptType",E[H])}else{K[H]="<option value='"+E[H]+"'>"+E[H]+"</option>"}}L.append(K.join(""));return C}function r(L){var C;var J=[];var H;var G;var D;H=this.GetPM().ExecuteMethod("GetReportData","SelectedReportName");G=this.GetPM().Get("ReportMap");D=G[H];var E=$("[id=reportLocaleNames]");var I=E.find("select");if(I.children().size()>0){I.children().remove()}var K=L.length;if(typeof(D)==="undefined"){return C}for(var F=0;F<K;F++){if(D.LOCALE===L[F]){J[F]="<option value='"+L[F]+"' selected='selected'>"+L[F]+"</option>";this.GetPM().ExecuteMethod("SetReportData","SelectedReportLocale",L[F])}else{J[F]="<option value='"+L[F]+"'>"+L[F]+"</option>"}}I.append(J.join(""));return C}function y(I){var H;var E=[];var C=$("#scheduleFrequency");var F=C.find("select");if(F.children().size()>0){F.children().remove()}var G=I.length;for(var D=0;D<G;D++){if(D===0){E[D]="<option value='"+I[D]+"' selected='selected'>"+I[D]+"</option>";this.GetPM().ExecuteMethod("SetReportData","ReportScheduleMode",I[D])}else{E[D]="<option value='"+I[D]+"'>"+I[D]+"</option>"}}F.append(E.join(""));return H}c.prototype.Refresh=function(){return};return c}())};