SiebelAppFacade.ControlBuilder={Pick:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_PICK_TITLE");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/janna/pick.gif' alt='"+c+"' />");b.bind("click",function(){a.click.call(a.scope,a.control)});e.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null},2)}},Mvg:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_MVG_TITLE");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/janna/mvg.gif' alt='"+c+"' />");b.bind("click",function(){a.click.call(a.scope,a.control)});e.addClass("siebui-input-popup siebui-ctrl-mvg").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null},2)}},SelectCtrl:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var d=$(a.target);var c=(d.attr("id")||a.control.GetInputName())+"_icon";var b=$("<img id='"+c+"' role='presentation' class='"+(a.className||"")+"' src='images/janna/down.gif' />");b.bind("click",function(e){a.click.call(a.scope,a.control);e.stopPropagation()});d.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){d.attr("aria-describedby",(d.attr("aria-describedby")||"")+" "+c)}d=b=null},2)}},EffDat:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_EFFECTIVE_DATE_TITLE");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/icon_effdate.gif' alt='"+c+"' />");b.bind("click",function(){a.click.call(a.scope,a.control)});e.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null},2)}},DatePick:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e;if(false===a.showPopup){e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_DATE_FIELD_TITLE");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/janna/icon_calendar_sm.gif' alt='"+c+"' />");b.bind("click",function(){a.click.call(a.scope,a.control,a.target)});e.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null}else{e=$(a.target);e.datetimepicker({changeMonth:true,changeYear:true,showTime:false,showTimepicker:false,dateFormat:"yy-mm-dd",beforeShow:a.beforeShow||function(){return true},onClose:a.onClose});if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){var d=(e.attr("name")||a.control.GetInputName())+"_icon";e.next("img").attr("alt",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_DATE_FIELD_TITLE")).attr("id",d)}e.addClass("siebui-input-popup").next("img").addClass(a.className||"");var f=a.getISOVal();if(f!==consts.get("JS_INVALID_DATE")){e.datetimepicker("setDate",f)}e.datetimepicker("show");e.datepicker("widget").find(".ui-datepicker-calendar").attr("tabindex","0").focus();e=null}},2)}},DateTimePick:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var d;if(false===a.showPopup){d=$(a.target);var c=(d.attr("id")||a.control.GetInputName())+"_icon";var b=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_DATETIME_FIELD_TITLE");var f=$("<img id='"+c+"' class='"+(a.className||"")+"' src='images/janna/icon_calendar_sm.gif' alt='"+b+"' />");f.bind("click",function(){a.click.call(a.scope,a.control,a.target)});d.after(f);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){d.attr("aria-describedby",(d.attr("aria-describedby")||"")+" "+c)}d=f=null}else{d=$(a.target);d.datetimepicker({changeMonth:true,changeYear:true,dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",separator:" ",beforeShow:a.beforeShow||function(){return true},onClose:a.onClose});if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){var c=(d.attr("name")||a.control.GetInputName())+"_icon";d.next("img").attr("alt",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_DATETIME_FIELD_TITLE")).attr("id",c)}d.addClass("siebui-input-popup").next("img").addClass(a.className||"");var e=a.getISOVal();if(e!==consts.get("JS_INVALID_DATE")){d.datetimepicker("setDate",e)}d.datetimepicker("show");d.datepicker("widget").find(".ui-datepicker-calendar").attr("tabindex","0").focus();d=null}},2)}},DateTimeZonePick:function(a){},Calculator:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var c;if(a.show===true){c=$(a.target);c.next("img").hide();var k;if(SiebelApp.S_App.LocaleObject.GetDispNumberDecimal()){k=SiebelApp.S_App.LocaleObject.GetDispNumberDecimal()}else{k=SiebelApp.Constants.get("SWE_DECIMAL_CONST")}var l=k[0].toLowerCase();var d=["a","b","c","d","e","f","A","B","C","D","E","F"];var f="";var h=d.length;for(var g=0;g<h;g++){if(d[g]===k[0]){f=k[0].replace(d[g],"["+d[g]+"]");break}}k=f?(f+k.substring(1,k.length)):k;$.calculator.addKeyDef("dc",k,$.calculator.digit,null,"mykey","DC",l);$.extend(a,{layout:["_%BSCECA","_1_2_3_+@X","_4_5_6_-@U","_7_8_9_*@E","dc_0_=_/"]});c.calculator({showOn:"opbutton",buttonImage:"images/janna/icon_calculator_sm.gif",buttonImageOnly:true,layout:a.layout,onOpen:a.beforeShow,onClose:a.close,decimalChar:k});if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){var j=(c.attr("id")||a.control.GetInputName())+"_icon";c.next("img").attr("alt",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CALC_FIELD_TITLE")).attr("id",j)}c.addClass("siebui-input-popup").next("img").addClass(a.className||"");c.calculator("show");c=null}else{c=$(a.target);var j=(c.attr("id")||a.control.GetInputName())+"_icon";var e=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CALC_FIELD_TITLE");var b=$("<img id='"+j+"' class='"+(a.className||"")+"' src='images/janna/icon_calculator_sm.gif' alt='"+e+"' />");b.bind("click",function(){a.click.call(a.scope,a.control,a.target)});c.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){c.attr("aria-describedby",(c.attr("aria-describedby")||"")+" "+j)}c=b=null}},5)}},Currency:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CURRENCY_CALC_FIELD_TITLE");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/janna/icon_calculator_sm.gif' alt='"+c+"' />");
b.bind("click",function(){a.click.call(a.scope,a.control)});e.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null},2)}},RTCeditor:function(a){CKEDITOR.focusManager.prototype.blur=CKEDITOR.focusManager.prototype.forceBlur;$.extend(a,{toolbar:[{name:"styles",items:["Font","FontSize"]},{name:"clipboard",items:["Cut","Copy","Paste"]},{name:"colors",items:["TextColor","BGColor"]},{name:"basicstyles",items:["Bold","Italic","Underline"]},{name:"paragraph",items:["NumberedList","BulletedList","Outdent","Indent","JustifyLeft","JustifyCenter","JustifyRight"]}]});var d=a.control.GetInputName();var b=CKEDITOR.instances[d];if(b){b.destroy(true)}if($(a.target).length===0){return false}$(a.target).ckeditor(function(){},{toolbar:a.toolbar,skin:"kama",width:a.control.GetWidth(),height:a.control.GetHeight(),startupFocus:false,resize_enabled:true,resize_maxHeight:a.control.GetHeight(),resize_maxWidth:a.control.GetWidth()});var c=$(a.target).ckeditorGet();c.on("blur",function(){var e=this.getData();a.blur.call(a.scope,a.control,e)});c.on("focus",function(){var e=this.getData();a.focus.call(a.scope,a.control,e)});$(a.target).addClass("siebui-input-popup").next("img").addClass(a.className||"")},FileUploader:function(b){var a=new SiebelApp.UIStatus();$.extend(b,{type:"POST",replaceFileInput:true,forceIframeTransport:false,multipart:true});$(b.fileInput).fileupload({url:b.url,type:b.type,fileInput:b.fileInput,dropZone:b.dropZone,replaceFileInput:b.replaceFileInput,forceIframeTransport:b.forceIframeTransport,multipart:b.multipart,formData:b.formData,change:function(d,c){a.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true,timeOut:false,message:""});$(this).fileupload("option","remainingFilesToUpload",c.files.length);(b.change||function(){}).call(b.scope||this,d,c,this)},drop:function(d,c){a.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true,timeOut:false,message:""});$(this).fileupload("option","remainingFilesToUpload",c.files.length);(b.drop||function(){}).call(b.scope||this,d,c,this)},done:function(f,d){var c=$(this).fileupload("option","remainingFilesToUpload");$(this).fileupload("option","remainingFilesToUpload",--c);(b.done||function(){}).call(b.scope||this,f,d);if(a.IsBusy()&&c===0){a.Free()}},fail:function(d,c){(b.fail||function(){}).call(b.scope||this,d,c);if(a.IsBusy()){a.Free()}}})},DetailPopup:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var e=$(a.target);var d=(e.attr("id")||a.control.GetInputName())+"_icon";var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_DETAIL_POPUP_APPLET");var b=$("<img id='"+d+"' class='"+(a.className||"")+"' src='images/janna/pick.gif' alt='"+c+"' />");b.bind("click",function(){a.click.call(a.scope,a.control)});e.addClass("siebui-input-popup").after(b);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){e.attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+d)}e=b=null},2)}},PhoneCtrl:function(a){if(a&&$(a.target).length>=1){setTimeout(function(){var d=$(a.target);var c=(d.attr("id")||a.control.GetInputName())+"_icon";var b=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CTI_PHONE_NUMBER_FIELD");var e=$("<img id='"+c+"' class='"+(a.className||"")+"' src='images/icon_call_enabled.gif' alt='"+b+"' />");e.bind("click",function(){a.click.call(this,a.target)});d.addClass("siebui-input-popup").after(e);if(SiebelApp.Utils.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){d.attr("aria-describedby",(d.attr("aria-describedby")||"")+" "+c)}d=e=null},2)}}};