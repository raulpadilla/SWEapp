if(typeof(SiebelAppFacade.AccNavigationPhyRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.AccNavigationPhyRenderer");SiebelApp.S_App.RegisterConstructorAgainstKey(SiebelApp.Constants.get("SWE_UIDEF_SCRTAB_PRENDR"),"SiebelAppFacade.AccNavigationPhyRenderer");SiebelAppFacade.AccNavigationPhyRenderer=(function(){var i=SiebelJS.Dependency("SiebelApp.Constants");function o(q){var p=q;this.GetPM=function(){return p};this.Init()}o.prototype.Init=function(){this.GetPM().AttachPMBinding("Refresh",this.BindData,{scope:this})};o.prototype.ShowUI=function(){};o.prototype.BindEvents=function(){var p=this.GetPM().Get("placeholder");$("#"+p).undelegate(".AccNavBar");$("#"+p).delegate("#"+p+"_tabScreen a","click.AccNavBar",{ctx:this},d);$("#"+p).delegate("#"+p+"_tabView a","click.AccNavBar",{ctx:this},a);$("#"+p).delegate("select.siebui-nav-links","click.AccNavBar keypress.AccNavBar blur.AccNavBar",{ctx:this},c).delegate("select.siebui-nav-links","focus.AccNavBar",function(){$(this)[0].selectedIndex=-1});$(window).unbind("resize.NavBar").bind("resize.NavBar",{ctx:this},function(q){q.data.ctx.BindData(true)})};function d(t){var s=$(this);var v=s.attr("data-tabindex");var r=t.data.ctx.GetPM();var q=r.Get("GetTabInfo");if(q[v]){var p="viewName";if(r.Get("GetType")===i.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){p="defaultViewName"}var u=q[v][p];if(u){if(!r.OnControlEvent("OnClick",u)){$("#"+r.Get("placeholder")+"_tabScreen").tabs("select",Number(r.Get("GetSelectedTabKey").replace("tabScreen",""))||0)}}}}function a(t){var s=$(this);var v=s.attr("data-tabindex");var r=t.data.ctx.GetPM();var q=r.Get("GetSelectedTabLinkInfo");if(q[v]){var p="viewName";var u=q[v][p];if(u){if(!r.OnControlEvent("OnClick",u)){$("#"+r.Get("placeholder")+"_tabView").tabs("select",Number(r.Get("GetSelectedLinkKey").replace("tabView",""))||0)}}}}function c(s){if(s.type==="keypress"&&s.which!==$.ui.keyCode.ENTER){}else{var r=s.data.ctx.GetPM();var v=r.Get("placeholder");var p=$(this).attr("id");var t=$(this).val();var q={};if(p==="j_"+v+"_tabScreen"){q=r.Get("GetTabInfo")}else{if(p==="j_"+v+"_tabView"){q=r.Get("GetSelectedTabLinkInfo")}else{return}}var w=q[t]||{};var u=w.defaultViewName||w.viewName;if(u){r.OnControlEvent("OnClick",u)}}}o.prototype.BindData=function(r){var p=this.GetPM();if(this.GetPM().Get("GetDataReload")===true||r){var q=p.Get("placeholder");if($("div#"+q).length===0){return}k.call(this,q,"tabScreen",p.Get("GetTabInfo"),p.Get("GetSelectedTabKey"));k.call(this,q,"tabView",p.Get("GetSelectedTabLinkInfo"),p.Get("GetSelectedLinkKey"));f.call(this);l.call(this)}};function k(w,u,s,r){var v=false;var q=w+"_"+u;var t=b.call(this,w,u,s,r);var p=$("#"+w).children("#"+q);p.remove();p=null;if(t){$("#"+w).append("<div class='siebui-nav-tabs' id="+q+">"+t+"</div>");$("#"+q).find("ol,ul").eq(0).bind($.browser.mozilla?"keypress":"keydown",{ignoreId:"j_"+q},j);$("#"+q).tabs({selected:Number((r||"").replace(u,""))||0,create:h,show:h});e.call(this,q,u,s,r);t=null;v=true}else{if(u=="tabView"){$("#"+w).append("<div class='siebui-nav-tabs siebui-empty-tabs' id="+q+"></div>")}}return v}function j(p){if(document.activeElement&&document.activeElement.id===p.data.ignoreId){p.stopImmediatePropagation()}}function h(q,p){$(p.panel).hide()}function b(v,t,s,q){var p="",r=v+"_"+t+"_noop";for(var u in s){if(s.hasOwnProperty(u)){p+="<li ";if(q===u){p+=" class='siebui-active-navtab' ";p+="><a data-tabindex='"+u+"' title='"+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CKEDITOR_SELECTED")+"' href='#"+r+"' >"}else{p+="><a data-tabindex='"+u+"' href='#"+r+"' >"}if(s[u].tabIcon){p+="<img src='"+s[u].tabIcon+"'/>"}p+=String(s[u].captionName)+"</a></li>"}}if(p!==""){p="<ul>"+p+"</ul>";p+='<div class="siebui-nav-'+t+'"  id="'+r+'" ></div>'}return p}function e(r,v,A,x){var F=this.GetPM();var u=$("#"+r);var q=Number((x||"").replace(v,""))||0;var w=Number(u.outerWidth());var z=25;var s=u.children("ul").children("li");z+=s.eq(q).outerWidth()+10;var G=0;for(var B=0,D=s.length;B<D;B++){if(B!==q){z+=s.eq(B).outerWidth()+10;if(z>w){G=(B-1);break}}}if(G!==0&&G<s.length){var E=SiebelApp.S_App.LocaleObject;var C="";if(F.Get("GetType")===i.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){C=(v==="tabScreen")?E.GetLocalString("IDS_SWE_FIRST_LEVEL_VIEW_BAR_TITLE"):E.GetLocalString("IDS_SWE_SECOND_LEVEL_VIEW_BAR_TITLE")}else{C=(v==="tabScreen")?E.GetLocalString("IDS_SWE_THIRD_LEVEL_VIEW_BAR_TITLE"):E.GetLocalString("IDS_SWE_FOURTH_LEVEL_VIEW_BAR_TITLE")}var p="<span></span><select class='siebui-nav-links "+(F.Get("IsScreen")?"siebui-nav-screenlist":"siebui-nav-viewlist")+"'  id='j_"+r+"' role='combo' aria-atomic='true' aria-label='"+C+"' >";var y=0;var t=G+1;var H;while(A[v+t]){if(t!==q){p+="<option value='"+(v+t)+"'>"+A[v+t].captionName+"</option>";H=u.children("ul").children("li").eq(t-y);H.remove();H=null;y++}t++}p+="</select>";u.tabs("refresh");u.children("ul").children("li").last().append(p);n.call(this,"select#j_"+r)}}function n(q){if($.browser.msie){var p=$(q).outerWidth();$(q).wrap("<span style='width:"+p+"px; overflow:hidden; float:right;'/>").width("auto").css({position:"relative",left:"-"+($(q).outerWidth()-p)+"px"})}}function f(){var s=this.GetPM();var v=s.Get("placeholder");var u=v+"_tabScreen";var r=v+"_tabView";var t=$("#"+u);var q=$("#"+r);var p=SiebelApp.S_App.LocaleObject;if(s.Get("GetType")===i.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){t.attr({role:"navigation",title:p.GetLocalString("IDS_SWE_FIRST_LEVEL_VIEW_BAR_TITLE")}).children("ul").eq(0).attr("aria-live","off");q.attr({role:"navigation",title:p.GetLocalString("IDS_SWE_SECOND_LEVEL_VIEW_BAR_TITLE")}).children("ul").eq(0).attr("aria-live","off")}else{t.attr({role:"navigation",title:p.GetLocalString("IDS_SWE_THIRD_LEVEL_VIEW_BAR_TITLE")}).children("ul").eq(0).attr("aria-live","off");q.attr({role:"navigation",title:p.GetLocalString("IDS_SWE_FOURTH_LEVEL_VIEW_BAR_TITLE")}).children("ul").eq(0).attr("aria-live","off")}}function m(A,w,z,p){var r=i.get("SWE_PROP_QTP_OT");var y=i.get("SWE_PROP_QTP_RN");var x=i.get("SWE_PROP_QTP_UN");if(z&&(typeof(z.GetProperty)==="function")){A.children("ul").attr("ot",z.GetProperty(r)).attr("rn",z.GetProperty(y)).attr("un",z.GetProperty(x))}if(!p){return}var q=A.children("ul").children("li");for(var v=0;v<q.length-1;v++){if(p[v]&&(typeof(p[v].GetProperty)==="function")){q.eq(v).attr("ot",p[v].GetProperty(r)).attr("rn",p[v].GetProperty(y)).attr("un",p[v].GetProperty(x))}}var t=v;var s=(w==="tabScreen")?this.GetPM().Get("GetSelectedTabKey"):this.GetPM().Get("GetSelectedLinkKey");if(s){var u=parseInt(s.substring(w.length));if(u){t=(u<v)?v:u}}if(p[t]&&(typeof(p[t].GetProperty)==="function")){q.eq(v).attr("ot",p[t].GetProperty(r)).attr("rn",p[t].GetProperty(y)).attr("un",p[t].GetProperty(x))}}function g(y,x,p,u){var r=i.get("SWE_PROP_QTP_OT");var w=i.get("SWE_PROP_QTP_RN");var v=i.get("SWE_PROP_QTP_UN");if(x&&(typeof(x.GetProperty)==="function")){y.attr("ot",x.GetProperty(r)).attr("rn",x.GetProperty(w)).attr("un",x.GetProperty(v))}var q=y.children("option");for(var t=0;
t<q.length;t++){var s=Number((q.eq(t).val()||"").replace(u,""));if(s&&p[s]&&(typeof(p[s].GetProperty)==="function")){q.eq(t).attr("ot",p[s].GetProperty(r)).attr("rn",p[s].GetProperty(w)).attr("un",p[s].GetProperty(v))}}}function l(){var t=this.GetPM();var s=t.Get("GetTabContainerQTPInfo");var u=t.Get("GetTabItemsQTPInfo");var q=t.Get("GetTabViewLinkContainerQTPInfo");var r=t.Get("GetTabViewLinkItemsQTPInfo");var v=t.Get("placeholder")+"_tabScreen";var p=t.Get("placeholder")+"_tabView";m.call(this,$("#"+v),"tabScreen",s,u);m.call(this,$("#"+p),"tabView",q,r);g.call(this,$("#j_"+v),t.Get("GetJumpTabQTPInfo"),u,"tabScreen");g.call(this,$("#j_"+p),t.Get("GetJumpTabQTPInfo"),r,"tabView")}return o}())};