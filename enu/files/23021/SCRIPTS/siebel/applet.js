if(typeof(SiebelApp.S_App.Applet)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.Applet");SiebelApp.S_App.Applet=(function(){var v=SiebelJS.Dependency("SiebelApp.Utils");var o=SiebelJS.Dependency("SiebelApp.Constants");var a=SiebelJS.Dependency("SiebelApp.S_App");var k=o.get("SWE_PST_CAN_NAV_STATE");var f=o.get("SWE_ROW_STR");var h=o.get("SWE_REQ_ROW_ID_STR");var t=o.get("SWE_ROW_IDS_STR");var s=o.get("SWE_PST_BUTTON_CTRL");var j=o.get("SWE_FIELD_STR");var e=o.get("SWE_RPC_PROP_RETURN_STATUS");var w=o.get("SWE_RPC_PROP_STATUS_COMPLETED");var n=o.get("SWE_RPC_PROP_STATUS_ERROR");var g=o.get("SWE_DISPLAY_NAME_STR");var x=o.get("SWE_FIELD_VALUE_STR");var p=o.get("SWE_CTRL_PICK");function q(){var ab=null;var af=null;var H=null;var M=null;var W=null;var z=null;var ac=null;var B=false;var y={};var E={};var P;var S;var N={};var O=false;var ai=null;var Z=0;var Q=null;var J=null;var V;var L=false;var G=null;var Y=null;var ag=null;var R=false;var C=null;var I=null;var D=null;var A=false;var T=null;var ah="Base";var F=null;var ae=false;var aa=[];var ad=false;var K=null;this.GetScrollDir=function(){return ai};this.GetScrollAmount=function(){return Z};this.SetScrollDir=function(aj){ai=aj};this.SetScrollAmount=function(aj){Z=aj};var U=["ExecuteQuery","RunQuery","ExecuteAlphaTabQuery"];var X=null;this.SetCancelQryTimeoutObj=function(aj){X=aj};this.GetCancelQryTimeoutObj=function(){return X};this.GetCancelableMethodArray=function(){return U};this.SetUpdateConditionals=function(aj){ad=aj};this.GetUpdateConditionals=function(){return ad};this.GetUIEventMap=function(){return aa};this.SetUIEventMap=function(aj){aa.push(aj)};this.SetIsStandAlone=function(aj){B=aj};this.GetIsStandAlone=function(){return B};this.GetQuerySubMode=function(){return ah};this.SetQuerySubMode=function(aj){ah=aj};this.GetPopupControl=function(){return I};this.SetPopupControl=function(aj){I=aj};this.GetPopupMethod=function(){return C};this.SetPopupMethod=function(aj){C=aj};this.IsPopupClosed=function(){return R};this.SetPopupClosed=function(aj){R=aj};this.GetPopupApplet=function(){return ag};this.SetPopupApplet=function(aj){ag=aj};this.GetCurrencyApplet=function(){return T};this.SetCurrencyApplet=function(){if(T===undefined||T===null){T=new SiebelApp.S_App.Currency(this)}};this.GetToggleApplet=function(){return K};this.SetToggleApplet=function(){if(!K){K=new SiebelApp.S_App.ToggleApplet(this)}};this.GetParentApplet=function(){return Y};this.SetParentApplet=function(aj){Y=aj};this.GetVarName=function(){return G};this.SetVarName=function(aj){G=aj};this.SetActiveControl=function(aj){Q=aj};this.GetActiveControl=function(aj){return Q};this.SetPrsrvControl=function(aj){J=aj};this.GetPrsrvControl=function(aj){return J};this.SetBusComp=function(aj){ac=aj};this.GetBusComp=function(){return ac};this.SetFocusDefaultControl=function(aj){L=aj};this.GetFocusDefaultControl=function(aj){return L};this.SetDoPopulate=function(aj){O=aj;return(true)};this.GetControls=function(){return y};this.ClearControls=function(){y=null;y={}};this.SetView=function(aj){P=aj};this.GetView=function(){return P};this.SetPModel=function(aj){S=aj};this.GetPModel=function(){return S};this.SetMenu=function(aj){F=aj};this.GetMenu=function(){return F};this.GetCanNavigateMap=function(){return N};this.GetConfirmMessageMap=function(){return E};this.GetPrivateFieldMap=function(){return ab};this.SetPrivateFieldMap=function(){ab=[]};this.GetMapFieldsArray=function(){return z};this.SetMapFieldsArray=function(aj){z=aj};this.GetPopBookMark=function(){return D};this.SetPopBookMark=function(aj){D=aj};this.GetCanUpdateByName=function(){return af};this.SetCanUpdateByName=function(){af=[]};this.GetCanUpdateArray=function(){return H};this.SetCanUpdateArray=function(){H=[]};this.GetCanInvokeByName=function(){return W};this.SetCanInvokeByName=function(){W=[]};this.GetCanInvokeArray=function(){return M};this.SetCanInvokeArray=function(){M=[]};this.SetEnableUIUpdate=function(aj){A=aj};this.GetEnableUIUpdate=function(){return A};this.HasCustomShadow=function(){return ae};this.SetCustomShadow=function(aj){ae=aj};this.GetRowListRowCount=function(){return Number("1")};this.GetNumRows=function(){return this.GetBusComp().GetNumRows()};this.IsNumRowsKnown=function(){return this.GetBusComp().IsNumRowsKnown()};this.WSHome=function(){var aj=this.GetBusComp();if(aj){return(aj.WSHome(this.GetName()))}};this.WSNextRecord=function(){var aj=this.GetBusComp();if(aj){return(aj.WSNextRecord(this.GetName()))}};this.SetCurRow=function(ak){var aj=this.GetBusComp();if(aj){return(aj.SetCurRow(this.GetName(),ak))}};this.IsCurWSRecActive=function(ak){var aj=this.GetBusComp();if(!aj){false}return(aj.IsCurWSRecActive(this.GetName()))}}q.prototype.IsPure=function(){return !!this.GetBusComp()};q.prototype.ResetAppletState=function(){};q.prototype.EndLife=function(){if(this.GetMenu()){var B=this.GetMenu().GetPM();if(B&&B.EndLife){B.EndLife()}this.GetMenu().SetPM(null);this.SetMenu(null)}var z=this.GetPModel();if(z&&z.EndLife){z.EndLife()}z=null;var y=this.GetControls();for(var A in y){if(y.hasOwnProperty(A)){y[A].SetApplet(null);delete y[A]}}y=null;this.SetPModel(z);this.SetView(null)};q.prototype.ProcessError=function(){var F=SiebelApp.S_App.ErrorObject.GetErrorArray().length;var G=false;var B=false;var H=false;var A=false;var y=SiebelApp.S_App.ErrorObject.GetErrorArray();var I=o.get("SSAELErrUserDefinedError");var J=o.get("SSAELErrGetFieldNotActive");var E=o.get("SSAOMErrBoundedPick");var z=this.GetActiveControl();if(SiebelApp.S_App.ErrorObject&&F>0){for(var D=0;D<F;D++){if(y[D].errCode===I){G=true;break}if(y[D].errCode===J){B=true;break}}if(!G&&!B){for(var C=0;C<F;C++){if(y[C].errCode===E){H=true;break}}}if(H){if(z){if(z.GetUIType()===o.get("SWE_CTRL_COMBOBOX")){this.ShowPopup(z);A=true}if(z.GetUIType()===o.get("SWE_CTRL_PICK")&&z.IsEditEnabled()){this.FieldPopup();A=true}}}}if(A){SiebelApp.S_App.ErrorObject.ClearErrorMsg()}else{SiebelApp.S_App.ErrorObject.ProcessError()}};q.prototype.AddControl=function(y){this.GetControls()[y.GetName()]=y};q.prototype.RemoveControls=function(){this.ClearControls()};q.prototype.GetPropArray=function(){return["GetName","GetId","GetFullId","GetTitle","GetControls","GetActiveControl","GetSelection","GetRecordSet","GetDefaultFocusOnNew","GetAppletSummary","GetAppletLabel","IsInQueryMode","GetQueryModePrompt","GetDefaultFocusOnQuery","GetMapFields","GetPrsrvControl","GetUIEventMap","IsPure","GetScrollDir","GetScrollAmount","GetMode","GetBusComp","GetRowListRowCount","GetWSEndRowNum","GetNumRows","IsNumRowsKnown"]};q.prototype.GetMethodArray=function(){return["CanNavigate","CanUpdate","CanInvokeMethod","InvokeMethod","GetControl","LeaveField","ShowSelection","InvokeMethod","RefreshData","FieldChange","UpdateStateChange","InvokeStateChange","SetFocusToCtrl","FocusFirstControl","SetHighlightState","UpdateQuickPickInfo","GetFieldValue","GetFormattedFieldValue","IsPrivateField","NewFileAttachment","UpdateAppletMessage","PostExecute","SetFocusDefaultControl","ShowPickPopup","NotifyClosePopup","UpdateCurrencyCalcInfo","GetCurrencyApplet","GetCurrencyCalInfo","CurrencyPostChanges","ExecuteUIUpdate","UpdateConditionals","SetUpdateConditionals","ProcessCancelQueryPopup","GetControlId","ShowPopup","ProcessError","GetPhysicalControlValue","ResetAppletState","FocusSelectedTreeNode","NavigateState","HandleCtrlDefChange","RepopulateField","IsMethodDefault","SetCanInvokeState","GetFieldDataType","BeginQueryState","EndQueryState","FocusOnApplet","UpdateRowCounter","GetWSStartRowNum","SetCurRow","IsCurWSRecActive","WSNextRecord","WSHome","SetActiveControl"]
};q.prototype.IsMethodDefault=function(y){return this.GetCanInvokeByName()&&this.GetCanInvokeByName()[y]};q.prototype.GetControlId=function(){if(this.GetToggleApplet()){return this.GetToggleApplet().GetControlId()}return};q.prototype.GetCurrencyCalInfo=function(){return this.GetCurrencyApplet().GetCurrencyCalInfo()};q.prototype.NotifyClosePopup=function(){return this.GetCurrencyApplet().NotifyClosePopup()};q.prototype.ShowPickPopup=function(){return this.GetCurrencyApplet().ShowPickPopup(this)};q.prototype.GetSelection=function(){return !!this.GetBusComp()?this.GetBusComp().GetSelection():-1};q.prototype.GetControl=function(y){return this.GetControls()[y]};q.prototype.GetRecordSet=function(){var y=[];if(!!this.GetBusComp()){if(this.IsInQueryMode()){y[0]=this.GetEmptyRecordForQuery()}else{y=this.GetBusComp().GetRecordSet(true)}}return y};q.prototype.GetRowIds=function(F){var A=this.GetBaseLevelApplet();var G=!v.IsEmpty(this.GetParentApplet());var D;var C="";var B=[];var z;if(!this.GetView()||!this.GetBusComp()){}else{if(G){D=A.GetBusComp()}else{D=A.GetBusComp().GetParentBusComp()}while(D){B.push(D);z=D.GetIdValue();if(!z){SiebelApp.S_App.ErrorObject.ClearErrorMsg();if(!G){F.SetProperty(t,C);return}}D=D.GetParentBusComp()}}B.reverse();var E=0;for(E=0;E<=B.length-1;E++){if(!v.IsEmpty(C)){C+=","}var y=B[E];C+=(o.get("SWE_ROW_ID_STR")+E.toString()+"="+y.GetIdValue())}F.SetProperty(t,C)};q.prototype.GetMapFields=function(y){return this.GetMapFieldsArray()};q.prototype.GetBaseLevelApplet=function(){var y=this;while(!v.IsEmpty(y.GetParentApplet())){y=y.GetParentApplet()}return y};q.prototype.GetAllFieldValues=function(y,z){};q.prototype.GetFieldDataType=function(z){if(!!this.GetBusComp()){var y=this.GetBusComp().GetField(z);if(!v.IsEmpty(y)){return y.GetDataType()}else{return""}}else{return""}};q.prototype.IsEditableApplet=function(){return(this.IsEditable()==="1")?true:false};q.prototype.IsPrivateField=function(y){if(this.GetPrivateFieldMap()&&this.GetPrivateFieldMap()[y]){return true}return false};q.prototype.CanUpdateUI=function(){return this.GetEnableUIUpdate()};q.prototype.CanNavigate=function(y){var C=this.GetBusComp();if(!C){return false}var A=this.GetCanNavigateMap();var D=A.hasOwnProperty(y);var B=A[y];var z=C.GetCurRow(this.GetName());if(D&&B instanceof Array&&z>=0&&z<B.length){return v.IsTrue(B[z])}return false};q.prototype.CanUpdate=function(y){var z=true;if(this.IsEditableApplet()===false&&this.IsPrivateField(y)===false){z=false;return z}if(this.GetCanUpdateByName()[y]){z=this.GetCanUpdateByName()[y].bCanUpdate;if(!v.IsEmpty(z)){return z}}if(this.IsPrivateField(y)===false&&this.IsInQueryMode()===false&&!!this.GetBusComp()&&this.GetBusComp().CanUpdate()===false){z=false;return z}return z};q.prototype.CanInvokeMethod=function(A){var z=true;if(A==="OnFocus"){return z}else{if(A==="ShowContextMenu"){return z}else{if(A==="OnEnterKey"){return z}else{if(A==="OnEscapeKey"){return z}else{if(A==="UndoRecord"){if(this.IsInQueryMode()===false&&!!this.GetBusComp()&&(this.GetBusComp().GetCommitPending()||this.GetBusComp().IsCommitPending())){return z}}else{if(A==="EditPopup"){return z}else{if(A==="Find"){if(this.IsInQueryMode()===true){z=false;return z}}else{if(A==="ImplicitCommit"){return z}else{if(A==="FocusDefaultControl"){return z}else{if(A==="ExecuteAlphaTabQuery"){return z}else{if(!A){return false}}}}}}}}}}}if(this.GetCanInvokeByName()!==null&&this.GetCanInvokeByName()[A]){SiebelApp.S_App.OfflineCallMethod("AppletCanInvokeMethod",A,this);z=this.GetCanInvokeByName()[A].bCanInvoke;if(z!==undefined||z!==null){return z}}var D=CCFMiscUtil_CreatePropSet();var y=CCFMiscUtil_CreatePropSet();y.SetProperty(o.get("SWE_CMD_ARG"),"CanInvokeMethod");if(!v.IsEmpty(this.GetView())){y.SetProperty(o.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());y.SetProperty(o.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(y.GetProperty(o.get("SWE_APPLET_STR"))===undefined||y.GetProperty(o.get("SWE_APPLET_STR")===null)){y.SetProperty(o.get("SWE_APPLET_STR"),this.GetName())}if(this.GetPopBookMark()){y.SetProperty(o.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}y.SetProperty(o.get("SWE_METHOD_STR"),A);var B={};B.async=false;SiebelApp.S_App.CallServer(y,D,true,B);if(0===D.GetPropertyCount()){return(z=false)}var C=D.GetProperty(o.get("SWE_RPC_PROP_STATUS"));if(C&&C.toLowerCase()!==o.get("SWE_RPC_PROP_STATUS_OK").toLowerCase()){return(z=false)}C=D.GetProperty("Result");if(C){z=(C.toLowerCase()===o.get("SWE_PROP_RESULT_TRUE").toLowerCase())?true:false}return z};q.prototype.ProcessObjectInfo=function(y){if(y.GetType()!==o.get("SWE_PST_APPLET_INFO")){return}var C=y.GetValue();if(!this.GetVarName()){this.SetVarName(C)}else{if(this.GetVarName()!==C){return}}var B=y.GetProperty("MAP_LOCATION_FIELDS");if(B!=undefined&&B!=null){var A=B.split(",");for(var z=0;z<A.length;z++){A[z]=A[z].replace(/^\s+|\s+$/g,"")}this.SetMapFieldsArray(A)}this.ProcessSelfProps(y);this.DoProcessObjectProperties(y);var D=y.EnumChildren(true);if(!D){return}do{this.ProcessChildrenProps(D)}while((D=y.EnumChildren(false)));if(!this.GetPModel()){this.SetPModel(y.Clone())}};q.prototype.ProcessSelfProps=function(z){var A=v.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,z);if(z.PropertyExists(o.get("SWE_POPUP_APPLET_NAME"))){A("GetPopupAppletName","SWE_POPUP_APPLET_NAME")}if(z.PropertyExists(o.get("SWE_POPUP_ASSOC_APPLET_NAME"))){A("GetPopupAssocAppletName","SWE_POPUP_ASSOC_APPLET_NAME")}if(z.PropertyExists(o.get("SWE_MVG_SELECTED_APPLET_NAME"))){A("GetMvgSelectedAppletName","SWE_MVG_SELECTED_APPLET_NAME")}A("GetName","SWE_PROP_NAME");A("GetMode","SWE_PST_APPLET_MODE");A("GetVarName","SWE_PROP_VAR_NAME");A("GetId","SWE_PROP_ID");A("GetTitle","SWE_PROP_TITLE");A("GetBCId","SWE_PST_BUSCOMP_INFO");A("IsEditable","SWE_PROP_IS_EDIT");A("GetDefaultFocusOnEdit","SWE_PROP_CTRL_FOCUS_EDIT");A("GetDefaultFocusOnNew","SWE_PROP_CTRL_FOCUS_NEW");A("GetDefaultFocusOnQuery","SWE_PROP_CTRL_FOCUS_QUERY");A("IsNoUpdate","SWE_PROP_IS_NO_UPDATE");A("IsCancelQueryDisabled","SWE_PROP_DISABLE_CANCEL_QUERY");A("GetDefaultMethod","SWE_PROP_DEF_METHOD",true);var y=z.GetValue();this.GetFullId=function(){return y};if(!v.IsEmpty(this.GetView())&&!!this.GetBCId()){this.SetBusComp(this.GetView().GetBusObj().GetBusComp(this.GetBCId()))}if(!!this.GetBusComp()){this.GetBusComp().Register(this)}SiebelApp.S_App.OfflineCallMethod("ProcessAppletSelfProps",this);z=null};q.prototype.DoProcessObjectProperties=function(z){var y=z.GetProperty(o.get("SWE_PROP_CAN_UPDATE"));if(typeof(y)==="string"){this.SetCanUpdateState(y)}y=z.GetProperty(o.get("SWE_PROP_CAN_INVOKE"));if(typeof(y)==="string"){this.SetCanInvokeState(y)}y=z.GetProperty(o.get("SWE_PROP_POP_BKMARK"));if(typeof(y)==="string"){this.SetPopBookMark(y)}y=z.GetProperty(o.get("SWE_PROP_SHADOW"));if(y!=null&&y!=undefined){if(SiebelApp.S_App.CreateJSShadow(this,y)){this.SetCustomShadow(true)}}y=Number(z.GetProperty(o.get("SWE_PROP_BEGIN_ROW")));if(this.GetBusComp()&&y!==-1){this.GetBusComp().GetNotifyObject().SetBegRow(this.GetName(),y)
}};q.prototype.ProcessControlInfo=function(y,z){var A=new SiebelApp.S_App.AppletControl();A.SetApplet(this);A.ProcessObjectInfo(y);A.SetIndex(z);this.AddControl(A)};q.prototype.ProcessPickInfo=function(C){var z;var B=o.get("SWE_PROP_POP_METHOD");var y=o.get("SWE_PROP_POP_CTRL");if(!this.GetParentApplet()){z=C.GetValue();if(z){if(this.GetView()){var A=this.GetView().GetAppletById(z)}if(A){this.SetParentApplet(A)}}if(!this.GetParentApplet()){return(false)}this.GetParentApplet().SetPopupApplet(this)}z=C.GetProperty(B);if(z){this.SetPopupMethod(z)}z=C.GetProperty(y);if(z){this.SetPopupControl(z)}return true};q.prototype.ProcessChildrenProps=function(H){var L=v.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,H);var C=H.GetType();var F=o.get("SWE_PST_CNTRL_LIST");var S=o.get("SWE_PST_REMOVE_CONTROL_LIST");var B=o.get("SWE_PST_CONFIRM_MSGS");var J=o.get("SWE_PST_PRIV_CNTRL_LIST");var D=o.get("SWE_PROP_CAN_INVOKE");var K=o.get("SWE_PST_PARENT_INFO");var G=o.get("SWE_PST_ACCESSIBILITY_INFO");var Q=o.get("SWE_PST_PMODEL_FILE_INFO");var U=o.get("SWE_PST_PRENDERER_FILE_INFO");var R=o.get("SWE_PROP_GET_PMODEL_FILE");var M=o.get("SWE_PROP_GET_PRENDERER_FILE");var E=o.get("SWE_PST_NEW_TOGGLE_CTRL");var z=SiebelApp.S_App.GetPageURL().split("start.swe")[0]+SiebelApp.S_App.GetScriptDir();var P=o.get("SWE_PST_QTP_INFO");switch(C){case F:var O=H.EnumChildren(true);var N=0;do{this.ProcessControlInfo(O,N);N++}while((O=H.EnumChildren(false)));break;case k:var y=H.EnumProperties(true);do{var V=[];CCFMiscUtil_StringToArray(H.GetProperty(y),V);this.GetCanNavigateMap()[y]=V}while((y=H.EnumProperties(false)));break;case S:this.RemoveControls();break;case B:var A=H.EnumProperties(true);do{this.GetConfirmMessageMap()[A]=H.GetProperty(A)}while((A=H.EnumProperties(false)));break;case J:this.SetPrivateFields(H);break;case K:var T=this.ProcessPickInfo(H);if(!T){return(false)}break;case G:L("GetAppletLabel","SWE_APPLET_LABEL");L("GetAppletSummary","SWE_APPLET_SUMMARY");if(this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}break;case P:var I=v.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,H);I("GetObjectType","SWE_PROP_QTP_OT");I("GetRepstrName","SWE_PROP_QTP_RN");I("GetUIName","SWE_PROP_QTP_UN");break;case E:this.SetToggleApplet();if(H.GetChildCount()>0){this.GetToggleApplet().ProcessObjectInfo(H.GetChild(0))}break}if(this.GetAppletLabel==undefined||this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary==undefined||this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}H=null};q.prototype.SetCanUpdateState=function(A){var z=[];var E;CCFMiscUtil_StringToArray(A,z);this.SetCanUpdateArray();if(!this.GetCanUpdateByName()){this.SetCanUpdateByName()}if(z.length>=2){for(var C=0,y=z.length;C<y;C+=2){var B=a.LookupStringCache(z[C]);var D=z[C+1];if(!B){return false}E=(D==="1")?true:false;this.GetCanUpdateArray().push(B);this.GetCanUpdateByName()[B]={bCanUpdate:E}}}};q.prototype.SetCanInvokeState=function(A){var D=[];var z=true;CCFMiscUtil_StringToArray(A,D);if(!this.GetCanInvokeByName()){this.SetCanInvokeByName()}this.SetCanInvokeArray();if(D.length>=2){for(var C=0,y=D.length;C<y;C+=2){var B=a.LookupStringCache(D[C]);var E=D[C+1];if(!B){return false}z=(E==="1")?true:false;this.GetCanInvokeArray().push(B);this.GetCanInvokeByName()[B]={bCanInvoke:z}}}};q.prototype.SetPrivateFields=function(D){if(!D){return}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}var G=o.get("SWE_PST_PRIV_CNTRL");var y=o.get("SWE_PST_PRIV_COL");var A;var H;var C;var z;var I=[];for(var B=0,E=D.GetChildCount();B<E;B++){var F=D.GetChild(B).GetType();if(F===G){A=true;H=null;z=D.GetChild(B);for(A=true;(H=z.EnumProperties(A))!==null;A=false){if(!this.GetPrivateFieldMap()[H]){I=[];I.push(z.GetProperty(H));this.GetPrivateFieldMap()[H]={bDirty:false,bInList:false,valueArray:I};C=z.EncodeAsString()}}}else{if(F===y){A=true;H=null;z=D.GetChild(B);for(A=true;(H=z.EnumProperties(A))!==null;A=false){if(!this.GetPrivateFieldMap()[H]){I=[];CCFMiscUtil_StringToArray(z.GetProperty(H),I);this.GetPrivateFieldMap()[H]={bDirty:false,bInList:true,valueArray:I};C=z.EncodeAsString()}}}}}return};q.prototype.Initialize=function(){this.InitializeRenderer();c.call(this,true);i.call(this);if(this.GetToggleApplet()){this.GetToggleApplet().Initialize()}SiebelApp.S_App.ErrorObject.ClearErrorMsg()};q.prototype.GetLabel=function(){return this.GetAppletLabel()};q.prototype.InitializeRenderer=function(){};function c(y){this.SetEnableUIUpdate(y);var z;if(!this.GetBusComp()){return}z=this.GetBusComp().GetNotifyObject();if(z){z.SetEnableUIUpdate(this.GetName(),y)}}function i(){var z="#"+o.get("SWE_MENU_IDENTIFIER")+this.GetId();if($(z).length==0){return}var y=new SiebelApp.S_App.Menu(this);this.SetMenu(y);y.CreatePM("MBMenuRenderer",SiebelAppFacade.AppletMenuPresentationModel)}function l(){var A=this.GetPModel();if(A instanceof JSSPropertySet){var G=A;var B=G.GetProperty(o.get("SWE_PROP_OUI_PMODEL"));var z=SiebelApp.S_App.GetConstructorFromKey(B)+".";var y="";var F=0;var C=z.indexOf(".");while(C!=-1){var E=z.substring(F,C);y=(y=="")?window[E]:y[E];F=C+1;C=z.indexOf(".",F)}var D=y||SiebelAppFacade.PresentationModel;this.SetPModel(new D(this));this.GetPModel().Setup(G.Clone())}this.GetPModel().Show()}q.prototype.Show=function(){l.call(this);this.ShowSelection();this.UpdateConditionals();if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnLoad)==="function"){this.shadow.OnLoad()}};q.prototype.ShowOnly=function(){l.call(this);var y=this.GetMenu();if(v.IsEmpty(y)){i.call(this)}if(!v.IsEmpty(y)){this.GetMenu().ShowMenuControl()}this.UpdateConditionals();this.FocusDefaultControl()};q.prototype.Query=function(y){y.Applet=this;SiebelApp.S_App.InvokeMethod("Query",y)};q.prototype.ShouldPopulateUItype=function(y){return(y==="Link")?false:true};q.prototype.UpdateAppletMessage=function(A,z){A=!v.IsEmpty(A)?A:null;z=z||0;var B=false;var C=this.GetQuerySubMode();var y="";switch(A){case"bInQueryState":if(z==1){B=true;this.SetQuerySubMode(o.get("QUERY_SUB_MODE_QUERY"));y=a.LocaleObject.GetLocalString("Query Mode Prompt")}else{if(C==o.get("QUERY_SUB_MODE_QUERY")){this.SetQuerySubMode(o.get("QUERY_SUB_MODE_EXIT_QUERY"));B=true}}break;case"bExecuted":if(z==1&&C==o.get("QUERY_SUB_MODE_EXIT_QUERY")){B=true;y=a.LocaleObject.GetLocalString("Query Result Prompt")}break;case null:if(C===o.get("QUERY_SUB_MODE_EXIT_QUERY")){this.SetQuerySubMode(o.get("QUERY_SUB_MODE_BASE"));B=true}break}this.GetQueryModePrompt=function(){if(B){return y}else{return null}};if(!this.GetBusComp()){return}if(B&&this.GetBusComp().GetNotifyObject().GetEnableUIUpdate(this.GetName())){}};q.prototype.GetQueryModePrompt=function(){};q.prototype.RepopulateField=function(y){return this.DoRepopulateField(y)};q.prototype.DoRepopulateField=function(D){var y=this.GetControls();for(var B in y){if(y.hasOwnProperty(B)){var A=y[B];
var C=A.GetFieldName();if(C===D){if(!this.ShouldPopulateUItype(A.GetUIType())){continue}var z=(this.IsInQueryMode())?this.GetBusComp().GetFieldSearchSpec(D):this.GetFormattedFieldValue(A);this.FieldChange(A,z)}}}return};q.prototype.GetFieldValue=function(B){var z="";var A=B.GetName();var C=B.GetFieldName();if(this.IsPrivateField(A)){var y=this.GetPrivateFieldMap()[A];if(y!==null){if(y.valueArray.length>0){z=y.valueArray[0]}}}else{z=this.GetBusComp().GetFieldValue(C)}return z};q.prototype.ConfirmMethod=function(z){var y=[];var B=this.GetConfirmMessageMap()[z];if(a.LocaleObject&&B){var A=SiebelApp.S_App.LocaleObject.GetLocalString(B);var C=a.LookupStringCache(this.GetTitle());if(!C){C=a.LookupStringCache(this.GetName())}y.push(C);A=v.FormatString(A,y);return confirm(A)}return true};q.prototype.SetCancelableRPCInfo=function(A,y){var z=this.GetCancelableMethodArray();if(z&&(v.IndexOf(z,A)>=0)&&!v.IsTrue(this.IsCancelQueryDisabled())){y.SetProperty(o.get("SWE_PROP_CANCELABLE_RPC"),"1")}};q.prototype.InvokeMethod=function(L,C,H){if(!L){return false}var J=true;var P=false;C=C||CCFMiscUtil_CreatePropSet();var K=C.Clone();var F;this.SetCancelableRPCInfo(L,K);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),L,"Begin InvokeMethod")}J=this.FirePreInvokeMethod(L,K);if(!J){return false}var E=this.GetActiveControl();if(this.ConfirmMethod(L)===false){SiebelApp.S_App.uiStatus.Free();if(E){this.SetFocusToCtrl(E.GetName(),true)}else{this.FocusFirstControl()}return true}if(L==="Drilldown"&&!C.GetProperty(j)){var O=this.GetActiveControl();if(!O||this.IsInQueryMode()||!this.CanNavigate(O.GetFieldName())){return}var I=this.GetBusComp().GetSelection();var z;if(typeof(O.GetSpanPrefix)==="function"){z=O.GetSpanPrefix();if(!v.IsEmpty(I)){z+=I+1}}else{z=O.GetInputName()}K.SetProperty(f,I+1);K.SetProperty(j,z)}if(L==="EditPopup"){u.call(this,H);this.FireInvokeMethod(L,C);return}if(L==="OnFocus"){if(!v.IsEmpty(this.GetView())){var N=true;if(!this.GetView().IsAppletActive(this)){N=false}var R=this.GetView().SetActiveApplet(this);if(R&&!N){this.SetFocusDefaultControl(true);this.FocusDefaultControl()}this.FireInvokeMethod(L,C)}else{}return true}if(L==="FocusDefaultControl"){this.SetFocusDefaultControl(true);this.FocusDefaultControl();this.FireInvokeMethod(L,C);return true}if(L==="UndoQuery"||L==="ExecuteQuery"||L==="UndoRecord"){this.SetFocusDefaultControl(true)}if(L==="OnEnterKey"){F=m.call(this);if(F===true){this.FireInvokeMethod(L,C)}return F}if(L==="OnEscapeKey"){F=d.call(this);if(F===true){this.FireInvokeMethod(L,C)}return F}if(L==="ImplicitCommit"){return(this.PostChangesToBC(true,null))}if((L==="GetQuickPickInfo")&&(this.GetCachedCtrlQuickPick(K)===true)){SiebelApp.S_App.InvokeCallBack();this.FireInvokeMethod(L,C);return true}if(L=="GotoLastSet"){var A=-1;this.GetBusComp().SetCurRowNum(A)}if(L!=="GetQuickPickInfo"&&L!=="EditField"&&L!=="UndoRecord"){var O=this.GetActiveControl();if(O&&false===this.LeaveField(O,this.GetControlValueFromUI(O),true)){this.EnterField(O);return false}}if(L!=="PositionOnRow"){this.CollectFieldValues(K)}var D={};var G=this;if(typeof(H)==="object"||H===true||H===false){D.scope=this;D.args=[];D.args.push(L);D.args.push(K);D.async=(typeof(H.async)==="boolean")?H.async:H;D.target=H.target;D.selfbusy=H.selfbusy||false;D.mask=H.mask||false;D.cb=function(){var S=Array.prototype.slice.call(arguments);S.push(G.PostExecute.apply(G,arguments));if(typeof(H.cb)==="function"){H.cb.apply(H.scope||null,S)}G=null}}else{D=undefined}var Q=K.GetProperty(o.get("SWE_PROP_CANCELABLE_RPC"));if(v.IsTrue(Q)){G=this;var y=setTimeout(function(){G.ProcessCancelQueryPopup();G=null},1000*parseInt(SiebelApp.S_App.GetCancelQueryTimeout(),10));this.SetCancelQryTimeoutObj(y)}var M=CCFMiscUtil_CreatePropSet();this.CallServerApplet(L,K,M,D);if(typeof(H)==="undefined"){var B=[];B.push(L);B.push(K);B.push(M);return(this.PostExecute.apply(this,B))}};function m(){if(SiebelApp.S_App.GetPopupPM().Get("state")===o.get("POPUP_STATE_VISIBLE")&&SiebelApp.S_App.GetPopupPM().Get("isPopupSI")===true){return true}var B=this.GetActiveControl();if(v.IsEmpty(B)){return false}var y=CCFMiscUtil_CreatePropSet();var z=this.GetDefaultMethod();if(this.IsInQueryMode()===true){return this.InvokeMethod("ExecuteQuery",y)}else{if(z&&this.CanInvokeMethod(z)){return this.InvokeMethod(z,y)}else{if(false===this.LeaveField(B,this.GetControlValueFromUI(B),true)){this.EnterField(B);return false}var A=this.GetBusComp();if(A&&A.IsCommitPending()){return this.InvokeMethod("WriteRecord",y)}}}SiebelApp.S_App.ErrorObject.ClearErrorMsg()}function d(){var y=CCFMiscUtil_CreatePropSet();if(SiebelApp.S_App.GetPopupPM().Get("isCurrencyOpen")){return false}if(this.IsInQueryMode()===true){return this.InvokeMethod("UndoQuery",y)}if(this.GetBusComp()&&this.GetBusComp().IsCommitPending()){return this.InvokeMethod("UndoRecord",y)}else{return false}SiebelApp.S_App.ErrorObject.ClearErrorMsg()}q.prototype.PostExecute=function(A,F,D){var E=this.GetCancelQryTimeoutObj();var y=true;var z=arguments[2].GetProperty(e);var B=F.GetProperty(o.get("SWE_PROP_CANCELABLE_RPC"));if(v.IsTrue(B)&&!v.IsEmpty(E)){clearTimeout(E)}if(v.IndexOf(["timeout","error","abort","parsererror"],arguments[2].GetProperty(o.get("AJAX_FAIL_ERR")))!==-1){y=false}else{if(arguments[0]==="CanInvokeMethod"){var C=arguments[2].GetProperty("Result");y=(C==="true")?true:false}else{if(z===n||!z){y=false}else{if(z===w){y=true}}}}if(y===true){this.FireInvokeMethod(arguments[0],arguments[1])}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),A,"Finished InvokeMethod")}if(z==="DownloadFile"){SiebelApp.S_App.DownloadFile(arguments[2])}return y};q.prototype.ProcessCancelQueryPopup=function(){};q.prototype.CallServerApplet=function(z,A,E,B){var C=true;if(typeof(B)!=="undefined"){if(B.psresp===true||B.psresp===false){C=B.psresp}}var y=A.Clone();y.SetProperty(o.get("SWE_CMD_ARG"),o.get("SWE_CMD_INVOKE_METHOD_STR"));if(!v.IsEmpty(this.GetView())){y.SetProperty(o.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());y.SetProperty(o.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(y.GetProperty(o.get("SWE_APPLET_STR"))===undefined||y.GetProperty(o.get("SWE_APPLET_STR")===null)){y.SetProperty(o.get("SWE_APPLET_STR"),this.GetName())}y.SetProperty(o.get("SWE_METHOD_STR"),z);if(z!="CollapseTreeItem"&&z!="ExpandTreeItem"&&z!="NextTreeItem"&&z!="PreviousTreeItem"&&z!="SelectTreeItem"){var D;if(!!this.GetBusComp()){D=this.GetBusComp().GetIdValue();y.SetProperty(o.get("SWE_ROW_ID_STR"),D)}if(D!==""){y.SetProperty(o.get("SWE_REQ_ROW_ID_STR"),"1")}else{y.SetProperty(o.get("SWE_REQ_ROW_ID_STR"),"0")}if(!!this.GetBusComp()){this.GetRowIds(y)}}if(y.GetProperty(o.get("SWE_ROW_IDS_STR"))===undefined||y.GetProperty(o.get("SWE_ROW_IDS_STR")===null)){this.GetRowIds(y)}if(y.GetProperty(o.get("SWE_ACTIVE_APPLET_STR"))===undefined||y.GetProperty(o.get("SWE_ACTIVE_APPLET_STR")===null)){y.SetProperty(o.get("SWE_ACTIVE_APPLET_STR"),this.GetName())
}if(y.GetProperty(o.get("SWE_NEED_CONTEXT_STR"))===undefined||y.GetProperty(o.get("SWE_NEED_CONTEXT_STR")===null)){y.SetProperty(o.get("SWE_NEED_CONTEXT_STR"),"true")}y.SetProperty(o.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());if(this.GetPopBookMark()){y.SetProperty(o.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}if(z===o.get("SWE_EDIT_FIELD")||z===o.get("SWE_GET_PICK_INFO")){y.SetProperty(o.get("SWE_JS_EXTRA_INFO"),"false")}SiebelApp.S_App.OfflineCallMethod("SetNewRecord",this,y);SiebelApp.S_App.CallServer(y,E,C,B)};q.prototype.ExecuteUIUpdate=function(){this.DoExecuteUIUpdate()};q.prototype.DoExecuteUIUpdate=function(){var y;if(!this.GetBusComp()){return}y=this.GetBusComp().GetNotifyObject();if(!y||!y.Get_EnableUIUpdate(this.GetName())){return}if(y.Get_DoPopulate(this.GetName())){this.ShowSelection();if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopulateApplet(this.GetName(),"Finished Populate Applet")}}if(this.GetUpdateConditionals()){this.UpdateConditionals()}this.InvokeStateChange();y.Set_DoPopulate(this.GetName(),false);this.SetScrollDir(null);this.SetScrollAmount(0)};q.prototype.UpdateQuickPickInfoSrvr=function(A){var z;var B;var y=6;var E;var D=A[3];z=(A[4]==="false")?false:true;E=A[5];if(E.length!==0&&z&&A.length>y){var C=[];for(B=y;B<A.length;B++){C.push(A[B])}a.SetStaticPickValues(E,C)}this.UpdateQuickPickInfo(D,z,A,y)};q.prototype.UpdateQuickPickInfo=function(D,z,C,y){var A=[];for(var B=y;B<C.length;B++){A.push(C[B])}return A};q.prototype.GetCachedCtrlQuickPick=function(B){var y=this.GetControls();var E=B.GetProperty(o.get("SWE_FIELD_STR"));var A=this.GetSelection();if(E){for(var D in y){if(y.hasOwnProperty(D)){var C=y[D];var z=(typeof(C.GetInputName)==="function")?C.GetInputName():C.GetSpanPrefix()+A+1;if(z===String(E)){return this.GetCachedQuickPick(B,E,C)}}}}return false};q.prototype.GetCachedQuickPick=function(z,y,B){var A=[];if(B.GetPickApplet().length===0){return(false)}A=SiebelApp.S_App.GetStaticPickValues(B.GetPickApplet());if(v.IsEmpty(A)||A.length===0){return(false)}this.UpdateQuickPickInfo(y,true,A,0);return(true)};q.prototype.FieldDropdown=function(z){var D=null;var F=this.GetActiveControl();var A=[];if(this.IsPure()){var C=CCFMiscUtil_CreatePropSet();if(typeof(F.GetInputName)==="function"){D=F.GetInputName()}else{D=F.GetSpanPrefix()+this.GetBusComp().GetSelection()+1}C.SetProperty(j,D);C.SetProperty(o.get("SWEJI"),"false");this.InvokeMethod("GetQuickPickInfo",C)}else{var y=F.GetRadioGroupPropSet();var B=true;var E;while((E=y.EnumChildren(B))){B=false;A.push(E.GetProperty(g))}D=F.GetInputName();this.UpdateQuickPickInfo(D,true,A,0)}};q.prototype.GetDrilldownURL=function(y,A,z){};q.prototype.PositionOnRow=function(y){this.GetBusComp().PositionById(y.Id)};q.prototype.CollectFieldValues=function(y){this.DoCollectFieldValues(y);if(!!this.GetBusComp()){this.CollectUpdatedBCValues(y)}};q.prototype.DoCollectFieldValues=function(B){var G=this.GetControls();for(var z in G){if(G.hasOwnProperty(z)){var C=G[z];var y=C.GetUIType();var D=C.GetFieldName();var E=C.GetName();var A="";var F=this.GetBusComp();if(y!==s){if(D||this.IsPrivateField(E)||!this.IsPure()){if(!this.CanUpdate(E)){continue}if(this.IsInQueryMode()){if(!v.IsEmpty(D)){A=F.GetFieldMap()[D].GetSearchSpec()}}else{A=this.GetFormattedValue(C,false)}if(C.GetCtrlFldEncode()){A=v.ControlFieldEncode(A)}if(!v.IsEmpty(y)&&y!==("JavaApplet")&&(y.indexOf("J")===0||y.indexOf("P")===0||v.IndexOf(["Mailto","URL","Mvg","Pick"],y)!==-1)){if(typeof(C.GetInputName)==="function"){B.SetProperty(C.GetInputName(),A);SiebelApp.S_App.OfflineCallMethod("AddFieldName",this,B,z,A)}}}}}}};q.prototype.CollectUpdatedBCValues=function(A){var G=0;var z=true;var J=[];var F=[];var y={};var B;var K;var H;while((B=this.GetBusComp().EnumUpdates(z))){if(z){y={};var I=this.GetControls();for(var E in I){if(I.hasOwnProperty(E)){var C=I[E];var D=C.GetFieldName();if(D){y[D]=1}}}z=false}if(y[B.fieldName]!==1){J[G]=B.fieldName;F[G]=B.newValue;G++}}if(G<1){return(true)}H=CCFMiscUtil_CreatePropSet();K=CCFMiscUtil_CreatePropSet();K.SetType("FieldValues");H.AddChild(K);K.SetProperty("FieldArray",CCFMiscUtil_ArrayToString(J));K.SetProperty("ValueArray",CCFMiscUtil_ArrayToString(F));A.SetProperty("SWEBCVals",H.EncodeAsString());return(true)};q.prototype.OnBlur=function(z,A){var y;y=this.LeaveField(z,A,false);if(y&&z){z.FireOnBlur()}return y};q.prototype.OnFocus=function(z,A){var y;y=this.EnterField(z,A);if(y&&z){z.FireOnFocus()}return y};q.prototype.LeaveField=function(z,A,M){if(!z||z!==this.GetActiveControl()){this.SetPrsrvControl(this.GetActiveControl());this.SetActiveControl(null);return true}var K=this.GetBusComp();var I=z.GetFieldName();var B=!!K?this.GetFormattedValue(z):z.GetValue();var H=z.GetName();if(B!==A){if(!!K){var G=A;if(this.IsInQueryMode()){var L=z.GetUIType();if(L==o.get("SWE_CTRL_DATE_TZ_PICK")||L==o.get("SWE_CTRL_DATE_TIME_PICK")){if(A&&!A.match(/[><=!&|]/g)){G=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(A,o.get("ISO_DATETIME_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat());if(!v.IsEmpty(G)){G='"'+G+'"'}if(v.IsEmpty(G)&&!v.IsEmpty(A)){G='"'+A+'"'}}}else{if(L==o.get("SWE_CTRL_DATE_PICK")){if(A&&!A.match(/[><=!&|]/g)){G=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(A,o.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());if(v.IsEmpty(G)&&!v.IsEmpty(A)){G='"'+A+'"'}}}}if(!v.IsEmpty(I)){K.GetFieldMap()[I].SetSearchSpec(G)}var C=K.GetNotifyObject();C.NotifyNewFieldQuerySpec(I)}else{var y;if(this.CanUpdate(H)&&K.GetSelection()>=0||this.IsPrivateField(H)){var E=A;var L=z.GetUIType();if(L==o.get("SWE_CTRL_COMBOBOX")){y=this.GetFormattedFieldValue(z,true)}if(SiebelApp.S_App.LocaleObject){if(L==o.get("SWE_CTRL_DATE_TZ_PICK")||L==o.get("SWE_CTRL_DATE_TIME_PICK")){G=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(A,o.get("ISO_DATETIME_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat())}else{if(L==o.get("SWE_CTRL_DATE_PICK")){G=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(A,o.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat())}}if(""===G&&""!==A){G=A}}if(!this.SetFormattedValue(z,G)){this.SetPrsrvControl(this.GetActiveControl());this.ProcessError();var y=this.GetFormattedValue(z);this.SetControlValueByName(z.GetName(),y);return false}E="";if(!v.IsEmpty(z.GetFieldName())&&this.HasCustomShadow()){A=this.GetFormattedFieldValue(z,false);if((A!=B)||(A!=y)){this.FireOnChangeFieldValue(z.GetFieldName(),A)}}}}}else{if(z.GetRadioGroupPropSet().GetChildCount()!==0){var O=z.GetRadioGroupPropSet();var F=true;var N;var D=x;if(z.GetUIType()===o.get("SWE_CTRL_COMBOBOX")){D=g}while((N=O.EnumChildren(F))){if(N.GetProperty(D)===A){var J=N.GetProperty(x);z.GetValue=function(){return J};break}F=false}O=null}else{z.GetValue=function(){return A}}}SiebelApp.S_App.OfflineCallMethod("PassOldValue",this,z,A,B)}if(!M){this.SetPrsrvControl(this.GetActiveControl());
this.SetActiveControl(null)}return true};q.prototype.EnterField=function(z,A){var y=false;if(!this.GetActiveControl()&&!z){return y}if(!!this.GetView()){if(!(this.GetView().SetActiveApplet(this))){if(z){this.SetFocusToCtrl(z.GetName(),false)}SiebelApp.S_App.ErrorObject.ProcessError();return y}}this.SetActiveControl(z);y=true;return y};q.prototype.GetFormattedFieldValue=function(E,K,O){var N=E.GetFieldName();var z;var I;var J=this.GetBusComp()?this.GetBusComp().GetRecordSet():[];if(!this.GetBusComp()){return E.GetValue()?E.GetValue():""}if(E&&this.IsPrivateField(E.GetName())){z=this.GetFieldValue(E,O)}else{if(K){if(v.IsEmpty(O)){z=this.GetBusComp().WSGetFieldValue(N)}else{z=J[O][N]}}else{z=this.GetFieldValue(E)}}if(SiebelApp.S_App.LocaleObject){var A=this.GetBusComp().GetField(N);if(!A&&!this.IsPrivateField(E.GetName())){SiebelApp.S_App.ErrorObject.SetErrorMsg("BCErrNoSuchField",N);return}if(A&&A.GetDataType()=="currency"){var D;var F;var H,G;var B=A.GetCurrField();H=B.indexOf("|");if(H>=0){G=(B.substring(H+1).indexOf("|")==-1)?-1:(B.substring(H+1).indexOf("|")+H);if(G<0){G=B.length}D=B.substr(0,H);if(D.length!=0){if(v.IsEmpty(O)){I=this.GetBusComp().GetFieldValue(D)}else{I=J[O][D]}if(I){SiebelApp.S_App.LocaleObject.SetCurrencyCode(I)}else{SiebelApp.S_App.LocaleObject.SetCurrencyCode("")}}D=B.substr(H+1,G-H-1);if(D.length!=0){F=this.GetBusComp().GetFieldValue(D);if(F){SiebelApp.S_App.LocaleObject.SetExchDate(F)}}}}if(this.GetBusComp().GetField(N)){var M=this.GetBusComp().GetField(N).GetDataType();var y=M;var L=z;var C=E.GetDisplayFormat();z=SiebelApp.S_App.LocaleObject.StringToFormatted(y,L,C)}}return z};q.prototype.SetFormattedValue=function(A,D){var z;var C;var B;var y=A.GetName();if(this.IsPrivateField(y)){var E=this.GetPrivateFieldMap()[y];if(E.valueArray.length>0){if(E.valueArray[0]!=D){this.GetPrivateFieldMap()[y].valueArray[0]=String(D);this.GetPrivateFieldMap()[y].bDirty=true}}else{this.GetPrivateFieldMap()[y].valueArray.push(D);this.GetPrivateFieldMap()[y].bDirty=true}}if(!v.IsEmpty(A.GetFieldName())){z=this.GetFormattedValue(A,true);C=this.GetBusComp().SetFormattedValue(A.GetFieldName(),D,A.GetDisplayFormat());if(!C){this.FieldChange(A,z);this.SetFocusToCtrl(y,true);return C}}else{return true}B=this.GetBusComp().GetFieldMap()[A.GetFieldName()];D=this.GetFormattedValue(A,true);if(B&&(z!=D)&&(B.IsPostChanges()||B.IsBoundedPick())){C=this.PostChangesToBC(false,A.GetFieldName())}return C};q.prototype.GetFormattedValue=function(A,y){var z="";if(this.IsPrivateField(A.GetName())){z=this.GetFieldValue(A);return z}if(this.IsInQueryMode()){z=this.GetBusComp().GetFieldSearchSpec(A.GetFieldName());return z}z=this.GetFormattedFieldValue(A,false);return z};q.prototype.PostChangesToBC=function(F,G,z){var A=true;var C=CCFMiscUtil_CreatePropSet();var B;var E;var y;if(!this.IsPure()){return true}E=this.HasPendingCommit(G,F);y=this.GetBusComp().IsDeletePending();if(E||y){if(F){if(y&&!E){C.SetProperty(o.get("SWE_DELETE_ONLY"),"1")}B="WriteRecord";if(this.CanInvokeMethod(B)){if(z){var D={};D.ev=o.get("EVENT_NO_FOCUS");this.SetUIEventMap(D)}A=this.InvokeMethod(B,C);return A}}else{if(!v.IsEmpty(G)){C.SetProperty(o.get("SWE_POST_ON_CHANGE_STR"),G)}if(z){C.SetProperty(o.get("SWE_POST_FORCE_STR"),"Y")}B="PostChanges";SiebelApp.S_App.uiStatus.Busy({});A=this.InvokeMethod(B,C);SiebelApp.S_App.uiStatus.Free();return A}}SiebelApp.S_App.ErrorObject.ClearErrorMsg();return A};q.prototype.HasPendingCommit=function(B,A){var y=(B&&this.GetActiveControl()&&!v.IsEmpty(this.GetActiveControl().GetFieldName())&&this.GetActiveControl().GetFieldName()==B);var z=(this.GetBusComp()&&this.GetBusComp().IsCommitPending());return(y||z)};q.prototype.UpdateRowCounter=function(){};q.prototype.ShowSelection=function(){if(!!this.GetBusComp()){this.UpdateRowCounter()}};q.prototype.RefreshData=function(y){};q.prototype.FieldChange=function(z,y){};q.prototype.UpdateStateChange=function(){};q.prototype.InvokeStateChange=function(){};q.prototype.Notify=function(z){var A=o.get("SWE_NOTIFICATION_TYPE_POSITION");var y=o.get("SWE_NOTIFICATION_TYPE_REQUERY");switch(z){case A:this.ShowSelection();break;case y:this.RefreshData(true);this.ShowSelection()}};q.prototype.NotifyBeginNotifys=function(){this.UpdateAppletMessage()};q.prototype.NotifyNewActiveRow=function(){var y;if(v.IsEmpty(this.GetBusComp())){return}y=this.GetBusComp().GetNotifyObject();if(y&&y.Get_EnableUIUpdate(this.GetName())){y.Set_DoPopulate(this.GetName(),true)}};q.prototype.NotifyChangeSelection=function(){if(!this.GetEnableUIUpdate()){return}this.SetUpdateConditionals(true);this.UpdateRowCounter()};q.prototype.NotifyDeleteRecord=function(A,z){var y;if(v.IsEmpty(this.GetBusComp())){return}y=this.GetBusComp().GetNotifyObject();if(!y||!y.Get_EnableUIUpdate(this.GetName())){return}y.SetDoPopulate(this.GetName(),true);this.FireOnChangeRecord()};function r(B){if(B.length>0&&B[0]===this.GetName()){var D=B[1];var y=B[2];var A=B[3];var z=B[4];var C=this.GetControls()[D];if(!C){return}C.GetDisplayName=function(){return y};if(z!==C.GetUIType()||(v.IsTrue(C.IsEditEnabled())&&!v.IsTrue(A))||(!v.IsTrue(C.IsEditEnabled())&&v.IsTrue(A))){C.IsEditEnabled=function(){return A};if(v.IsTrue(A)){C.GetUIType=function(){return p}}else{C.GetUIType=function(){return z}}this.HandleCtrlDefChange(C)}}}q.prototype.HandleCtrlDefChange=function(y){};q.prototype.NotifyGeneric=function(A,y){var B=CCFMiscUtil_CreatePropSet();B.SetType(A);for(var z=0;z<y.length;z++){B.SetProperty(z.toString(),y[z])}switch(A){case"SWEICanInvokeMethod":this.NotifyCanInvokeMethod(A,y);break;case"SWEICtlDefChanged":r.call(this,y);break;case"SWEIPrivFlds":this.NotifyPrivateFields(A,y);break;case"SWEICanUpdate":this.NotifyCanUpdate(A,y);break;case"SWEICanNavigate":this.NotifyCanNavigate(A,y);break;case"SWEAInvokeMethod":this.NotifyInvokeMethod(A,y);break;case"DeletePopup":if(y[0]===this.GetName()){this.DeletePopup()}break;case"SetPopupBookmark":if(y[0]===this.GetName()){this.SetPopBookMark(y[1])}break;case"GetQuickPickInfo":if(y[2]===this.GetName()){this.UpdateQuickPickInfoSrvr(y)}break;case"BegRow":b.call(this,y);break;case"GetCurrencyCalcInfo":if(y[2]===this.GetName()){this.UpdateCurrencyCalcInfo(0,y)}break;case"GetCurrencyCodeInfo":if(y[2]===this.GetName()){this.UpdateCurrencyCodeInfo(1,y)}break;case"CloseCurrencyPickApplet":if(y[2]===this.GetName()){this.UpdateCurrencyCalcInfo(2,y)}break;default:break}SiebelApp.EventManager.fireEvent("ProxyComplete",[this,A,y]);return(true)};function b(y){var z,B;if(y.length>=2){z=y[0];B=Number(y[1]);if(z===this.GetName()&&B>=0){var A;if(v.IsEmpty(this.GetBusComp())){return}A=this.GetBusComp().GetNotifyObject();if(A){A.SetBegRow(this.GetName(),B);if(this.CanUpdateUI()===true){A.SetDoPopulate(this.GetName(),true)}}}}}q.prototype.NotifyStateChanged=function(z,y){this.UpdateAppletMessage(z,y)};q.prototype.NotifyPageRefresh=function(){var y;if(!this.GetEnableUIUpdate()&&!this.GetView().GetActiveApplet()){return}y="?SWECmd=Refresh&SWEFullRefresh=true&SWEView="+this.GetView().GetName()+"&SWEApplet="+this.GetView().GetActiveApplet().GetName()+"#SWEApplet="+this.GetView().GetActiveApplet().GetId();
SiebelApp.S_App.SetURLToGo(y,"",true,this.GetView().GetName(),this.GetView().GetBusObj().GetZone(),true)};q.prototype.NotifyInvokeMethod=function(C,A){var B,z;var y=CCFMiscUtil_CreatePropSet();if(A.length>=2){B=A[0];z=A[1];if(B===this.GetName()&&!v.IsEmpty(z)){this.InvokeMethod(z,y,true)}}};q.prototype.NotifyNewPrimary=function(y){};q.prototype.NotifyEndNotifys=function(){return(true)};q.prototype.NotifyNewFieldData=function(z){var y;if(v.IsEmpty(this.GetBusComp())){return}y=this.GetBusComp().GetNotifyObject();if(!y||!y.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(z)};q.prototype.NotifyNewFieldList=function(){var z;var y=this.GetView();if(y){var A=y.GetActiveApplet();if(!this.GetEnableUIUpdate()&&!A){return}z="?SWECmd=Refresh&SWEView="+y.GetName()+"&SWEApplet="+A.GetName();SiebelApp.S_App.SetURLToGo(z,"",true,y.GetName(),y.GetBusObj().GetZone(),true)}};q.prototype.NotifyNewDataWS=function(z){var y;this.RepopulateField(z);if(v.IsEmpty(this.GetBusComp())){return}y=this.GetBusComp().GetNotifyObject();if(!y||!y.Get_EnableUIUpdate(this.GetName())){return}};q.prototype.NotifyNewQuerySpec=function(){};q.prototype.NotifyBeginQuery=function(){var y=this.GetBusComp().GetNotifyObject();y.SetDoPopulate(this.GetName(),true);if(v.IsEmpty(this.GetView())||this===this.GetView().GetActiveApplet()){this.SetFocusDefaultControl(true)}this.BeginQueryState()};q.prototype.NotifyNewFieldQuerySpec=function(z){var y;if(v.IsEmpty(this.GetBusComp())){return}y=this.GetBusComp().GetNotifyObject();if(!y||!y.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(z)};q.prototype.NotifyScrollAmount=function(y,z){this.SetScrollDir(y);this.SetScrollAmount(z)};q.prototype.NotifyEndQuery=function(){this.EndQueryState()};q.prototype.BeginQueryState=function(){};q.prototype.EndQueryState=function(){};q.prototype.NotifyExecute=function(){};q.prototype.NotifyCanUpdate=function(C,E){if(E.length>0){if(E[0]===this.GetName()){var A=0;var F=true;var D;var z;for(var B=1,y=E.length;B<y;B+=2){A=parseInt(E[B],10);D=E[B+1];if(isNaN(A)){continue}F=(D==="1"||D==="Y"||D==="y")?true:false;if(A>=this.GetCanUpdateArray().length){continue}z=this.GetCanUpdateArray()[A];if(v.IsEmpty(z)){continue}this.GetCanUpdateByName()[z].bCanUpdate=F}if(this.CanUpdateUI()===true){this.UpdateStateChange()}}}};q.prototype.NotifyCanNavigate=function(C,F){var A;var y;var E;var B=[];var z;var D=F.length;if(F&&D>0){z=F[0];if(z===this.GetName()){for(A=1;A<D;A++){E=F[A];if(!E){continue}if(E.charAt(0)==="*"){if(B.length>0){this.GetCanNavigateMap()[y]=B}y=E.substr(1);B=[];continue}if(!y){continue}B.push(E)}if(B.length>0){this.GetCanNavigateMap()[y]=B}this.NavigateState()}}};q.prototype.NavigateState=function(){};q.prototype.NotifyPrivateFields=function(C,F){var E;if(F.length>0){if(F[0]===this.GetName()){var A=0;var D=null;var z=null;for(var B=1,y=F.length;B<y;B++){D=F[B];if(v.IsEmpty(D)){continue}if(D.charAt(0)==="*"){z=D.substr(1);A=0;continue}D=D.substr(1);if(v.IsEmpty(z)){continue}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}if(!this.GetPrivateFieldMap()[z]){this.GetPrivateFieldMap()[z]={}}if(this.GetPrivateFieldMap()[z].valueArray&&A>=this.GetPrivateFieldMap()[z].valueArray.length){this.GetPrivateFieldMap()[z].valueArray[A++]=String(D);A=this.GetPrivateFieldMap()[z].valueArray.length}else{if(this.GetPrivateFieldMap()[z].valueArray){this.GetPrivateFieldMap()[z].valueArray[A++]=String(D)}else{this.GetPrivateFieldMap()[z].valueArray=[];this.GetPrivateFieldMap()[z].valueArray[A++]=String(D)}}if(this.CanUpdateUI()===true){if(!E){E={};E.ar=[]}E.ar.push(z)}}if(E){E.ev=o.get("NOT_PRV_FIELDS");this.SetUIEventMap(E)}}}};q.prototype.NotifyCanInvokeMethod=function(D,z){if(z.length>0){if(z[0]===this.GetName()){var C=0;var G=true;var E;var y;var F=false;for(var A=1,B=z.length;A<B;A+=2){C=parseInt(z[A],10);E=z[A+1];if(isNaN(C)){continue}if(v.IsEmpty(E)){continue}G=(E==="1"||E==="Y"||E==="y")?true:false;if(C>=this.GetCanInvokeArray().length){continue}y=this.GetCanInvokeArray()[C];if(v.IsEmpty(y)){continue}if(this.GetCanInvokeByName()[y]){if(this.GetCanInvokeByName()[y].bCanInvoke!==G){this.GetCanInvokeByName()[y].bCanInvoke=G;F=true}}else{this.GetCanInvokeByName()[y]={};this.GetCanInvokeByName()[y].bCanInvoke=G;F=true}}if(this.CanUpdateUI()===true&&F===true){this.SetUpdateConditionals(true);this.InvokeStateChange()}return F}}};function u(A){var D=this.GetActiveControl();if(D){var z=this.GetControls();for(var C in z){if(z.hasOwnProperty(C)){var B=z[C];if(B===D){switch(B.GetUIType()){case o.get("SWE_CTRL_COMBOBOX"):this.FieldDropdown(A);break;case o.get("SWE_CTRL_CURRENCY_CALC"):B.ShowPopup();break;case o.get("SWE_CTRL_CALC"):case o.get("SWE_CTRL_DATE_PICK"):case o.get("SWE_CTRL_DATE_TIME_PICK"):case o.get("SWE_CTRL_DATE_TZ_PICK"):this.ShowPopup(B);break;case o.get("SWE_CTRL_TEXT"):if(B.GetPopupType()!==o.get("SWE_CTRL_DETAIL")){var y=this.GetFieldDataType(B.GetFieldName());if(y.toLowerCase()===o.get("SWE_CTRL_PHONE").toLowerCase()){if(SiebelApp.S_App.CommToolbar){if(SiebelApp.S_App.CommToolbar.CallContactFromUIEnabled()){SiebelApp.S_App.CommToolbar.OpenCallContactFromUIPopup(this.GetControlValueFromUI(B))}}}break}case o.get("SWE_CTRL_MVG"):case o.get("SWE_CTRL_PICK"):case o.get("SWE_CTRL_EFFDAT"):this.FieldPopup(A);break}}}}}return(true)}q.prototype.ShowPopup=function(y){return};q.prototype.FieldPopup=function(z){var B=CCFMiscUtil_CreatePropSet();var D=this.GetActiveControl();if(!D){return}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Start PopupApplet")}var A=D.GetHeight();var y=D.GetWidth();var C=null;if(typeof(D.GetSpanPrefix)==="function"){C=D.GetSpanPrefix();if(!v.IsEmpty(this.GetBusComp().GetSelection())){C+=this.GetBusComp().GetSelection()+1}}else{C=D.GetInputName()}B.SetProperty(o.get("SWE_FIELD_STR"),C);B.SetProperty(o.get("SWE_METHOD_STR"),"EditField");B.SetProperty(o.get("SWE_SHOW_POPUP_STR"),"true");B.SetProperty(o.get("SWE_HEIGHT_STR"),A);B.SetProperty(o.get("SWE_WIDTH_STR"),y);B.SetProperty("SWECSP","false");this.InvokeMethod("EditField",B,z)};q.prototype.DeletePopup=function(){var y=this.GetPopupApplet();if(y){y.Close();this.SetPopupApplet(null)}};q.prototype.Close=function(){if(this.IsPopupClosed()){return}var y=this.GetParentApplet();if(v.IsEmpty(this.GetView())||this.GetView().IsAppletActive(this)||this.GetView().GetActiveAppletOnLoad()===this){if(y&&y.GetPopupControl()&&!y.GetActiveControl()){}c.call(this,false);if(!v.IsEmpty(this.GetView())){if(y.GetParentApplet()){this.GetView().SetActiveAppletOnLoad(y)}else{this.GetView().SetActiveApplet(y)}}}var z=this.GetBusComp();c.call(this,false);if(z){z.DeRegister(this)}if(y){y.SetPopupMethod(null);y.SetPopupControl(null)}if(z&&y&&z!==y.GetBusComp()){z.GetBusObj().RemoveBusComp(this.GetBusComp())}if(y){this.SetParentApplet(null)}if(v.IsEmpty(this.GetView())){SiebelApp.S_App.RemoveApplet(this)}else{this.GetView().RemoveApplet(this)}this.SetPopupClosed(true)};q.prototype.SetAppletActive=function(z,A){var y=false;
if(!this.HandleImplicitCommit(z,A)){return y}y=this.DoSetAppletActive(z,A);if(z){this.RestoreControlFocus()}return y};q.prototype.DelayPostOnLastActive=function(){return false};q.prototype.SetAppletToDelayPost=function(){return};q.prototype.HandleImplicitCommit=function(z,C){var y=true;var A=null;if(C&&C.GetView()!==SiebelApp.S_App.GetActiveView()){return false}if(!C||(C&&!C.DelayPostOnLastActive())){if(C){A=C.GetParentApplet()}if(!z){if(!this.SetActiveCtrlValue()){return(y=false)}if((!C)||(((this.GetBusComp()&&!v.IsEmpty(this.GetBusComp().IsTransientBC())&&this.GetBusComp().IsTransientBC())||(this.GetBusComp()&&C&&(C.GetBusComp()!==this.GetBusComp()))||(C&&!C.IsEditable())||((C&&!C.IsNoUpdate())&&this.GetBusComp()&&!this.GetBusComp().insertPending))&&(C&&C!==this.GetParentApplet())&&((!this.GetParentApplet())||(this!==this.GetParentApplet()))&!this.GetPopupApplet())){var B;if(C&&C!==this){B=true}if(!this.PostChangesToBC(true,null,B)){this.SetHighlightState(z);return(y=false)}}}}else{if(!z||!this.DelayPostOnLastActive()){C.SetAppletToDelayPost(this)}}return y};q.prototype.SetActiveCtrlValue=function(){var y=true;var z=false;if(!this.GetActiveControl()){return y}return y};q.prototype.RestoreControlFocus=function(){if((!v.IsEmpty(this.GetView())&&!this.GetView().IsAppletActive(this))||!this.CanUpdateUI()){return}var y=this.GetActiveControl()||this.GetPrsrvControl();if(y){this.SetFocusToCtrl(y.GetName(),true)}};q.prototype.SetFocusToCtrl=function(y){};q.prototype.DoSetAppletActive=function(y,z){if(!this.CanUpdateUI()){return true}this.SetHighlightState(y,z);SiebelApp.S_App.ErrorObject.ClearErrorMsg();return true};q.prototype.FocusFirstControl=function(){};q.prototype.FocusSelectedTreeNode=function(y){};q.prototype.SetHighlightState=function(y,z){};q.prototype.FocusOnApplet=function(){};q.prototype.FocusDefaultControl=function(y){var A=false;var z;if(v.IsEmpty(y)){y=false}if(!this.GetFocusDefaultControl()){return}if(this.IsInQueryMode()){z=this.GetDefaultFocusOnQuery()}else{if(!!this.GetBusComp()&&this.GetBusComp().insertPending){z=this.GetDefaultFocusOnNew();A=false}else{z=this.GetDefaultFocusOnEdit();A=true}}if(v.IsEmpty(z)){if(y||!A){this.FocusFirstControl()}else{this.FocusOnApplet()}}else{this.SetFocusToCtrl(z,true)}this.SetFocusDefaultControl(false)};q.prototype.GetActiveMode=function(){if(this.GetBusComp()==null){return("")}else{if(this.GetBusComp().IsInsertPending()){return("New")}else{return("Edit")}}};q.prototype.GetControlElement=function(z){var y;y=this.GetControl(z);if(y==null){return(null)}if(!y.GetInputName()){return(null)}else{return $("[name='"+y.GetInputName()+"']")[0]}};q.prototype.GetControlValueFromUI=function(y){if(!y){y=this.GetActiveControl();if(!y){return}}this.GetPhysicalControlValue(y);return(this.GetPModel().Get("PhysicalCtrlVal"))};q.prototype.GetPhysicalControlValue=function(y){};q.prototype.GetControlValueByName=function(y){var z=this.GetControl(y);if(z!=null){return this.GetFormattedValue(z,true)}else{return""}};q.prototype.SetControlValueByName=function(y,z){var A=this.GetControl(y);if(A!=null){this.SetFormattedValue(A,z)}};q.prototype.FirePreInvokeMethod=function(A,z){var y;if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnPreInvokeMethod)==="function"){y=this.shadow.OnPreInvokeMethod(A,z);if(y=="CancelOperation"){return false}return true}return true};q.prototype.FireInvokeMethod=function(z,y){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnInvokeMethod)==="function"){this.shadow.OnInvokeMethod(z,y)}};q.prototype.FireOnChangeRecord=function(){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeRecord)==="function"){this.shadow.OnChangeRecord()}};q.prototype.FireOnChangeFieldValue=function(z,y){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeFieldValue)==="function"){this.shadow.OnChangeFieldValue(z,y)}};q.prototype.NewFileAttachment=function(){var H=this.GetBusComp();var A="";var C={};var z="";var F="";var D="";var I=this.GetControls();var E=null;if(H&&H.HasCommitPending()){var y=CCFMiscUtil_CreatePropSet();var G=H.InvokeMethod("WriteRecord",y);if(!G){if(SiebelApp.S_App.ErrorObject.HasErrorMsg()){this.ProcessError();return false}}}if(!v.IsEmpty(this.GetView())){C[o.get("SWE_VIEW_ARG")]=this.GetView().GetName()}C[o.get("SWE_APPLET_STR")]=this.GetName();A=this.GetPopBookMark();if(!A){A=""}z=CCFMiscUtil_CreatePropSet();if(!!this.GetBusComp()){F=this.GetRowIds(z)}if(!F){F=""}C[o.get("SWE_ROW_IDS_STR")]=F;C[o.get("SWE_POPUP_VECTOR_STR")]=A;E=I[String(o.get("SWE_FILE_NAME_STR"))];if(!v.IsEmpty(A)&&this.GetParentApplet()&&E&&E.GetUIType()===o.get("SWE_CTRL_FILE")){if(!!this.GetBusComp()){D=this.GetBusComp().GetIdValue();C[o.get("SWE_ROW_ID_STR")]=D}if(D!==""){C[o.get("SWE_REQ_ROW_ID_STR")]="1"}else{C[o.get("SWE_REQ_ROW_ID_STR")]="0"}C[o.get("SWE_COUNT_STR")]=SiebelApp.S_App.GetSWEReqCount().toString();C[o.get("SWE_CMD_ARG")]=o.get("SWE_CMD_INVOKE_METHOD_STR");C[o.get("SWE_METHOD_STR")]=o.get("SWE_METHOD_WRITE_RECORD")}else{C[o.get("SWE_CMD_ARG")]=o.get("SWE_CMD_INVOKE_METHOD_STR");C[o.get("SWE_METHOD_STR")]=o.get("SWE_METHOD_NEW_FILE_ATTACHMENT")}var B=new Date();C[o.get("SWE_TIME_STAMP")]=B.getTime();C[o.get("SWE_VIEW_RPC_ARG")]="1";return C};q.prototype.IsInQueryMode=function(){return !!this.GetBusComp()?this.GetBusComp().IsInQueryState():false};q.prototype.UpdateCurrencyCalcInfo=function(y,z){if(z[1]!=this.GetView().GetName()){return}if(z[2]!=this.GetName()&&(y!=2)){return}this.SetCurrencyApplet();return(this.GetCurrencyApplet().UpdateCurrencyInfo(y,CCFMiscUtil_ArrayToString(z)))};q.prototype.UpdateCurrencyCodeInfo=function(y,z){if(z[1]!=this.GetView().GetName()){return}if(z[2]!=this.GetName()&&(y!=2)){return}this.SetCurrencyApplet();return(this.GetCurrencyApplet().UpdateCurrencyInfo(y,CCFMiscUtil_ArrayToString(z)))};q.prototype.CurrencyPostChanges=function(y,z){return(this.GetCurrencyApplet().PostChangesOnBlur())};q.prototype.UpdateConditionals=function(){};q.prototype.GetEmptyRecordForQuery=function(){var B=this.GetBusComp().GetFieldList();var y={};var A=0;var C="";for(A=0;A<B.length;A++){C=SiebelApp.S_App.LookupStringCache(B[A]);if(!v.IsEmpty(C)){var z=this.GetBusComp().GetFieldSearchSpec(C);y[C]=v.IsEmpty(z)?"":z}}return y};q.prototype.GetWSStartRowNum=function(){var y=0;if(this.GetBusComp().IsNumRowsKnown()&&this.GetBusComp().GetNumRows()===0){return y}y=this.GetBusComp().GetCurRowNum()-this.GetBusComp().GetSelection()+this.GetBusComp().GetNotifyObject().GetBegRow(this.GetName());return y};q.prototype.GetWSEndRowNum=function(){var y=this.GetWSStartRowNum()+this.GetRowListRowCount()-1;var z=this.GetBusComp().GetNumRows();if(y>z){y=z}return y};return q}())};