/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.S_App.DatumDateTimeObject)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.DatumDateTimeObject");var utils=SiebelApp.Utils;var consts=SiebelApp.Constants;var SECONDS_PER_DAY=86400;var AX_DAYTYPE_LONG=0;var AX_DAYTYPE_SHORT=1;var AX_DAYTYPE_SUP_SHORT=2;SiebelApp.S_App.DatumDateTimeObject=(function(){function b(){SiebelApp.S_App.DatumDateTimeObject.superclass.constructor.call(this);this.m_nYear=0;this.m_nMonth=0;this.m_nDay=0;this.m_nJulian=0;this.m_nHour=0;this.m_nMinute=0;this.m_nSecond=0;this.m_bEnableUIDateErrorDetect=false}SiebelJS.Extend(b,SiebelApp.S_App.DatumObject);b.prototype.GetAsFormattedString=function(f,g){var p="";if(this.m_bNull){return p}var d="";var e="";var n=g||false;if(f.length===0){f=this.GetFormat()}else{f=this.PreParseFormat(f)}if(f===SiebelApp.S_App.DatumDateTimeObject.g_sFormat){d=SiebelApp.S_App.DatumDateTimeObject.g_sFormattedString}else{var m;var h=0;var r=0;var j=false;while(r<f.length){if(j){if(f[r]==="'"){j=false}else{d+=f[r]}r++;continue}m=f[r];switch(m){case"Y":for(h=0;r<f.length&&f[r]===m;h++){r++}switch(h){case 1:d+="%#y";break;case 2:d+="%y";break;case 3:d+="%#Y";break;default:d+="%Y";break}break;case"M":for(h=0;r<f.length&&f[r]===m;h++){r++}switch(h){case 1:d+="%#m";break;case 2:d+="%m";break;case 3:d+="%b";break;default:d+="%B";break}break;case"D":for(h=0;r<f.length&&f[r]===m;h++){r++}switch(h){case 1:d+="%#d";break;case 2:d+="%d";break;case 3:d+="%a";break;default:d+="%A";break}break;case"H":for(h=0;r<f.length&&f[r]===m;h++){r++}if(h===1){d+="%#H"}else{d+="%H"}break;case"h":for(h=0;r<f.length&&f[r]===m;h++){r++}if(h===1){d+="%#I"}else{d+="%I"}break;case"m":while(r<f.length&&f[r]===m){r++}d+="%M";break;case"s":while(r<f.length&&f[r]===m){r++}d+="%S";break;case"p":while(r<f.length&&f[r]===m){r++}d+="%p";break;case"/":d+=(n?"/":SiebelApp.S_App.LocaleObject.GetDispDateSeparator());r++;break;case":":d+=(n?":":SiebelApp.S_App.LocaleObject.GetDispTimeSeparator());r++;break;case"'":j=true;r++;break;case"[":var k=r+1;var l=f.indexOf("]",k);e=f.substr(k,l-k);r=l+1;break;case"%":d+="%%";r++;break;default:d+=f[r];r++;break}}SiebelApp.S_App.DatumDateTimeObject.g_sFormat=f;SiebelApp.S_App.DatumDateTimeObject.g_sFormattedString=d}if(this.GetDataType()===consts.get("DTYPE_UTCDATETIME")){var o=new SiebelApp.S_App.DatumUTCDateTimeObject();var q=o.AdjustForTimeZone(e,false);e=q}p=this._GetAsFormattedString(d);return p};b.prototype.GetAsString=function(){return this._GetAsFormattedString("%m/%d/%Y %H:%M:%S")};b.prototype.GetDataType=function(){return(consts.get("DTYPE_DATETIME"))};b.prototype.IsAllDigits=function(e){if(!e||e.length===0){return false}var c=e.length;for(var d=0;d<c;d++){if(!a(e[d])){return false}}return true};function a(c){var d=c.charCodeAt(0);if((d>47)&&(d<58)){return true}else{return false}}b.prototype.IsOneChunk=function(d,f){var e=(d&&d.length)?d.length:0;var c=false;if(this.IsAllDigits(d)){if(!f){if(e===6||e===8){c=true}}else{if(e===4||e===6){c=true}}}return{bOneChunk:c,nChunkLen:e}};b.prototype.SetAsFormattedString=function(T,E){if(!T||T.length===0){this.ResetValue();return}var S=-1;var F=-1;var w=-1;var q=0;var Y=0;var t=0;var N=-1;var e=false;var G="";var V=0;var u=0;var J=0;var X="";var K="";var h=false;var P=false;var I=0;var s=0;var n=0;var y=0;var Q=0;var l=0;var M=-1;var x=0;var k=T;var z="";var H="";var m=0;var L=false;var O=false;var v=E;var B="";var D=false;var Z=SiebelApp.S_App.LocaleObject.GetDispTimeAM();if(Z.length===0){Z="AM"}var g=SiebelApp.S_App.LocaleObject.GetDispTimePM();if(g.length===0){g="PM"}var o=SiebelApp.S_App.LocaleObject.GetDispDateSeparator();var r=SiebelApp.S_App.LocaleObject.GetDispTimeSeparator();if(o===r){P=true}if(v&&v.length!==0){v=this.PreParseFormat(v)}D=((B.length!==0)&&((E.indexOf(SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_DATE_FORMAT")))!==-1)||(E.length===0)));if(D){if(E.length===0){v=SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_DATETIME_FORMAT"))}else{v=E}if(!this.VerifyStrictDateFormat(T,v)){this.ResetValue();this.SetError(true);return}}o+="/-.";var d,p;if((d=k.indexOf("["))!==-1){p=k.lastIndexOf("]");if(p>-1){G=k.substr(d,p-d+1)}else{this.ResetValue();this.SetError(true);return}if(G.length!==0){k=k.substr(0,d)+k.substr(p+1);G=G.substr(1,p-d-1)}}s=Z.length;I=0;x=k.length;while(I<=x-s){if(Z.toLowerCase()===k.substr(I,s).toLowerCase()){N=1;k=k.substr(0,I)+k.substr(I+s);break}I++}n=g.length;I=0;x=k.length;while(I<=x-n){if(g.toLowerCase()===k.substr(I,n).toLowerCase()){if(N===1){this.ResetValue();this.SetError(true);return}N=2;k=k.substr(0,I)+k.substr(I+n);break}I++}if(E&&E.length!==0){E=this.PreParseFormat(E)}if(!P){if(v&&v.length!==0){var A=utils.TokenizeString(E,o);u=A.length}m=0;var C=utils.TokenizeString(k,o);V=C.length}if(!v||v.length===0||(!P&&V!==u)){v=this.GetFormat()}l=v.length;if(v.indexOf("p")>-1){e=true}K=o+",.: "+r;m=0;var W=utils.TokenizeString(k,K).CleanEmptyElements();var f;O=false;var U=0;H=W[U];parseLoop:while(J<l){X=v[J];switch(X){case"Y":if(!H){break parseLoop}if(y===0){f=this.IsOneChunk(H,false);h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){if(M===6){z=H.substr(I,2);I+=2}else{if(M===8){z=H.substr(I,4);I+=4}}}else{z=H}if(h||P||V-->0){x=z.length;if(this.IsAllDigits(z)&&(x===2||x===4)){S=parseInt(z,10)}else{O=true;break parseLoop}if(x===2){if(S>=50){S+=1900}else{S+=2000}}if(!h||y===2){if(U<W.length){H=W[++U]}else{H=""}}}y++;break;case"M":if(!H){break parseLoop}if(y===0){f=this.IsOneChunk(H,false);h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){z=H.substr(I,2);I+=2}else{z=H}if(h||P||V-->0){if(this.IsAllDigits(z)){if(z.length<=2){F=parseInt(z,10)}}else{for(var R=1;R<=12;R++){if(SiebelApp.S_App.LocaleObject.GetMonth(R,true).toLowerCase()===z.toLowerCase()){F=R;break}if(SiebelApp.S_App.LocaleObject.GetMonth(R,false).toLowerCase()===z.toLowerCase()){F=R;break}}}if(F<1||F>12){O=true;break parseLoop}if(!h||y===2){if(U<W.length){H=W[++U]}else{H=""}}}y++;break;case"D":if(!H){break parseLoop}if(y===0){f=this.IsOneChunk(H,false);h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){z=H.substr(I,2);I+=2}else{z=H}if(h||P||V-->0){if(!this.IsAllDigits(z)||z.length>2){O=true;break parseLoop}w=parseInt(z,10);if((w<1||w>31)&&this.m_bEnableUIDateErrorDetect){O=true;break parseLoop}if(!h||y===2){if(U<W.length){H=W[++U]}else{H=""}}}y++;break;case"H":case"h":if(!H){break parseLoop}if(Q===0){f=this.IsOneChunk(H,true);h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){if(M===4&&Q===2){break parseLoop}z=H.substr(I,2);I+=2}else{z=H}if(!this.IsAllDigits(z)||z.length>2){O=true;break parseLoop}q=parseInt(z,10);if(q<0||q>23){O=true;break parseLoop}if(!h||Q===2){if(U<W.length){H=W[++U]}else{H=""}}Q++;break;case"m":if(!H){break parseLoop}if(Q===0){f=this.IsOneChunk(H,true);h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){if(M===4&&Q===2){break parseLoop}z=H.substr(I,2);I+=2}else{z=H}if(!this.IsAllDigits(z)||z.length>2){O=true;break parseLoop}Y=parseInt(z,10);if(Y<0||Y>59){O=true;break parseLoop}if(!h||Q===2){if(U<W.length){H=W[++U]}else{H=""}}Q++;break;case"s":if(!H){break parseLoop}if(Q===0){f=this.IsOneChunk(H,true);
h=f.bOneChunk;M=f.nChunkLen;I=0}if(h){if(M===4&&Q===2){break parseLoop}z=H.substr(I,2);I+=2}else{z=H}if(!this.IsAllDigits(z)||z.length>2){O=true;break parseLoop}t=parseInt(z,10);if(t<0||t>59){O=true;break parseLoop}if(!h||Q===2){if(U<W.length){H=W[++U]}else{H=""}}Q++;break;default:J++;break}while(J<l&&v[J]===X){J++}}if(O){this.ResetValue();this.SetError(true);return}this.SetToNow();if(D&&(S===-1||F===-1||w===-1)){O=true}if(S===-1&&F===-1&&w===-1){S=this.m_nYear;F=this.m_nMonth;w=this.m_nDay}else{if(S===-1){S=this.m_nYear}if(F===-1){F=1}if(w===-1){w=1}}if(N===1){if(q===12){q=0}else{if(q>12){O=true}}}else{if(N===2){if(q<12){q+=12}}}this.m_nYear=S;this.m_nMonth=F;if(w>this.GetDaysInMonth()&&this.m_bEnableUIDateErrorDetect){O=true}this.SetDateTime(S,F,w,q,Y,t);if(this.GetDataType()===consts.get("DTYPE_UTCDATETIME")&&G.length!==0){this.AdjustForTimeZone(G,true)}if(O){this.ResetValue();this.SetError(true);return}return};b.prototype.SetAsString=function(m){if(!m||m.length===0){this.ResetValue();return}var n=false;var k=false;var j=0,g=0,d=0;var f=0,e=0,o=0;var i=0;if(m.indexOf("/")!==-1){var l=this.ParseDate(m,i,j,g,d);var h=l.retVal;i=l.nIndex;j=l.nYear;g=l.nMonth;d=l.nDay;if(!h){this.SetError(true);return}n=true}else{this.SetToNow();j=this.m_nYear;g=this.m_nMonth;d=this.m_nDay}if(i<m.length&&m.substr(i).indexOf(":")!==-1){var c=this.ParseTime(m,i,f,e,o);i=c.nIndex;f=c.nHour;e=c.nMinute;o=c.nSecond;if(!c.retVal){this.SetError(true);return}k=true}if(i!==m.length||(!n&&!k)){this.SetError(true);return}this.SetDateTime(j,g,d,f,e,o);return};b.prototype.GetFormat=function(){if(this.m_sFormat.length===0){return SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_DATETIME_FORMAT"))}else{return this.m_sFormat}};b.prototype.SetFormat=function(c){c=this.PreParseFormat(c);this.m_sFormat=c};b.prototype.AddDays=function(c){if(c!==0){this.m_nJulian+=c;this.JulianToDate()}};b.prototype.AddMonths=function(c){var d;if(c!==0){this.m_nMonth+=c;if((this.m_nMonth<1)||(this.m_nMonth>12)){if(this.m_nMonth<1){d=(this.m_nMonth/12)-1}else{d=(this.m_nMonth-1)/12}this.m_nYear+=d;this.m_nMonth-=d*12}this.m_nDay=Math.min(this.m_nDay,this.GetDaysInMonth());this.DateToJulian()}};b.prototype.AddTime=function(f,g,d){var e=0;var c;if(f===0&&g===0&&d===0){return}c=((this.m_nHour+f)*3600)+((this.m_nMinute+g)*60)+((this.m_nSecond+d));if(c<0){e=parseInt(c/SECONDS_PER_DAY-1,10)}else{if(c>=SECONDS_PER_DAY){e=parseInt(c/SECONDS_PER_DAY,10)}}c-=e*SECONDS_PER_DAY;this.AddDays(e);this.m_nHour=parseInt(c/3600,10);c%=3600;this.m_nMinute=parseInt(c/60,10);this.m_nSecond=parseInt(c%60,10)};b.prototype.AddYears=function(c){if(c!==0){this.m_nYear+=c;this.m_nDay=Math.min(this.m_nDay,this.GetDaysInMonth());this.DateToJulian()}};b.prototype.GetDay=function(){return(this.m_nDay)};b.prototype.GetDayOfWeek=function(d){var c="";if(!d){c=this._GetAsFormattedString("%w")}else{c=this._GetAsFormattedString((d)?"%a":"%A")}return parseInt(c,10)};b.prototype.GetDayOfYear=function(){var c="";c=this._GetAsFormattedString("%j");return parseInt(c,10)};b.prototype.GetDaysInMonth=function(){if((this.m_nMonth===2)&&this.IsLeapYear()){return(this.GetNDaysInMonth(0))}else{return(this.GetNDaysInMonth(this.m_nMonth))}};b.prototype.GetHour=function(){return(this.m_nHour)};b.prototype.GetMinute=function(){return(this.m_nMinute)};b.prototype.GetMonth=function(d){if(!d){return(this.m_nMonth)}var c="";c=this._GetAsFormattedString((d)?"%b":"%B");return parseInt(c,10)};b.prototype.GetSecond=function(){return(this.m_nSecond)};b.prototype.GetWeek=function(d){var c="";c=this._GetAsFormattedString((d)?"%U":"%W");return parseInt(c,10)};b.prototype.GetYear=function(){return(this.m_nYear)};b.prototype.IsLeapYear=function(){var c=false;if(this.m_nYear%4===0){c=true}if(this.m_nYear%100===0){c=false}if(this.m_nYear%400===0){c=true}return(c)};b.prototype.SetDate=function(c,d,e){if(c>=1753&&c<=4712){if(d>12){d=12}else{if(d<1){d=1}}if(e>=1){this.m_bNull=false;this.m_nYear=c;this.m_nMonth=d;this.m_nDay=Math.min(e,this.GetDaysInMonth());this.DateToJulian();return}}this.ResetValue();this.SetError(true)};b.prototype.SetDateTime=function(c,e,g,f,h,d){this.SetDate(c,e,g);this.SetTime(f,h,d)};b.prototype.SetTime=function(d,e,c){if(!((d<0)||(d>23)||(e<0)||(e>59)||(c<0)||(c>59))){if(this.m_bNull){this.SetToNow()}this.m_bNull=false;this.m_nHour=d;this.m_nMinute=e;this.m_nSecond=c;return}this.ResetValue();this.SetError(true)};b.prototype.SetToNow=function(){var c=new Date();this.m_bNull=false;this.m_nYear=c.getFullYear();this.m_nMonth=c.getMonth()+1;this.m_nDay=c.getDate();this.DateToJulian();this.m_nHour=c.getHours();this.m_nMinute=c.getMinutes();this.m_nSecond=c.getSeconds()};b.prototype.DateToJulian=function(){var h=this.m_nDay;var e=this.m_nYear;var f=this.m_nMonth;var d,c;var g;g=(e>0)?0:0.75;if(f<=2){e--;f+=12}c=0;if(e*10000+f*100+h>=15821015){d=parseInt((e/100),10);c=parseInt((2-d+(d/4)),10)}this.m_nJulian=(parseInt(365.25*e-g,10))+(parseInt(30.6001*(f+1),10))+h+1720995+c};b.prototype.JulianToDate=function(){var g,f,l,k,i,j,h;j=this.m_nJulian;if(j<2299161){g=j}else{h=parseInt((j-1867216.25)/36524.25,10);g=j+1+h-h/4}f=g+1524;l=parseInt((f-122.1)/365.25,10);k=parseInt(365.25*l,10);i=parseInt((f-k)/30.6001,10);this.m_nDay=parseInt(f-k-parseInt(30.6001*i,10),10);this.m_nMonth=parseInt((i<13.5)?(i-1):(i-13),10);this.m_nYear=parseInt((this.m_nMonth>2.5)?(l-4716):(l-4715),10)};b.prototype.SetEnableUIDateErrorDetect=function(c){this.m_bEnableUIDateErrorDetect=c};b.prototype._GetAsFormattedString=function(d){var h="";if(this.m_bNull){return h}var g;var c;var f="";for(g=0;g<d.length;g++){if(d[g]!=="%"){h+=d[g];continue}if((++g)>=d.length){h+="%";break}if(d[g]==="#"){c=d[g];if((++g)>=d.length){h+="%#";break}}else{c="\0"}switch(d[g]){case"a":f=SiebelApp.S_App.LocaleObject.GetDayOfWeek(((this.m_nJulian+1)%7),AX_DAYTYPE_SHORT);break;case"A":f=SiebelApp.S_App.LocaleObject.GetDayOfWeek(((this.m_nJulian+1)%7),AX_DAYTYPE_LONG);break;case"b":f=SiebelApp.S_App.LocaleObject.GetMonth(this.m_nMonth,true);break;case"B":f=SiebelApp.S_App.LocaleObject.GetMonth(this.m_nMonth,false);break;case"d":if(c==="#"){f=this.FormatString(this.m_nDay,0)}else{f=this.FormatString(this.m_nDay,2)}break;case"H":if(c==="#"){f=this.FormatString(this.m_nHour,0)}else{f=this.FormatString(this.m_nHour,2)}break;case"I":var e;if(this.m_nHour===0){e=12}else{if(this.m_nHour<=12){e=this.m_nHour}else{e=this.m_nHour-12}}if(c==="#"){f=this.FormatString(e,0)}else{f=this.FormatString(e,2)}break;case"m":if(c==="#"){f=this.FormatString(this.m_nMonth,0)}else{f=this.FormatString(this.m_nMonth,2)}break;case"M":if(c==="#"){f=this.FormatString(this.m_nMinute,0)}else{f=this.FormatString(this.m_nMinute,2)}break;case"p":f=(this.m_nHour<12)?SiebelApp.S_App.LocaleObject.GetDispTimeAM():SiebelApp.S_App.LocaleObject.GetDispTimePM();break;case"S":if(c==="#"){f=this.FormatString(this.m_nSecond,0)}else{f=this.FormatString(this.m_nSecond,2)}break;case"w":f=this.FormatString(((this.m_nJulian+1)%7),0);break;case"y":if(c==="#"){f=this.FormatString((this.m_nYear%100),0)
}else{f=this.FormatString(this.m_nYear%100,2)}break;case"Y":if(c==="#"){f=this.FormatString(this.m_nYear,0)}else{f=this.FormatString(this.m_nYear,4)}break;case"%":f="%";break;default:f="%";if(c!=="\0"){f+=c}f+=d[g];break}h+=f}return h};b.prototype.GetNextInt=function(k,d,c,f){var g=c;var h=0;var j="";while(d<k.length&&(k[d]<"0"||k[d]>"9")){d++}h=d;for(var e=0;(e<f)&&d<k.length;e++){if(k[d]<"0"||k[d]>"9"){break}d++}j=k.substr(h,d-h);g=j;return{sBuf:g,extractedInt:parseInt(j,10),nIndex:d}};b.prototype.PreParseFormat=function(d){var c=d;c.replace(/consts.get("FORMAT_DATE")/g,SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_DATE_FORMAT")));if(c.indexOf(consts.get("FORMAT_TIME_NOSEC"))!==-1){c.replace(/consts.get("FORMAT_TIME_NOSEC")/g,SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_TIME_NOSEC_FORMAT")))}else{c.replace(/consts.get("FORMAT_TIME")/g,SiebelApp.S_App.LocaleObject.GetProfile(consts.get("LOCAL_TIME_FORMAT")))}return c};b.prototype.FormatString=function(e,g){var d="";switch(g){case 0:d=e.toString(10);break;case 2:d=e.toString(10).slice(-2);if(d.length===1){d="0"+d}break;case 4:d=e.toString(10).slice(-4);var f="";var c=d.length;while(c<4){f+="0";c++}d=f+d;break;default:d=""}return d};b.prototype.GetNDaysInMonth=function(c){switch(c){case 0:return(29);case 2:return(28);case 4:case 6:case 9:case 11:return(30);default:return(31)}};b.prototype.ResetValue=function(){this.m_nYear=0;this.m_nMonth=0;this.m_nDay=0;this.m_nJulian=0;this.m_nHour=0;this.m_nMinute=0;this.m_nSecond=0;this.m_bNull=true};b.prototype.ParseDate=function(m,k,n,l,h){var i="";var e=k;var j=n;var f=l;var d=h;var g=false;var c=this.GetNextInt(m,e,i,2);i=c.sBuf;f=c.extractedInt;e=c.nIndex;if(i.length!==0&&e<m.length&&m[e]==="/"){c=this.GetNextInt(m,e,i,2);d=c.extractedInt;i=c.sBuf;e=c.nIndex;if(i.length!==0&&e<m.length&&m[e]==="/"){c=this.GetNextInt(m,e,i,4);j=c.extractedInt;i=c.sBuf;e=c.nIndex;if(i.length===2||i.length===4){if(e===m.length||m[e]===" "){if(i.length===2){j+=(j>=50)?1900:2000}g=true}}}}return{retVal:g,nIndex:e,nYear:j,nMonth:f,nDay:d}};b.prototype.ParseTime=function(l,j,i,m,k){var h="";var d=j;var f=i;var e=m;var n=k;var g=false;var c=this.GetNextInt(l,d,h,2);h=c.sBuf;f=c.extractedInt;d=c.nIndex;if(h.length!==0&&d<l.length&&l[d]===":"){c=this.GetNextInt(l,d,h,2);h=c.sBuf;e=c.extractedInt;d=c.nIndex;if(h.length!==0&&d<l.length&&l[d]===":"){c=this.GetNextInt(l,d,h,2);h=c.sBuf;n=c.extractedInt;d=c.nIndex;if(d===l.length){g=true}}}return{retVal:g,nIndex:d,nHour:f,nMinute:e,nSecond:n}};b.prototype.VerifyStrictDateFormat=function(R,T){if(!R||R.length===0){this.ResetValue();return false}var P=-1;var B=-1;var w=-1;var q=0;var W=0;var u=0;var K=-1;var e=false;var C="";var S=0;var v=0;var F=0;var V;var G="";var h=false;var L=false;var E;var t;var m;var z=0;var M=0;var k=0;var I=-1;var x=0;var i=R;var A="";var D;var l=0;var Q=0;var f;var N="";var y=[];A=SiebelApp.S_App.LocaleUIProperty.GetProperty("UseANSIControls");var X=(SiebelApp.S_App.LocaleObject.GetDispTimeAM());if(!X||X.length===0){X="AM"}var g=(SiebelApp.S_App.LocaleObject.GetDispTimePM());if(!g||g.length===0){g="PM"}var n=(SiebelApp.S_App.LocaleObject.GetDispDateSeparator());var s=(SiebelApp.S_App.LocaleObject.GetDispTimeSeparator());if(n===s){L=true}n+="/-.";var d,p;if((d=i.indexOf("["))!==-1){p=i.ReverseFind("]");if(p>-1){C=i.substr(d,p-d+1)}else{this.SetError(true);return false}if(C&&C.length!==0){i=i.substr(0,d)+i.substr(p+1);C=C.substr(1,p-d-1)}}t=X.length;E=0;x=i.length;while(E<=x-t){if(X.toLowerCase()===(i.substr(E,t)).toLowerCase()){K=1;i=i.substr(0,E)+i.substr(E+t);break}E++}m=g.length;E=0;x=i.length;while(E<=x-m){if(g.toLowerCase()===(i.substr(E,m)).toLowerCase()){if(K===1){this.SetError(true);return false}K=2;i=i.substr(0,E)+i.substr(E+m);break}E++}if(T&&T.length!==0){this.PreParseFormat(T)}if(!L){if(T&&T.length!==0){var r=utils.TokenizeString(T,n);v=r.length}var H=utils.TokenizeString(i,n);S=H.length}if(T.length===0){return(true)}k=T.length;if(T.indexOf("p")>-1){e=true}G=n+",.: "+s;l=0;y=utils.TokenizeString(T,G);var U=utils.TokenizeString(i,G);var o=0;var J=false;parseLoop:while(F<k){D=U[o];V=T[F];switch(V){case"Y":if(D===""){return(true)}A=D;if(L||S-->0){x=A.length;if(this.IsAllDigits(A)&&(x===2||x===4)){P=parseInt(A,10)}else{J=true;break parseLoop}if(x===2){if(P>=50){P+=1900}else{P+=2000}}if(x<y[Q].length){J=true;break parseLoop}if(o<U.length){D=U[++o]}else{D=""}Q++}break;case"M":if(D===""){break parseLoop}A=D;if(L||S-->0){if(this.IsAllDigits(A)){x=A.length;if(x<y[Q].length){J=true;break parseLoop}}if(x<=2){B=parseInt(A,10)}}else{if(y[Q].length<3){J=true;break parseLoop}for(var O=1;O<=12;O++){if(SiebelApp.S_App.LocaleObject.GetMonth(O,true).toLowerCase()===A.toLowerCase()){B=O;break}if(SiebelApp.S_App.LocaleObject.GetMonth(O,false).toLowerCase()===A.toLowerCase()){B=O;break}}}if(B<1||B>12){J=true;break parseLoop}if(o<U.length){D=U[++o]}else{D=""}Q++;break;case"D":if(D===""){break parseLoop}A=D;if(L||S-->0){if(!this.IsAllDigits(A)||A.length>2){J=true;break parseLoop}w=parseInt(A,10);if(w<1||w>31){J=true;break parseLoop}}if(A.length<y[Q].length){J=true;break parseLoop}if(o<U.length){D=U[++o]}else{D=""}Q++;z++;break;case"H":case"h":if(D===""){break parseLoop}A=D;if(M===0){f=this.IsOneChunk(A,true);I=f.nChunkLen;h=f.bOneChunk;E=0}if(h){if(I===4&&M===2){break parseLoop}A=D.substr(E,2);E+=2}if(!this.IsAllDigits(A)||A.length>2){J=true;break parseLoop}q=parseInt(A,10);if(q<0||q>23){J=true;break parseLoop}if(!h||M===2){if(o<U.length){D=U[++o]}else{D=""}Q++}M++;break;case"m":if(D===""){break parseLoop}A=D;if(M===0){f=this.IsOneChunk(A,true);I=f.nChunkLen;h=f.bOneChunk;E=0}if(h){if(I===4&&M===2){break parseLoop}A=D.substr(E,2);E+=2}if(!this.IsAllDigits(A)||A.length>2){J=true;break parseLoop}W=parseInt(A,10);if(W<0||W>59){J=true;break parseLoop}if(!h||M===2){if(o<U.length){D=U[++o]}else{D=""}Q++}M++;break;case"s":if(D===""){break parseLoop}A=D;if(M===0){E=0}if(h){if(I===4&&M===2){break parseLoop}A=D.substr(E,2);E+=2}if(!this.IsAllDigits(A)||A.length>2){J=true;break parseLoop}u=parseInt(A,10);if(u<0||u>59){J=true;break parseLoop}if(!h||M===2){if(o<U.length){D=U[++o]}else{D=""}Q++}M++;break;case"p":Q++;F++;break;default:F++;break}while(F<k&&T[F]===V){F++}}if(J){this.SetError(true);return false}return true};SiebelApp.S_App.DatumDateTimeObject.g_sFormat="";SiebelApp.S_App.DatumDateTimeObject.g_sFormattedString="";return b}())};