/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.PhysicalRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PhysicalRenderer");define("siebel/phyrenderer",[],function(){SiebelAppFacade.PhysicalRenderer=(function(){var X=SiebelJS.Dependency("SiebelApp.Utils");var i=SiebelJS.Dependency("SiebelApp.Constants");var j=i.get("SWE_PST_BUTTON_CTRL");var ay=i.get("SWE_CTRL_DETAIL");var ar=i.get("SWE_CTRL_MVG");var a=i.get("SWE_CTRL_PICK");var Q=i.get("SWE_CTRL_RADIO");var N=i.get("SWE_CTRL_CHECKBOX");var O=i.get("SWE_CTRL_COMBOBOX");var l=i.get("SWE_CTRL_CHART");var x=i.get("SWE_CTRL_PLAINTEXT");var S=i.get("SWE_CTRL_DATE_TIME_PICK");var Z=i.get("SWE_CTRL_DATE_PICK");var ai=i.get("SWE_CTRL_CALC");var o=i.get("SWE_CTRL_DATE_TZ_PICK");var an=i.get("SWE_CTRL_CURRENCY_CALC");var am=i.get("SWE_CTRL_TEXT");var u=i.get("SWE_CTRL_TEXTAREA");var A=i.get("SWE_CTRL_RTCEMBEDDED");var n=i.get("SWE_CTRL_RTCEMBEDDEDTEXTONLY");var M=i.get("SWE_CTRL_RTCEMBEDDEDLINKFIELD");var ah=i.get("SWE_CTRL_RTCPOPUP");var t=i.get("SWE_CTRL_RTCIO");var C=i.get("SWE_CTRL_INKDATA");var m=i.get("SWE_CTRL_LINK");var p=i.get("SWE_CTRL_LABEL");var s=i.get("SWE_CTRL_URL");var Y=i.get("SWE_CTRL_MAILTO");var z=/(About Record Applet\w*)|(About SRF Applet\w*)|(About Siebel Applet\w*)|(About View Applet\w*)|(Record Count Applet\w*)|(Technical Support Applet\w*)/;var ae=i.get("SWE_CTRL_EFFDAT");var K=i.get("SWE_CTRL_IMAGECONTROL");var e=i.get("SWE_CTRL_FILE");var g=i.get("SWE_PST_COL");var b=i.get("SWE_PST_APPLET_MODE_QUERY");var J=i.get("SWE_PST_APPLET_MODE_EDIT");var au=i.get("SWE_PST_APPLET_MODE_NEW");function ac(aC){SiebelAppFacade.PhysicalRenderer.superclass.constructor.call(this,aC);var aE=null;this.SetFirstControl=function(aG){aE=aG};this.GetFirstControl=function(){return aE};var aD=new SiebelAppFacade.SearchCtrl(this);this.GetSearchCtrl=function(){return aD};var aF=false;this.SetIsGridBaseForm=function(aG){aF=aG};this.GetIsGridBaseForm=function(){return aF};this._EndLife=function(){aE=null;aD=null}}SiebelJS.Extend(ac,SiebelAppFacade.BasePR);ac.prototype.Init=function(){SiebelAppFacade.PhysicalRenderer.superclass.Init.call(this);this.AttachPMBinding("UpdateQuickPickInfo",this.UpdatePick);this.AttachPMBinding("UpdateAppletMessage",P);this.AttachPMBinding("UpdateCSQueryMsg",aq);this.AttachPMBinding("UpdateCurrencyCalcInfo",H);this.AttachPMBinding("UpdateConditionals",c);this.AttachPMBinding("ProcessCancelQueryPopup",B);this.AttachPMBinding("FocusOnApplet",q);this.AttachPMBinding("HandleCtrlDefChange",this.RefreshControl);this.AttachPMBinding("SetCanInvokeState",v);this.AttachPMBinding("BeginQueryState",E);this.AttachPMBinding("EndQueryState",ab);this.AttachPMBinding("UpdateRowCounter",aa);this.AttachPMBinding("ShowPopup",this.ShowPopup);this.AttachPMBinding("isControlPopupOpen",k);this.AttachPMBinding("ShowSelection",this.ShowSelection);this.AttachPMBinding("ResetAppletState",this.ResetRendererState);this.AttachPMBinding("RefreshData",this.BindData);this.AttachPMBinding("FieldChange",this.SetControlValue);this.AttachPMBinding("UpdateStateChange",this.UpdateUIControls);this.AttachPMBinding("InvokeStateChange",this.UpdateUIButtons);this.AttachPMBinding("GetPhysicalControlValue",this.GetPhysicalControlValue);this.AttachPMBinding("SetFocusToCtrl",this.SetFocusToControl);this.AttachPMBinding("FocusFirstControl",this.FocusFirstControl);this.AttachPMBinding("SetHighlightState",ak);this.AttachPMBinding("UpdateUI",function(){this.ShowSelection()})};ac.prototype.RefreshControl=function(aD){var aC=$("#"+aD.GetInputName())[0]||$("[name="+aD.GetInputName()+"]");if(aC.length>0){aC.nextAll().remove();this.ShowUIControl(aD);this.BindControlEvents(aD);this.EnableControl(aD,this.GetPM().ExecuteMethod("CanUpdate",aD.GetName()));aw.call(this,aD)}};ac.prototype.EndLife=function(){var aG=this.GetPM(),aI=aG.Get(i.get("SWE_VIS_MODE_LIST")),aH=aI?aI.length:0,aC=aG.Get("GetFullId"),aD="",aE=aG.Get("GetPlaceholder");if(aH>0){for(var aF=0;aF<aH;aF++){if($("#"+aE+"_"+aI[aF]+"_btn").length>0){$("#"+aE+"_"+aI[aF]+"_btn").unbind("click")}}}$("#s_"+this.GetPM().Get("GetFullId")+"_div").off("click click.drilldown");this._EndLife();SiebelAppFacade.PhysicalRenderer.superclass.EndLife.call(this)};ac.prototype.ResetRendererState=function(){};ac.prototype.UpdatePick=function(){var aC=arguments[arguments.length-1];var aD=this.GetPM().Get("GetActiveControl");if(!aD){return}L.call(this,aD,aC);delete this.inProgress};function y(aG,aE,aF){var aC=this.GetPM();aG.datetimepicker("destroy");this.SetFocusToControl(aE.GetName(),true);aC.SetProperty("isControlPopupOpen",false);var aD=aG.attr("data");if(event.keyCode!=27){if(aD===aF){aG.val(aD)}aC.ExecuteMethod("LeaveField",aE,aF,true)}else{aG.val(aD)}aG.removeAttr("data")}function L(aE,aC){var aD=$('input[name="'+aE.GetInputName()+'"]');if(aE){if(!this.GetPM().ExecuteMethod("CanUpdate",aE.GetName())){aD.focus();return false}}if(aC===null){aD.autocomplete("option","source",[]);this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_COMBO"),aE);return}if(aD.length!==0){aD.autocomplete("option","source",aC).autocomplete("option","minLength",0).autocomplete("search","");aD.autocomplete("widget").attr("role","combobox");aD.autocomplete("widget").children().find("a").attr("role","option");aD.focus()}aD=null}function H(){var aD=this.GetPM();var aH=SiebelApp.S_App.GetPopupPM();$("div[name='popup']").find("div[name=CurrencyCalc]").remove();var aE=aD.ExecuteMethod("GetCurrencyCalInfo");var aI={pickId:aE[0],pickName:aE[1],pickValue:aE[2],dateId:aE[3],dateName:aE[4],dateValue:aE[5],calcId:aE[6],calcName:aE[7],calcValue:aE[8],hideExchDate:aE[9],CCodeReadOnly:aE[10],eDateReadOnly:aE[11],AmountReadOnly:aE[12],sourceField:aE[13],qtpInfo:aE[14]};var aF=aD.Get("GetActiveControl");if(!aF){var aK=aD.Get("GetControls");for(var aJ in aK){if(aK.hasOwnProperty(aJ)){var aG;if($("#"+aF.GetInputName().replace("_0","_"+aD.Get("GetSelection")))){aG=aF.GetInputName().replace("_0","_"+aD.Get("GetSelection"))}else{aG=aK[aJ].GetInputName()}if(aK[aJ].GetInputName()===aI.sourceField){aF=aK[aJ];break}}}}var aC='<div name="CurrencyCalc" class="siebui-popup-currency">';aC+='<input type="hidden" autofocus="autofocus"/>';aC+='<div id="'+aI.pickId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+aI.pickName+'</span><input type="text" id="'+aI.pickId+'" tabindex="100" aria-label="'+aI.pickName+'" value="'+aI.pickValue+'" '+(aI.CCodeReadOnly?'readonly="readonly" ':"")+"></div>";if(!aI.hideExchDate){aC+='<div id="'+aI.dateId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+aI.dateName+'</span><input type="text" id="'+aI.dateId+'" tabindex="101" aria-label="'+aI.dateName+'" value="'+aI.dateValue+'" '+(aI.eDateReadOnly?' readonly="readonly" ':"")+"></div>"}aC+='<div id="'+aI.calcId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+aI.calcName+'</span><input type="text" id="'+aI.calcId+'" tabindex="102" aria-label="'+aI.calcName+'" value="'+aI.calcValue+'" '+(aI.AmountReadOnly?'readonly="readonly" ':"")+"></div>";
aC+="</div>";if(aH.Get("state")===i.get("POPUP_STATE_UNLOADED")){aH.Setup()}aH.SetProperty("isCurrencyOpen",true);aH.ExecuteMethod("OpenPopup",aC,0,0,false,false,true);$("div[name=popup] ").find("div[name=CurrencyCalc]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").hide().end().end().bind("keydown",{ctx:this,ctrl:aF,popPM:aH},function(aM){if(aM.keyCode===$.ui.keyCode.ESCAPE){if(aM.data.popPM.Get("isCurrencyOpen")){aM.data.popPM.SetProperty("isCurrencyOpen",false);aM.data.ctx.GetPM().ExecuteMethod("NotifyClosePopup");aM.data.popPM.ExecuteMethod("ClearPopup");aM.data.ctx.SetFocusToControl(aM.data.ctrl.GetName(),true)}}if(aM.keyCode===$.ui.keyCode.ESCAPE||aM.keyCode===$.ui.keyCode.ENTER){aM.stopPropagation()}});$("div[name=CurrencyCalc]").parents("div.ui-dialog-content").removeClass("minWidthContainer");SiebelAppFacade.ControlBuilder.Pick({target:"#"+aI.pickId,className:"applet-form-pick",scope:this,control:aF,click:function(aM){this.GetPM().ExecuteMethod("ShowPickPopup")}});SiebelAppFacade.ControlBuilder.DatePick({target:"#"+aI.dateId,className:"applet-form-date",control:aF,scope:this,showPopup:false,click:function(aO,aN){if(!aI.eDateReadOnly){this.GetPM().SetProperty("isControlPopupOpen",true);$.data(this,"innerCtrlElem",{date:aN});var aM=this;SiebelAppFacade.ControlBuilder.DatePick({target:aN,className:"applet-form-date",control:aO,scope:this,showPopup:true,yearRange:"c-100:c+100",getISOVal:function(){return X.toISOFormat($(this.target).val(),false)},onClose:function(aR,aQ){$(this).datetimepicker("destroy").focus();aM.GetPM().SetProperty("isControlPopupOpen",false);$.removeData("innerCtrlElem");var aP=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(aR,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());$(this).val(aP)}})}}});SiebelAppFacade.ControlBuilder.Calculator({target:"#"+aI.calcId,className:"applet-form-calculator",control:aF,scope:this,click:function(aO,aN){if(!this.GetPM().ExecuteMethod("CanUpdate",aO.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);$.data(this,"innerCtrlElem",{calc:aN});this.SetControlValue(aO,this.GetPM().ExecuteMethod("GetFieldValue",aO));var aM=this;SiebelAppFacade.ControlBuilder.Calculator({target:aN,className:"applet-form-calculator",control:aO,show:true,beforeShow:function(aT,aS){var aR=aT;var aP=$("#"+aI.pickId).val();if(aP){var aQ;var aU=SiebelApp.S_App.LocaleObject.GetCurrency(aP);aU=aU?aU.m_sSymbol:null;aQ=aU?aU.length:0;if((aU&&aR.substr(0,aQ)===aU)&&(aR.length>aQ)){aR=parseFloat(aR.substring(aQ))}}$(this).val(aR)},close:function(aP){var aQ=aP.replace(/\[/g,"").replace(/\]/g,"");aM.SetControlValue(aO,aQ);$(this).calculator("destroy").next("img").show().end().focus();aM.GetPM().SetProperty("isControlPopupOpen",false);$.removeData("innerCtrlElem");aM.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aO)}})}});U.call(this,aI.qtpInfo);$("#"+aI.pickId).bind("focus",{ctx:this,ctrl:aF},function(aM){aM.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aM.data.ctrl,$(this).val())}).bind("blur",{ctx:this,ctrl:aF,ctrlType:aI.pickName},function(aN){aN.data.ctx.onBlurCurrency(aN.data.ctrlType,$(this).val());aN.data.ctx.GetPM().ExecuteMethod("CurrencyPostChanges");var aO=aN.data.ctx.GetPM().ExecuteMethod("GetCurrencyCalInfo");var aM=$("#"+aO[6]);aM.val(aO[8])}).bind("keydown",{ctx:this,ctrl:aF,readOnly:aI.CCodeReadOnly},function(aM){aM.data.ctx.HandleKeyEvents($(this),aM,$(this).val())});$("#"+aI.calcId).bind("focus",{ctx:this,ctrl:aF},function(aM){aM.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aM.data.ctrl,$(this).val())}).bind("blur",{ctx:this,ctrl:aF},function(aO){if(aO.data.ctx.GetPM().Get("isControlPopupOpen")===false){var aP=$(this).val();var aN=0;while(isNaN(aP.charAt(aN))){aN++}aP=aP.substring(aN);aO.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aO.data.ctrl,aP);aO.data.ctx.GetPM().ExecuteMethod("CurrencyPostChanges");var aQ=aO.data.ctx.GetPM().ExecuteMethod("GetCurrencyCalInfo");var aM=$("#"+aQ[6]);aM.val(aQ[8])}}).bind("keydown",{ctx:this,ctrl:aF,readOnly:aI.AmountReadOnly},function(aM){aM.data.ctx.HandleKeyEvents($(this),aM,$(this).val())});$("#"+aI.dateId).bind("blur",{ctx:this,ctrl:aF,readOnly:aI.eDateReadOnly},function(aN){if(!aN.data.readOnly){var aO=X.Trim($(this).val());var aP=X.toISOFormat(aO,(aN.data.ctrl.GetUIType()!==Z));var aM=aO;if(!aP){aM=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(aP,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat())}$(this).val(aM)}return false}).bind("keydown",{ctx:this,ctrl:aF,readOnly:aI.eDateReadOnly},function(aM){aM.data.ctx.HandleKeyEvents($(this),aM,$(this).val())});$("div.ui-widget-overlay").bind("click",{ctx:this,ctrl:aF,popPM:aH},function(aM){if(aM.data.popPM.Get("isCurrencyOpen")){aM.data.popPM.SetProperty("isCurrencyOpen",false);aM.data.ctx.GetPM().ExecuteMethod("NotifyClosePopup");aM.data.popPM.ExecuteMethod("ClearPopup");aM.data.ctx.SetFocusToControl(aM.data.ctrl.GetName(),true)}});var aL=this;setTimeout(function(){var aM=$("#"+aF.GetInputName()+"_icon")||$("#"+aF.GetInputName().replace("_0","_"+aD.Get("GetSelection"))+ +"_icon");if(aM.length===0&&typeof(aL.GetColumnHelper)==="function"){aM=$('[name="'+aL.GetColumnHelper().GetModifiedColumnName(aF.GetName())+'"]').next("img");if(aM.length===0){aM=aM.end()}}$("div[name=popup] ").find("div[name=CurrencyCalc]").parents("div.ui-dialog").position({my:"top",at:"bottom",collision:"flip",of:aM});setTimeout(function(){$("#"+aI.pickId).focus()},5)},15)}ac.prototype.onBlurCurrency=function(aE,aD){var aC=this.GetPM().ExecuteMethod("GetCurrencyCalInfo");var aF;aD=aD.toUpperCase();if(aE==="Currency Code"){aF=aC[0];var aG=SiebelApp.S_App.LocaleObject.GetCurrency(aD);if(aG){$("#"+aF).val(aD)}else{$("#"+aF).val(aC[2])}}};function U(aG){if(aG){var aC=aG.GetChildCount();for(var aD=0;aD<aC;aD++){var aF=aG.GetChild(aD);var aE=aF.GetProperty(consts.get("SWE_PROP_ID"));$("#"+aE).attr({ot:aF.GetProperty(consts.get("SWE_PROP_QTP_OT")),rn:aF.GetProperty(consts.get("SWE_PROP_QTP_RN")),un:aF.GetProperty(consts.get("SWE_PROP_QTP_UN"))})}}}function P(){var aF=this.GetPM().Get("GetQueryModePrompt");var aE=this.GetPM().Get("GetId");var aD=$(".AppletButtons","#a_"+aE);var aC=$("#"+aE+"_msg");if(aC.length===0){aD.append("<td nowrap><span id="+aE+"_msg><span></td>")}if(aF!==null){aF=aF+".";$("#"+aE+"_msg").html(aF)}}function aq(aD){var aH="";var aG=true;if(aD){if(!this.GetPM().Get("IsInQueryMode")){aG=false}aH=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_MSG")}if(aG){var aF=this.GetPM().Get("GetId");var aE=$(".AppletButtons","#a_"+aF);var aC=$("#"+aF+"_ctrlmsg");if(aC.length===0){aE.append("<td nowrap><span id="+aF+"_ctrlmsg><span></td>")}if(aH!==null){$("#"+aF+"_ctrlmsg").html(aH)}}}function B(){var aH=SiebelApp.S_App.GetPopupPM();$("[name=cancelQuery]").remove();var aG=$('<div name="cancelQuery"></div>');var aK="";var aM=SiebelApp.S_App.LocaleObject;var aJ=aM.GetLocalString("IDS_CANCELQRY_INITIALTEXT");var aE=aM.GetLocalString("IDS_CANCELQRY_RESPONSETEXT");
var aL=aM.GetLocalString("IDS_CANCELQRY_HEADERTEXT");var aD=aM.GetLocalString("IDS_CANCELQRY_BUTTONTEXT");aK+='<div align ="center" id = "responseTxt_div"><p id="initTxt_CQ"><b>'+aJ+"</b></p></div><br />";var aC='<button id="cancelQry_Ctrl_CQ" class="appletButton" type="button" title="'+aD+'" >'+aD+"</button>";aK+='<div align="center" id = "cancelbtn_div">'+aC+"</div>";aG.append(aK);if(aH.Get("state")===i.get("POPUP_STATE_UNLOADED")){aH.Setup()}aH.SetProperty("IsCancelQryPopupOpen",true);aH.SetProperty("content",aG);var aI=$("#cancelQry_Ctrl_CQ");if(aI.length!==0){var aF=this;aI.bind("click",function(aN){var aO='<p id="responseTxt_CQ"><b>'+aE+"</b></p>";$("#initTxt_CQ").replaceWith(aO);aH.OnControlEvent(i.get("PHYEVENT_CANCEL_QRY_POPUP"),aN)})}}function v(){var aC=this.GetPM();var aD=$("#s_"+aC.Get("GetFullId")+"_div");if(aC.ExecuteMethod("IsMethodDefault","MaximizeApplet")&&aC.ExecuteMethod("CanInvokeMethod","MaximizeApplet")===false){aD.removeClass("siebui-applet-minimize").addClass("siebui-applet-maximize")}else{if(aC.ExecuteMethod("IsMethodDefault","MinimizeApplet")&&aC.ExecuteMethod("CanInvokeMethod","MinimizeApplet")===false){aD.removeClass("siebui-applet-maximize").addClass("siebui-applet-minimize")}else{aD.removeClass("siebui-applet-maximize siebui-applet-minimize")}}}function I(aE,aD,aC){if(this.GetPM().Get("IsInQueryMode")&&aE.GetCaseSensitive()){if(aC==true&&$(aD).val()===""){$(aD).val(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"));$(aD).addClass("siebui-watermark-text")}else{if(aC==false&&$(aD).val()===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){$(aD).val("");$(aD).removeClass("siebui-watermark-text")}}}}ac.prototype.ShowUI=function(){SiebelAppFacade.PhysicalRenderer.superclass.ShowUI.call(this);var aF=this.GetPM(),aI=aF.Get(i.get("SWE_VIS_MODE_LIST")),aS=aF.Get(i.get("SWE_LDC_VIS_MODE_LIST")),aC=aI?aI.length:0,aR=aS?aS.length:0,aK=aF.Get("GetFullId"),aM=aF.Get("GetPlaceholder"),aE,aL,aQ=aF.Get(i.get("SWE_VIS_MODE_DEFAULT")),aP="<div align='center' id = 's_div_"+aM+"_VisualModes' class = 'siebui-viz-buttonbar'>";v.call(this);var aJ=$("#s_"+this.GetPM().Get("GetFullId")+"_div");if(aJ.find("table[data-siebel-form-table='true']").length>0){this.SetIsGridBaseForm(true)}if(X.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){aJ.attr({role:"region",title:this.GetPM().Get("LandMarkTitle")})}var aO=this.GetPM().Get("GetControls");for(var aH in aO){if(aO.hasOwnProperty(aH)){this.ShowUIControl(aO[aH])}}if(!this.GetPM().Get("IsPopup")){this.ShowSearch()}this.InjectAppletQTPInfo(aJ);W.call(this);this.ShowCollapseExpand();if(aC>0&&aR>0&&aC===aR){for(var aG=0;aG<aC;aG++){if(aI[aG]!==aQ){aL="appletButton siebui-mode-button-enable"}else{aL="appletButtonDis siebui-mode-button-disable"}if($("#"+aM+"_"+aI[aG]+"_btn").length===0){aE='<button id="'+aM+"_"+aI[aG]+"_btn\" class='"+aL+"' aria-label='"+aS[aG]+"' "+((aL==="appletButton siebui-mode-button-enable")?" ":' disabled="disabled" ')+'type="button" title="'+aS[aG]+'" >'+aS[aG]+"</button>";aP+='<div align="center" id = "s_div_'+aM+"_"+aI[aG]+"\" class='siebui-viz-button-"+aI[aG].toLowerCase()+"' >"+aE+"</div>"}}if(aE){aP+="</div>";var aD=$("#s_"+aF.Get("GetId")+"_rc");if(aD.parent().prev("td").length){aD.parent().prev("td").append(aP)}else{aD.parent().prepend(aP)}aD=null}}if(this.GetIsGridBaseForm()===true){aj.call(this,aJ)}else{var aN=$("#SWEBottomHidden"+this.GetPM().Get("GetId"));aN.attr("tabindex","-1")}};function W(){var aC="#s_"+this.GetPM().Get("GetFullId")+"_div";setTimeout(function(){$(aC).find("div.mceGridField input, td.siebui-form-data input, td.scField input, span.mceField input").not("[type=checkbox]").not(".siebui-input-popup").each(function(){$(this).width($(this).width()+16)})},2)}function aj(aF){if(aF&&aF.length){var aH="#SWEBottomHidden"+this.GetPM().Get("GetId"),aG=aF.find("[tabindex]").not(aH);for(var aD=0,aC=aG.length;aD<aC;aD++){var aE=aG.eq(aD);if(Number(aE.attr("tabindex"))>=0){aE.attr({"data-seq":aE.attr("tabindex"),tabindex:"0"})}}aF.on("keydown","input[type=file][data-seq], button[data-seq], input[type=button][data-seq],div[data-seq],span[data-seq],a[data-seq]",{ctx:this},function(aI){az.call(aI.data.ctx,aI.target,null,aI)})}}ac.prototype.ShowUIControl=function(aP){if(!ad(aP)){return}var aN=arguments[1]?arguments[1]:aP.GetInputName();var aK=this;var aC=0;if(this.GetIsGridBaseForm()===true){aC=aP.GetSeq()||0}var aE=$('[name="'+aN+'"]')[0]||$("#"+aN)[0];if(!aE){return}aE=$(aE);switch(aP.GetUIType()){case s:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC).addClass("siebui-input-align-"+aP.GetJustification());if(aP.GetName()==="BookmarkImage"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){aE.remove();$($("table.FormSection")[0]).remove()}this.InjectQTPInfo(aE,aP);aE=null;break;case j:case ay:var aD=aP.GetMethodName();var aT=aP.GetDisplayName();var a6=this.GetPM().ExecuteMethod("CanInvokeMethod",aD);var aI=this.GetPM().Get("GetAppletLabel");if(aI!==""){aI=aI+":"}var aL;if(aD==="NewFileAttachment"){var a7=a6?aP.GetEnabledBmp():aP.GetDisabledBmp();var aZ=aN+"_"+i.get("SWE_FILE_NAME_STR");if(!a7){aL="<div id='"+aN+"' class='siebui-file-label "+((a6===true)?"appletButton":"appletButtonDis")+"'"+((a6===true)?" ":' disabled="disabled" ')+">"+aT+"<input id='"+aZ+"' tabindex='"+aC+"' title='"+aI+aT+"' aria-label='"+aI+aT+"' type='file' class='siebui-file-input' multiple name='"+i.get("SWE_FILE_NAME_STR")+"'/></div>"}else{aL="<div id='"+aN+"' class='"+((a6===true)?"siebui-btn-icon-e siebui-file-label":"siebui-btn-icon-d siebui-file-label")+"'"+((a6===true)?' tabindex="'+aC+'"':" disabled='disabled' tabindex='-1'")+'><a role="button">'+a7+"</a><input id='"+aZ+"' aria-label='"+aI+aT+"' type='file' class='siebui-file-input' multiple name='"+i.get("SWE_FILE_NAME_STR")+"'/></div>"}aE.replaceWith(aL);var aW=$("#"+aZ);var aS=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aS,fileInput:aW,formData:{},change:af,fail:av,done:d,drop:af,scope:this});aL=aW=aS=null}else{aL='<button id="'+aN+'_Ctrl" class="'+(a6?"appletButton":"appletButtonDis")+'" type="button" data-display="'+aT+'" tabindex="'+aC+'" title="'+aI+aT+'" aria-label="'+aI+aT+'" '+((a6===true)?" ":'disabled="disabled"')+">"+aT+"</button>";if(aD==="ShowQueryAssistant"){aL+='<div id="'+aN+'"class="SearchCtrl"/>'}}if(aD==="NewFileAttachment"){}else{var a7=a6?aP.GetEnabledBmp():aP.GetDisabledBmp();if(a7){aE.append('<a  role="button" >'+a7+"</a>").addClass(a6?"siebui-btn-icon-e":"siebui-btn-icon-d").children("a").attr("tabindex",a6?aC:"-1").find("img").attr("alt",aI+$(a7).attr("alt")).attr("title",aI+$(a7).attr("title"));this.InjectQTPInfo(aE,aP)}else{aE.replaceWith(aL);this.InjectQTPInfo($("#"+aN+"_Ctrl"),aP)}}aE=null;break;case e:var aD=aP.GetMethodName();var aT=aP.GetDisplayName();var a6=this.GetPM().ExecuteMethod("CanInvokeMethod",aD);var aV=aP.GetPMPropSet();var aL="";
var aJ=false;if(aV){aJ=aV.GetProperty("UploadTriggerControl")}var aW=null;var aS=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(!aJ){aL="<input id='"+aN+"' tabindex='"+aC+"' type='file' name='"+i.get("SWE_FILE_NAME_STR")+"'/>";aE.replaceWith(aL);aW=$("#"+aN);SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aS,fileInput:aW,formData:{},change:af,fail:av,done:d,drop:af,scope:this})}else{aL="<input id='"+aN+"' tabindex='"+aC+"' type='file' name='"+aP.GetName()+"'/>";aE.replaceWith(aL);aW=$("#"+aN);SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aS,fileInput:aW,formData:{},add:ao,fail:av,done:h,drop:ao,isDisplayOption:aJ,scope:this})}this.InjectQTPInfo($("#"+aN),aP);aE=aW=aS=null;break;case O:var aG=aP.GetHTMLAttr();var aF='[name="'+aN+'"]';if(!aG){var a3=($(aF).eq(0).clone().html("").wrap("<p/>").parent().html()||"").replace(/select/ig,"input");$(aF).replaceWith(a3);aF='input[name="'+aN+'"]'}$(aF).attr("maxlength",aP.GetMaxSize()||256).addClass("siebui-input-align-"+aP.GetJustification());$(aF).bind("keydown",{ctx:this,ctrl:aP},function(a9){if(a9.which===$.ui.keyCode.TAB&&$(this).prop("readonly")){a9.stopImmediatePropagation()}return a9.data.ctx.HandleKeyEvents($(this),a9,$(this).val())});if(!aG){SiebelAppFacade.ControlBuilder.SelectCtrl({target:aF,className:"applet-form-combo",scope:this,click:function(a9){L.call(this,a9,null)},control:aP,inputName:aN})}$(aF).width(Number(aP.GetWidth())!==0?aP.GetWidth():i.get("DFLT_COMBO_WIDTH")).height(Number(aP.GetHeight())!==0?aP.GetHeight():i.get("DFLT_COMBO_HEIGHT")).autocomplete({source:[]}).autocomplete("option","position",{my:"center top",at:"center bottom",of:$(aF),collision:"flip flip"}).attr("role","combobox").attr("tabindex",aC).bind("autocompletefocus",function(a9,ba){$(this).attr("aria-activedescendant",$(this).autocomplete("widget").attr("aria-activedescendant"))});this.InjectQTPInfo($(aF),aP);break;case x:if(X.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){$(aE).attr("tabindex",aC).append('<Label id="'+$(aE).attr("id")+'_Label"></Label>').parent().addClass("siebui-input-align-"+aP.GetJustification());aE=null}break;case Q:var a5=aP.GetRadioGroupPropSet();var a8=aP.GetDisplayName();if(a5.IsEmpty()){break}var a4=aN;var aM=$("[name="+a4+"]");var aX=aM.outerWidth();var aO=aM.parent();aM.remove();var aR="";for(var a2=0;a2<a5.GetChildCount();a2++){var aQ=a5.GetChild(a2);var aH=aQ.GetProperty("DisplayName");aR+="<input type='radio' tabindex=\""+aC+"\" role='radio' name = '"+aN+"' value = '"+aQ.GetProperty("FieldValue")+"' aria-label='"+(a8?(a8+" "):"")+aH+"'>"+aH+"<br>"}aO.append(aR);aM=aO=null;break;case ar:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.Mvg({target:aE,className:"applet-form-mvg",scope:this,click:function(a9){this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_MVG"),a9)},control:aP,inputName:aN});this.InjectQTPInfo(aE,aP);break;case ae:SiebelAppFacade.ControlBuilder.EffDat({target:aE,className:"applet-form-effdat",scope:this,click:function(a9){this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_EFFDAT"),a9)},control:aP,inputName:aN});aE.attr("tabindex",aC);this.InjectQTPInfo(aE,aP);break;case a:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.Pick({target:aE,className:"applet-form-pick",scope:this,click:function(a9){this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_PICK"),a9)},control:aP,inputName:aN});this.InjectQTPInfo(aE,aP);break;case Z:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.DatePick({target:aE,className:"applet-form-date",control:aP,inputName:aN,scope:this,showPopup:false,click:function(bb,bd,ba){if(!this.GetPM().ExecuteMethod("CanUpdate",bb.GetName())){return}var bc=$(bd);bc.attr("data",bc.val());this.GetPM().SetProperty("isControlPopupOpen",true);var a9=this;SiebelAppFacade.ControlBuilder.DatePick({target:bd,className:"applet-form-date",control:bb,inputName:ba,scope:a9,showPopup:true,yearRange:"c-100:c+100",getISOVal:function(){return X.toISOFormat($(this.target).val(),false)},onClose:function(bf,be){y.call(a9,$(this),bb,bf)}})}});this.InjectQTPInfo(aE,aP);break;case S:case o:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.DateTimePick({target:aE,className:"applet-form-datetime",control:aP,inputName:aN,scope:this,showPopup:false,click:function(bb,bd,ba){if(!aK.GetPM().ExecuteMethod("CanUpdate",bb.GetName())){return}var bc=$(bd);bc.attr("data",bc.val());this.GetPM().SetProperty("isControlPopupOpen",true);var a9=this;SiebelAppFacade.ControlBuilder.DateTimePick({target:bd,className:"applet-form-datetime",control:bb,inputName:ba,scope:a9,showPopup:true,yearRange:"c-100:c+100",getISOVal:function(){return X.toISOFormat($(this.target).val(),true)},onClose:function(bf,be){y.call(a9,$(this),bb,bf)}})}});this.InjectQTPInfo(aE,aP);break;case ai:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.Calculator({target:aE,className:"applet-form-calculator",controlClass:"siebui-element-ltr",control:aP,inputName:aN,scope:this,click:function(bb,ba,a9){if(!aK.GetPM().ExecuteMethod("CanUpdate",bb.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);aK.SetControlValue(bb,aK.GetPM().ExecuteMethod("GetFieldValue",bb));SiebelAppFacade.ControlBuilder.Calculator({target:ba,className:"applet-form-calculator",control:bb,inputName:a9,show:true,close:function(bc){var bd=bc.replace(/\[/g,"").replace(/\]/g,"");aK.SetControlValue(bb,bd);$(this).calculator("destroy");$(this).next("img").show();$(this).focus();aK.GetPM().SetProperty("isControlPopupOpen",false);aK.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),bb)}})}});this.InjectQTPInfo(aE,aP);break;case an:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC);SiebelAppFacade.ControlBuilder.Currency({target:aE,className:"applet-form-currency",controlClass:"siebui-element-ltr",scope:this,click:function(a9){this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_CURRENCY"),a9)},control:aP,inputName:aN});this.InjectQTPInfo(aE,aP);break;case A:SiebelAppFacade.ControlBuilder.RTCeditor({target:aE,blur:function(ba,a9){if(aK.GetPM().Get("IsInQueryMode")&&ba.GetCaseSensitive()&&(a9===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){a9=""}aK.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),ba,a9);if(aK.GetPM().Get("IsInQueryMode")&&ba.GetCaseSensitive()&&(a9==="")){a9=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK");$("[name="+ba.GetInputName()+"]").ckeditor(function(bc){var bb=this;setTimeout(function(bd){bb.setData(bd)},2)})}},focus:function(ba,a9){if(aK.GetPM().Get("IsInQueryMode")&&ba.GetCaseSensitive()&&(a9===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){a9="";$("[name="+ba.GetInputName()+"]").ckeditor(function(bc){var bb=this;setTimeout(function(bd){bb.setData(bd)
},2)})}aK.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),ba,a9)},control:aP,inputName:aN});aE.attr("tabindex",aC);this.InjectQTPInfo(aE,aP);break;case C:var aU=aN;aM=$("[name="+aU+"]");var aY=aM.data("value");aO=aM.parent();aM.remove();aE='<div id ="'+aU+'" name ="'+aU+'" class = "siebui-ctrl-sigpad"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+aU+'-clearButton" style="display:none"></p><input class = "'+aU+'" style="display:none"></input></div>';aO.append(aE);if(this.GetPM().ExecuteMethod("CanUpdate",aP.GetName())){$("#"+aU).signaturePad({output:$("."+aU),clear:".siebui-ctrl"+aU+"-clearButton"})}else{try{if(aY===""){aY=this.GetPM().ExecuteMethod("GetFieldValue",aP)}$("#"+aU).signaturePad({displayOnly:true}).regenerate(aY)}catch(a1){if(a1.name==="SyntaxError"){if(aY===""||aY.match("Cancelled*")){$("#"+aU).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+aU).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(a1)}}}this.InjectQTPInfo($("[name='"+aN+"']"),aP);aM=aO=null;break;case m:if(aE.length===1){var aD=aP.GetMethodName();var a6=this.GetPM().ExecuteMethod("CanInvokeMethod",aD);var a7=a6?aP.GetEnabledBmp():aP.GetDisabledBmp();if(a7){aE.append('<a href= "javascript:void()" role="link">'+a7+"</a>").addClass(a6?"siebui-link-icon-e":"siebui-link-icon-d");aE.children("a").attr("tabindex",a6?aC:"-1")}else{aE.append(R.call(this,aP,aN)).parent().addClass("siebui-ctrl-link siebui-input-align-"+aP.GetJustification())}}this.InjectQTPInfo(aE,aP);aE=null;break;case p:if(aP.GetMethodName()){aE.append(R.call(this,aP,aN)).attr("tabindex",aC).parent().addClass("siebui-ctrl-label siebui-input-align-"+aP.GetJustification());this.InjectQTPInfo(aE,aP);aE=null}break;case am:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC).addClass("siebui-input-align-"+aP.GetJustification());if(aP.GetPopupType()){SiebelAppFacade.ControlBuilder.DetailPopup({target:aE,className:"applet-form-pick",scope:this,click:function(a9){this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_DETAIL_POPUP"),a9)},control:aP,inputName:aN})}else{if(SiebelApp.S_App.CommToolbar){var a0=this.GetPM().ExecuteMethod("GetFieldDataType",aP.GetFieldName());if(a0.toLowerCase()===i.get("SWE_CTRL_PHONE").toLowerCase()){SiebelAppFacade.ControlBuilder.PhoneCtrl({target:aE,className:"applet-form-phone",click:function(a9,ba){if(SiebelApp.S_App.CommToolbar.CallContactFromUIEnabled()){SiebelApp.S_App.CommToolbar.OpenCallContactFromUIPopup(ba.val(),$("[id='"+(ba.attr("id")||aN)+"_icon']"))}},control:aP,inputName:aN})}}}this.InjectQTPInfo(aE,aP);break;case K:aE.addClass("siebui-input-align-"+aP.GetJustification());this.InjectQTPInfo(aE,aP);break;default:aE.attr("maxlength",aP.GetMaxSize()||256).attr("tabindex",aC).addClass("siebui-input-align-"+aP.GetJustification());this.InjectQTPInfo(aE,aP);break}};function R(aD){var aC=arguments[1]?arguments[1]:aD.GetInputName();if($("#"+aC+"_mb").length>0){return}return'<a  id ="'+aC+'_mb" tabindex ="'+aD.GetSeq()+'" href="javascript:void(0)" >'+aD.GetDisplayName()+"</a>"}ac.prototype.ShowSearch=function(){};ac.prototype.ShowCollapseExpand=function(){var aE=this.GetPM().Get("defaultAppletDisplayMode");if(aE){var aC=this.GetPM().Get("GetAppletLabel");if(aC!==""){aC=aC+":"}var aG;var aD;var aF="#s_"+this.GetPM().Get("GetFullId")+"_div";aD=aC+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_APPLET_EXPAND");aG="<span class='siebui-button-secondary siebui-btn-icon-expanded'><a href='javascript:void()' role='link' tabindex='0' aria-label='"+aD+"'></a></span>";aD="";aD=aC+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_APPLET_COLLAPSE");aG+="<span class='siebui-button-secondary siebui-btn-icon-collapsed'><a href='javascript:void()' role='link' tabindex='0' aria-label='"+aD+"'></a></span>";$(aF).find(".siebui-collapsible-applet-container").prepend(aG).find(".siebui-btn-icon-"+aE).hide();if(aE==="collapsed"){$(aF).find(".siebui-collapsible-applet-content").hide()}}};ac.prototype.BindEvents=function(aL,aH){SiebelAppFacade.PhysicalRenderer.superclass.BindEvents.call(this);var aD=this.GetPM(),aG=aD.Get(i.get("SWE_VIS_MODE_LIST")),aC=aG?aG.length:0,aI=aD.Get("GetFullId"),aO="",aK=aD.Get("GetPlaceholder");if(aC>0){for(var aF=0;aF<aC;aF++){if($("#"+aK+"_"+aG[aF]+"_btn").length>0){$("#"+aK+"_"+aG[aF]+"_btn").bind("click",{ctx:this,visMode:aG[aF]},function(aU){var aQ=aU.data.ctx,aS=aQ.GetPM(),aP=CCFMiscUtil_CreatePropSet(),aR={};aR.async=true;var aT=this;aR.cb=function(){var aV=Array.prototype.slice.call(arguments);var aW=aV?aV[aV.length-1]:"";if(aW===true){aS.SetProperty("DefaultVisualMode",aU.data.visMode);$(aT).attr("disabled","disabled");$(aT).removeClass("appletButton siebui-mode-button-enable");$(aT).addClass("appletButtonDis siebui-mode-button-disable")}};aP.SetProperty("VisualMode",aU.data.visMode);aS.OnControlEvent(i.get("PHYEVENT_INVOKE_CONTROL"),aS.Get(i.get("SWE_VIS_MODE_FLIP_METHOD")),aP,aR)})}}}if(this.constructor==ac){var aM=$("#SWEBottomHidden"+this.GetPM().Get("GetId"));$(aM).bind("focus",{ctx:this},function(aP){al.call(aP.data.ctx,aP)})}$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-collapsible-applet-header .siebui-button-secondary",{ctx:this},function(aP){$(this).parents(".siebui-collapsible-applet-header").find(".siebui-button-secondary").toggle().parents(".siebui-collapsible-applet:first").find(".siebui-collapsible-applet-content").slideToggle("fast","linear");(aP.data.ctx.resize||$.noop).call(aP.data.ctx)});$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(aQ){var aP=aQ.data.ctx;if(aP&&aP.GetPM()){aP.GetPM().OnControlEvent(i.get("PHYEVENT_APPLET_FOCUS"));if(SiebelApp.S_App.GetPopupPM().Get("state")===consts.get("POPUP_STATE_VISIBLE")){aQ.stopPropagation()}ap.call(aP,aQ)}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-btn-icon-e",{ctx:this},function(aR){var aP=aR.data.ctx.GetPM().Get("GetControls");var aQ=this.id;for(var aT in aP){if(aP.hasOwnProperty(aT)){var aS=aP[aT];if(aS.GetInputName()===aQ&&aS.GetMethodName()!=="NewFileAttachment"){return aR.data.ctx.InvokeControlMethod(aS)}}}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click.drilldown",".siebui-ctrl-drilldown",{ctx:this},function(aS){var aP=aS.data.ctx.GetPM().Get("GetControls");var aQ=this.id.indexOf("_mb");var aR=this.id.substring(0,aQ);for(var aU in aP){if(aP.hasOwnProperty(aU)){var aT=aP[aU];if(aT.GetInputName()===aR){aS.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_DRILLDOWN_FORM"),aT)}}}});var aJ=this.GetPM().ExecuteMethod("GetControlId");if(aJ){$("[name="+aJ+"]").bind("change",{ctx:this},function(aP){aP.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_TOGGLE"),$(this).val())})}if(aH===true){return}var aN=aL||this.GetPM().Get("GetControls");for(var aE in aN){if(aN.hasOwnProperty(aE)){this.BindControlEvents(aN[aE])}}aN=null};ac.prototype.InvokeControlMethod=function(aF){SiebelApp.S_App.uiStatus.Busy({});var aD={};aD.async=true;aD.cb=function(){var aG=Array.prototype.slice.call(arguments);
var aH=aG?aG[aG.length-1]:"";if(aH!==i.get("SWE_RPC_PROP_NEW_LAYOUT")&&aH!==i.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&aH!==i.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};var aE=aF.GetMethodPropSet();var aC=aE.Clone();this.GetPM().OnControlEvent(i.get("PHYEVENT_INVOKE_CONTROL"),aF.GetMethodName(),aC,aD)};ac.prototype.IsValidClick=function(aC){return(X.IndexOf(["input","button","a"],aC.tagName.toLowerCase())===-1)};ac.prototype.FormatDDInQueryMode=function(aE,aD){if(this.GetPM().Get("IsInQueryMode")){var aC=this.GetPM().Get("DDUserSelected");if(aC&&aC.ctrl===aE&&aC.value===aD){aD='"'+aD+'"';this.GetPM().SetProperty("DDUserSelected",undefined)}}return aD};ac.prototype.BindControlEvents=function(aE){if(!ad(aE)){return}var aF=$("[name="+aE.GetInputName()+"]");var aD=this.GetPM();if(aF.length===0&&aE.GetControlType()===g&&X.IndexOf([b,J,au],aD.Get("GetMode"))!==-1){var aC=aE.GetSpanPrefix()+"0";aF=$("[name="+aC+"]")}if(aF.length===0&&$("#"+aE.GetInputName()).length===0&&$("#"+(aE.GetInputName()+"_Ctrl")).length===0){return}switch(aE.GetUIType()){case ay:case j:if(aE.GetMethodName()==="NewFileAttachment"){return false}else{if(aE.GetMethodName()==="ClearSignature"){$("#"+(aE.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aE},function(aG){var aI=aG.data.ctx.GetPM().Get("GetControls");for(var aH in aI){if(aI.hasOwnProperty(aH)){if(aI[aH].GetUIType()==="JInkData"){$(".siebui-ctrl"+aI[aH].GetInputName()+"-clearButton").trigger("click");$("."+aI[aH].GetInputName()).attr({value:""});$("#"+aI[aH].GetInputName()).trigger("vmouseup")}}}})}else{$("#"+(aE.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aE},function(aG){setTimeout(function(){var aI=aG.data.ctx.GetPM().Get("GetControls");var aM=aG.data.ctrl.GetPMPropSet();var aH;if(aM&&aM.GetProperty("FileUploadControl")){aH=aM.GetProperty("FileUploadControl");var aK=aI[aH];var aL=$("#"+aK.GetInputName());var aJ=$(aL).fileupload("option","importfiles")}if(aJ){f.call(aG.data.ctx,aG.data.ctrl,aL)}else{aG.data.ctx.InvokeControlMethod(aG.data.ctrl)}},0);aG.preventDefault()})}}break;case O:aF.bind("focus",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aG.data.ctrl,$(this).val());I.call(aG.data.ctx,aG.data.ctrl,this,false)}).bind("blur",{ctx:this,ctrl:aE},function(aG){if($(document.activeElement).parents(".ui-autocomplete").length>0||$(this).data("ui-autocomplete").menu.active){return}var aH=aG.data.ctx.FormatDDInQueryMode(aG.data.ctrl,$(this).val());aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aG.data.ctrl,aH);I.call(aG.data.ctx,aG.data.ctrl,this,true)}).bind("autocompleteselect",{ctx:this,ctrl:aE},function(aG,aH){if(aG.data.ctx.GetPM().Get("IsInQueryMode")){aG.data.ctx.GetPM().SetProperty("DDUserSelected",{ctrl:aG.data.ctrl,value:aH.item.value})}aG.data.ctx.GetPM().ExecuteMethod("LeaveField",aG.data.ctrl,aH.item.value,true)}).bind("autocompleteopen",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.GetPM().SetProperty("isControlPopupOpen",true)}).bind("autocompleteclose",{ctx:this,ctrl:aE},function(aG){if(aG.data.ctx.GetPM().Get("IsInQueryMode")){aG.data.ctx.GetPM().SetProperty("DDUserSelected",{ctrl:aG.data.ctrl,value:aG.target.value})}aG.data.ctx.GetPM().SetProperty("isControlPopupOpen",false)});break;case Q:case N:aF.bind("keydown",{ctx:this,ctrl:aE},function(aG){return aG.data.ctx.HandleKeyEvents($(this),aG,$(this).val())}).bind("focus",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aG.data.ctrl,$(this).val())}).bind("mousedown",{ctx:this},function(aG){$(this).data("webkit-mousedown",true)}).bind("blur",{ctx:this,ctrl:aE},function(aH){var aG=$(this);if(aG.data("webkit-mousedown")){aG.removeData("webkit-mousedown");return}aH.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aH.data.ctrl,aG.val())}).bind("click",{ctx:this,ctrl:aE},function(aI){var aH=$(this);var aG=aH.attr("readonly");if(typeof aG!=="undefined"&&aG!==false){aH.prop("checked",!aH.prop("checked"))}if(aH.attr("type")==="checkbox"){aH.val(aH.prop("checked")?"Y":"N")}if(aH.data("webkit-mousedown")){aH.removeData("webkit-mousedown")}var aJ=$(document.activeElement);if((aH.attr("id")||"")!==(aJ.attr("id")||"")||(aH.attr("name")||"")!==(aJ.attr("name")||"")){aH.focus()}});break;case m:case p:if(aE.GetMethodName()){aF=$("#"+aE.GetInputName());aF.bind("click",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.InvokeControlMethod(aG.data.ctrl)})}break;case C:aF.bind("mouseup",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.GetPM().ExecuteMethod("SetActiveControl",aG.data.ctrl);aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aG.data.ctrl,$("."+aG.data.ctrl.GetInputName()).val())});aF.bind("mouseover",{ctx:this,ctrl:aE},function(aG){aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aG.data.ctrl,$("."+aG.data.ctrl.GetInputName()).val())});break;case Z:case S:case o:aF.bind("keydown",{ctx:this,ctrl:aE},function(aG){var aH=$(this).val();if(aG.data.ctx.GetPM().Get("IsInQueryMode")===false){aH=X.toISOFormat(aH,(aG.data.ctrl.GetUIType()!==Z))||aH}return aG.data.ctx.HandleKeyEvents($(this),aG,aH)});aF.bind("blur",{ctx:this,ctrl:aE},function(aK){var aL=$(this).val();if(aK.data.ctx.GetPM().Get("isControlPopupOpen")==false){if(aK.data.ctx.GetPM().Get("IsInQueryMode")===false){aL=X.toISOFormat(aL,(aK.data.ctrl.GetUIType()!==Z))||aL}aK.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aK.data.ctrl,aL)}else{var aH=aE.GetUIType()===Z;var aG=SiebelApp.S_App.LocaleObject.GetDateFormat();var aJ=i.get("ISO_DATE_FORMAT");if(!aH){aG+=" "+SiebelApp.S_App.LocaleObject.GetTimeFormat();aJ=i.get("ISO8601_DATETIME_FORMAT")}var aI=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(aL,aJ,aK.data.ctrl.GetDisplayFormat()||aG);$(this).val(aI===""?aL:aI)}});aF.bind("focus",{ctx:this,ctrl:aE},function(aG){var aH=$(this).val();if(aG.data.ctx.GetPM().Get("IsInQueryMode")===false){aH=X.toISOFormat(aH,(aG.data.ctrl.GetUIType()!==Z))||aH}aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aG.data.ctrl,aH)});break;default:aF.bind("keydown",{ctx:this,ctrl:aE},function(aG){return aG.data.ctx.HandleKeyEvents($(this),aG,$(this).val())});aF.bind("blur",{ctx:this,ctrl:aE},function(aG){I.call(aG.data.ctx,aG.data.ctrl,this,false);var aH=aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_BLUR"),aG.data.ctrl,$(this).val());I.call(aG.data.ctx,aG.data.ctrl,this,true)});aF.bind("focus",{ctx:this,ctrl:aE},function(aG){I.call(aG.data.ctx,aG.data.ctrl,this,false);aG.data.ctx.GetPM().OnControlEvent(i.get("PHYEVENT_CONTROL_FOCUS"),aG.data.ctrl,$(this).val())});break}aF=null};ac.prototype.HandleKeyEvents=function(aE,aF,aH){var aC=false;var aD=this.GetPM();if(aE&&aE.length===1&&aF){var aG=aF.data.ctrl;if(aG){switch(aF.which){case $.ui.keyCode.ENTER:aC=at.call(this,aE,aG,aF);break;case $.ui.keyCode.ESCAPE:aC=ag.call(this,aE,aG,aF);break;case $.ui.keyCode.UP:aC=aA.call(this,aE,aG,aF);break;case $.ui.keyCode.DOWN:aC=D.call(this,aE,aG,aF);
break;case $.ui.keyCode.LEFT:case $.ui.keyCode.RIGHT:aC=G.call(this,aE,aG,aF);break;case $.ui.keyCode.BACKSPACE:aC=F.call(this,aE,aG,aF);if(aC){aF.preventDefault()}break;case $.ui.keyCode.TAB:aC=az.call(this,aE,aG,aF);break;case i.get("SWE_F2_KEY"):aC=r.call(this,aE,aG,aF);break}}}if(aC){aF.stopImmediatePropagation()}};function aA(aC,aE,aD){switch(aE.GetUIType()){case O:if(aD.ctrlKey||aD.altKey||aD.shiftKey){$(aC).autocomplete("option","source",[])}break}return false}function D(aC,aE,aD){switch(aE.GetUIType()){case O:if(aD.ctrlKey||aD.altKey||aD.shiftKey){$(aC).autocomplete("option","source",[])}else{if(!($(aC).autocomplete("widget").is(":visible"))){L.call(this,aE,null);return true}}}return false}function G(aD,aF,aE){var aC=false;if(aE.altKey){aC=ag.call(this,aD,aF,aE)}return aC}function at(aC,aE,aD){switch(aE.GetUIType()){case u:case s:case C:case A:case n:case M:case ah:case t:case j:return true}return(this.GetPM().OnControlEvent(i.get("PHYEVENT_ENTER_KEY_PRESS"),aE))}function ag(aC,aF,aD){var aE=this.GetPM().Get("isControlPopupOpen");this.GetPM().OnControlEvent(i.get("PHYEVENT_ESCAPE_KEY_PRESS"),aF);if(this.GetPM().Get("isControlPopupOpen")!==aE){return true}return false}function F(aD,aG,aE){var aC=aD.attr("type");if(aC==="checkbox"){return true}var aF=this.GetPM().ExecuteMethod("CanUpdate",aG.GetName());if(!aF){return true}else{return false}}function r(aC,aE,aD){if(!aD.data.readOnly){$(aC).nextAll("img[id$='_icon']").click()}return true}function az(aC,aH,aI){if(aI.keyCode===$.ui.keyCode.TAB){ap.call(this,aI);var aF=$("#s_"+this.GetPM().Get("GetFullId")+"_div"),aK=aF.find("[data-seq]").not(":hidden,:disabled"),aT=aK.index($(aC)),aJ=Number($(aC).attr("data-seq"));if((aT===-1)||(aI.shiftKey&&aT===0)){return}var aS=null,aP=aI.shiftKey?aT-1:aT+1,aE=aI.shiftKey?0:aK.length,aQ=aI.shiftKey?-1:1,aO=aP;if(aJ==0){while(true){if(Number(aK.eq(aO).attr("data-seq"))===0){aS=aO;break}if(aO===aE){break}aO+=aQ}}if(aS===null){var aR=null,aG=null,aN=function(aV,aU){return aV>aU},aM=function(aV,aU){return aV<aU},aD=aI.shiftKey?aM:aN;for(aO=0,len=aK.length;aO<len;aO++){if(aO!==aT){var aL=Number(aK.eq(aO).attr("data-seq"));if((!aR&&aD(aL,aJ))||aR&&aD(aL,aJ)&&aD(aR,aL)){aR=aL;aG=aO}}}if(aG){aS=aG}}if(aS!==null){aK.eq(aS).focus();aI.preventDefault()}else{V.call(this,aI);aI.preventDefault()}}}function al(aD){var aH=$("#s_"+this.GetPM().Get("GetFullId")+"_div"),aG=aH.find("[data-seq]").not(":hidden,:disabled"),aC=aG.length,aJ=-1,aF=-1;for(var aE=aC;aE>=0;aE--){var aI=Number(aG.eq(aE).attr("data-seq"));if(aJ<aI){aJ=aI;aF=aE}}aG.eq(aF).focus()}function V(aE){var aD=$(aE.target),aG="SWEBottomHidden"+this.GetPM().Get("GetId"),aF=$("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, *[tabindex], *[contenteditable]").not(":hidden").add("a#"+aG).not("[tabindex=-1]"),aC=aF.length;lastindex=aF.index($("#"+aG));if((lastindex+1)===aC){aF.eq(0).focus()}else{aF.eq(lastindex+1).focus()}}function k(){if(this.GetPM().Get("isControlPopupOpen")===false){var aG=this.GetPM().Get("GetActiveControl");if(aG){var aF=$($('input[name="'+aG.GetInputName()+'"]')[0]||$("#"+aG.GetInputName())[0]);switch(aG.GetUIType()){case O:aF.autocomplete("close");break;case Z:case S:case o:aF.datetimepicker("hide");break;case ai:aF.calculator("hide");break;case an:var aE=$.data(this,"innerCtrlElem");if(aE&&aE.hasOwnProperty("calc")){var aC=$(aE.calc);if(aC&&aC.size()>0){aC.calculator("hide")}}else{if(aE.hasOwnProperty("date")){var aD=$(aE.date);if(aD&&aD.size()>0){aD.datetimepicker("hide")}}}break}}}}ac.prototype.BindData=function(){SiebelAppFacade.PhysicalRenderer.superclass.BindData.call(this);this.ShowSelection()};ac.prototype.ShowSelection=function(aD){if(this.inProgress){return false}var aE=this.GetPM(),aC=aE.Get("GetControls");for(var aF in aC){if(aC.hasOwnProperty(aF)){aw.call(this,aC[aF],aD)}}};function aw(aE,aG){var aM=!aG?0:aG,aD=this.GetPM(),aC=aE.GetName(),aF=aE.GetFieldName(),aL=aD.Get("IsInQueryMode"),aI=aD.Get("IsPure"),aH=aD.ExecuteMethod("IsPrivateField",aC);if((!X.IsEmpty(aF)||aH||!aI)&&aE.GetUIType()!==j){var aK="";if(aL||aH||!aI){if((aL&&aH)||!aL||!aI){if(aG===undefined||aG===null){aK=aD.ExecuteMethod("GetFormattedFieldValue",aE,false)}else{aK=aD.ExecuteMethod("GetFormattedFieldValue",aE,true,aM)}}else{var aJ=aD.Get("GetRecordSet");if(X.IsEmpty(aJ[aM][aF])){if((aE.GetUIType()!=="PlainText"&&aE.GetCaseSensitive()&&this.GetPM().ExecuteMethod("CanUpdate",aE.GetName())&&aE!=this.GetPM().Get("GetActiveControl"))){aK=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")}else{aK=""}}else{aK=aJ[aM][aF]}}}else{if(aG===undefined||aG===null){aK=aD.ExecuteMethod("GetFormattedFieldValue",aE,true)}else{aK=aD.ExecuteMethod("GetFormattedFieldValue",aE,true,aM)}}if(aG===undefined||aG===null){this.EnableControl(aE,aD.ExecuteMethod("CanUpdate",aC));this.SetControlValue(aE,aK)}else{this.EnableControl(aE,aD.ExecuteMethod("CanUpdate",aC),aM);this.SetControlValue(aE,aK,aM)}}}ac.prototype.IconMapFormatter=function(aF,aK,aG){var aC="";var aJ=SiebelApp.S_App.GetIconMap();var aE=aJ[SiebelApp.S_App.LookupStringCache(aF.GetIconMap())];if(aE){for(var aH=0;aH<aE.length;aH++){var aL=$(aE[aH].iconImage),aD=aF.GetDisplayName();if(aD){var aI=aL.attr("alt");aL.attr("alt",(aI?(aD+":"+aI):aI));aI=aL.attr("title");aL.attr("title",(aI?(aD+":"+aI):aI));aL=aL[0].outerHTML}else{aL=aE[aH].iconImage}if(!X.IsEmpty(aK)&&aE[aH].iconName==aK){return aL}if(aE[aH].iconName=="Default"){aC=aL}}if(!X.IsEmpty(aC)){return aC}}return""};ac.prototype.ControlHtmlFormatter=function(aD,aE,aC,aG,aF){if(aC){if(aD.next("."+aE).length===1){aD.next("."+aE).html(aC)}else{aD.after("<span class='"+aE+"'>"+aC+"</span>")}aD.next("."+aE).show()}else{aD.next("."+aE).hide()}if(aG||(!aG&&X.IsEmpty(aF))){aD.val(aF).show()}else{aD.hide()}};function ax(aG,aI){if(X.IsEmpty(aI)){aG.next().hide();aG.val(aI).show();return}var aH=$.parseHTML(aI.trim());var aF=false;var aD="";var aC="";aI="";for(var aE=0;aH&&aE<aH.length;aE++){aD=$("<span></span>").append(aH[aE]).find("*").addBack();aC=aD.filter("a");if(aC.length&&aC.attr("href")){aF=true;aI=(X.IsEmpty(aI)?"":aI+" ")+$(aC).attr("target","_blank")[0].outerHTML}else{aI=(X.IsEmpty(aI)?"":aI+" ")+aH[aE].textContent}}if(aF){aI="<span>"+aI+"<span>";if(aG.next().length<1){aG.after(aI)}else{aG.next().replaceWith(aI)}aG.next().show();aG.hide()}else{aG.next().hide();aG.val(aI).show()}}ac.prototype.SetControlValue=function(aP,aW,aN){if(!ad(aP)){return}var aE=!aN?0:aN;var a1=this.GetPM();var aG="";var aY=this.GetPM().ExecuteMethod("CanUpdate",aP.GetName());var aF=$("#"+aP.GetInputName())[aE]||$("[name="+aP.GetInputName()+"]")[aE];if(!aF){return}aF=$(aF);if(aP.GetShowBase()&&aP.GetUIType()!=="checkBoxCtrl"){aG=this.IconMapFormatter(aP,aW,aF)}var aD=this.GetPM().ExecuteMethod("CanNavigate",aP.GetName());switch(aP.GetUIType()){case x:if(X.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){if($("#"+aP.GetInputName()+"_Label").length===1){aF=$("#"+aP.GetInputName()+"_Label")
}}if(!X.IsEmpty(aG)){aF.html(aG)}else{if(X.IsTrue(aP.IsEncode())){X.IsEmpty(aW)?aF.html(""):aF.html(HtmlEncode(aW))}else{X.IsEmpty(aW)?aF.html(""):aF.html(aW)}}break;case N:aF.val(aW);if(aF.prop("checked")!==X.IsTrue(aW)){aF.prop("checked",X.IsTrue(aW))}break;case Q:var a2=aP.GetRadioGroupPropSet();for(var a0=0;a0<a2.GetChildCount();a0++){var aQ=a2.GetChild(a0);var aR=aQ.GetProperty("FieldValue");var aI=aQ.GetProperty("Selected");if(aI){$("[name="+aP.GetInputName()+"]").filter('[value="'+aR+'"]').attr("checked",true)}}$("[name="+aP.GetInputName()+"]").filter('[value="'+aW+'"]').attr("checked",true);break;case A:if($(aF).length>0){$(aF).ckeditor(function(){var a5=aW;var a4=this;setTimeout(function(){a4.setData(a5)},2);aF=null})}break;case s:var aT="";var aK=HtmlEncode(aW);if(typeof(aW)==="string"){if((aK.indexOf("http://")!=0)&&(aK.indexOf("https://")!=0)){aK="http://"+aK}}if(!aY&&!X.IsEmpty(aW)){aT="<a href='"+aK+"' target='_blank' >"+aK+"</a>"}else{if(aG){aT="<a href='"+aK+"' target='_blank' >"+aG+"</a>"}}if(aP.GetName()==="BookmarkURL"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){var aO=aF.replaceWith('<textarea name="'+aP.GetInputName()+'" readonly="readonly" rows="3" cols="150" value=\''+aW+"'>"+aW+"</textarea>")}else{this.ControlHtmlFormatter(aF,"siebui-ctrl-url",aT,aY,aW)}break;case Y:var aV="";aW=HtmlEncode(aW);if(!aY&&!X.IsEmpty(aW)){aV='<a href="mailto:'+aW+'">'+aW+"</a>"}else{if(aG){aV='<a href="mailto:'+aW+'">'+aG+"</a>"}}this.ControlHtmlFormatter(aF,"siebui-ctrl-mail",aV,aY,aW);break;case K:var aM="",aC=aP.GetSeq()||0;var aZ=aW.toLowerCase();if(aZ.indexOf("<img")>=0){aM=aW}else{aM='<img src="'+aW+'" alt="'+aP.GetDisplayName()+'" title="'+aP.GetDisplayName()+'"></img>'}X.IsEmpty(aW)?aF.html(""):aF.html('<a role="img" tabindex="0" data-seq="'+aC+'">'+aM+"<a>");break;case l:X.IsEmpty(aW)?aF.html(""):aF.replaceWith(aW);break;case O:var aL=aP.GetRadioGroupPropSet();var aH=aP.GetHTMLAttr();var aX=aH;if(aX){aX=aH.substring(aH.indexOf("=")+1,aH.length)}if(aX){aF.html("");var a3="";for(var a0=0;a0<aL.GetChildCount();a0++){var aQ=aL.GetChild(a0);var aS=aQ.GetProperty("DisplayName");a3+="<option> "+aS+" </option> <br>"}aF.attr("size",aX);aF.html(a3);break}default:if(aP.GetCaseSensitive()&&this.GetPM().Get("IsInQueryMode")&&(aW=="")){aW=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")}if(z.test(a1.GetPMName())){aF.replaceWith('<div role="document" tabindex="0" title="'+aW+'" name="'+aF.attr("name")+'" aria-label="'+aP.GetDisplayName()+'">'+aW+"</div>")}else{if(aP.GetShowBase()&&!aY&&aP.GetUIType()!=="checkBoxCtrl"){ax.call(this,aF,aW)}else{if(aD&&!X.IsEmpty(aW)){if(aY){if(aF.nextAll("img#"+aF.attr("name")+"_icon").length){aB.call(this,aP,aW,aF,aE)}else{var aU=aF,aJ=this;setTimeout(function(){aB.call(aJ,aP,aW,aU,aE);aU=aJ=null},2)}}else{w.call(this,aP,aW,aF,aE)}}else{if(aF.nextAll().length>0){aF.nextAll("div#"+aP.GetInputName()+"_IPEField").remove();aF.nextAll("[id^='"+aP.GetInputName()+"']").hide()}aF.show();if(aW===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){aF.addClass("siebui-watermark-text")}else{aF.removeClass("siebui-watermark-text")}aF.nextAll("img#"+aF.attr("name")+"_icon").show();X.IsEmpty(aW)?aF.val(""):aF.val(aW)}}}aF=null;break}};function aB(aE,aJ,aF,aM){aF.nextAll("a#"+aE.GetInputName()+"_mb").remove();var aG='<a  id ="'+aE.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown"  name = "'+aE.GetName()+'"  tabindex="-1" rowId = "'+(aM+1)+'"  href="javascript:void(0)" >'+HtmlEncode(aJ)+"</a>";var aL="siebui-drilldown-input siebui-input-align-"+aE.GetJustification();var aD=aE.GetInputName()+"_IPEField";var aH=aF.attr("data-seq");var aI=aF.attr("style");var aC='<div data-seq= "'+aH+'"tabindex= "0" id = "'+aD+'" style = "'+aI+'" class= "'+aL+'">'+aG+"<\div>";var aK=(document.activeElement===aF[0]);if(!aK){aK=(document.activeElement===aF.nextAll("div#"+aD)[0])}aF.nextAll("div#"+aD).remove();aF.after(aC);aF.val(aJ);aF.hide();aF.nextAll("img#"+aF.attr("name")+"_icon").hide();aF.nextAll("div#"+aD).show();(function(aO,aN){aO.nextAll("div#"+aD).click(function(aP){T.call(aN,true,aO)}).bind("keypress",function(aP){if(aP.keyCode===13){T.call(aN,true,aO)}})})(aF,this);if(aK){aF.nextAll("div#"+aD).focus()}}function w(aG,aF,aE,aC){aE.nextAll("div#"+aG.GetInputName()+"_IPEField").remove();var aD='<a  id ="'+aG.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown"  name = "'+aG.GetName()+'"  rowId = "'+(aC+1)+'"  href="javascript:void(0)" >'+HtmlEncode(aF)+"</a>";if(aE.next(":not(br,img)").length===1){if(aE.next(":not(br,img)").attr("id")!==aG.GetInputName()+"_mb"||aE.next(":not(br,img)").html()!==aF){aE.next(":not(br,img)").html(aD)}}else{aE.after(aD)}aE.val(aF);aE.next().show();aE.hide();aE.nextAll("img#"+aE.attr("name")+"_icon").hide()}function T(aD,aE,aC){if(aD){var aF=aE.nextAll("div#"+aE.attr("name")+"_IPEField").text();aE.nextAll("div#"+aE.attr("name")+"_IPEField").hide();aE.nextAll("img#"+aE.attr("name")+"_icon").show();aE.show();aE.val(aF)}else{var aF=aE.val();aE.nextAll("div#"+aE.attr("name")+"_IPEField").show();aE.nextAll("img#"+aE.attr("name")+"_icon").hide();aE.hide();aE.nextAll("div#"+aE.attr("name")+"_IPEField").children().val(aF)}if(aC!==true){aE.focus()}}function ap(aC){if(this.GetPM()){var aD=this.GetPM();var aE=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("div[id$='_IPEField']").filter(":hidden");var aF=aE.prevAll("input.siebui-input-popup").eq(0);if((aE.length&&aC&&aC.keyCode===$.ui.keyCode.TAB)||document.activeElement!==aF[0]){T.call(this,false,aF,true)}}}ac.prototype.EnableControl=function(aH,aG,aD){var aE;if(!ad(aH)){return}aD=!aD?0:aD;if(aH.GetUIType()===j){var aC=aH.GetEnabledBmp();var aF=aH.GetDisabledBmp();if(aC||aF){var aI=aG?aC:aF;var aE=$("#"+aH.GetInputName());if(aI){aE.removeClass("siebui-btn-icon-e siebui-btn-icon-d").addClass(aG?"siebui-btn-icon-e":"siebui-btn-icon-d").find("a").attr("tabindex",aG?(aH.GetSeq()||0):"-1").attr("data-seq",aG?(aH.GetSeq()||0):"-1").html(aI)}}else{$("#"+(aH.GetInputName()+"_Ctrl")).removeAttr("disabled").attr("disabled",!aG);$("#"+(aH.GetInputName()+"_Ctrl")).removeClass("appletButton appletButtonDis").addClass((aG?"appletButton":"appletButtonDis"))}}else{if(aH.GetUIType()===A){aE=$("#"+aH.GetInputName())[aD]||$("[name="+aH.GetInputName()+"]")[aD];if($(aE).length>0&&CKEDITOR.instances[aH.GetInputName()]){CKEDITOR.instances[aH.GetInputName()].setReadOnly(!aG)}}else{aE=$("#"+aH.GetInputName())[aD]||$("[name="+aH.GetInputName()+"]")[aD];$(aE).removeAttr("readOnly").attr("readOnly",!aG).attr("aria-readonly",!aG)}}};ac.prototype.UpdateUIControls=function(aC){var aC=this.GetPM().Get("GetControls");for(var aE in aC){if(aC.hasOwnProperty(aE)){var aD=aC[aE];var aF=aD.GetFieldName();if(!X.IsEmpty(aF)){this.EnableControl(aD,this.GetPM().ExecuteMethod("CanUpdate",aD.GetName()))}}}};ac.prototype.UpdateUIButtons=function(){var aC=this.GetPM().Get("GetControls");for(var aF in aC){if(aC.hasOwnProperty(aF)){var aE=aC[aF];if(aE.GetUIType()===j){var aD=aE.GetDisplayName();
var aG=this.GetPM().ExecuteMethod("CanInvokeMethod",aE.GetMethodName());this.EnableControl(aE,aG)}}}};ac.prototype.FocusFirstControl=function(){var aD=this.GetPM().Get("GetControls");var aC=9999;this.SetFirstControl(null);for(var aG in aD){if(aD.hasOwnProperty(aG)){var aF=aD[aG];var aH=aF.GetFieldName();if(!X.IsEmpty(aH)){if(aF.GetIndex()&&aF.GetIndex()<aC){var aE=false;if(this.GetPM().Get("IsInQueryMode")===false){aE=this.GetPM().ExecuteMethod("CanUpdate",aG)}else{aE=true}if(aE&&!X.IsEmpty(aF.GetUIType())&&(aF.isBasicControl()||aF.GetUIType()[0]==="J"||aF.GetUIType()===ar||aF.GetUIType()===a)){aC=aF.GetIndex();this.SetFirstControl($("#"+aF.GetInputName())[0]||$("[name="+aF.GetInputName()+"]")[0]);break}}}}}if(this.GetFirstControl()!=null){this.GetFirstControl().focus();return}this.FocusFirstNonEditableControl()};ac.prototype.FocusFirstNonEditableControl=function(){var aD=this.GetPM().Get("GetControls");var aC=9999;var aG;for(var aF in aD){if(aD.hasOwnProperty(aF)){var aE=aD[aF];if(aE.GetIndex()<aC&&(!X.IsEmpty(aE.GetUIType())&&aE.GetUIType()!=="Button"&&aE.GetUIType()!=="Label")){this.SetFirstControl($("#"+aE.GetInputName())[0]||$("[name="+aE.GetInputName()+"]")[0]);break}}}aG=this.GetFirstControl();if(aG&&$(aG).length>0){$(aG).focus()}};ac.prototype.SetFocusToControl=function(aE,aD){var aC=this.GetPM().Get("GetControls");var aF=null;for(var aH in aC){if(aC.hasOwnProperty(aH)){var aG=aC[aH];if(aE==aH){if(!X.IsEmpty(aG.GetMethodName())){aF=$("#"+(aG.GetInputName()+"_Ctrl"))}else{aF=$("#"+aG.GetInputName())[0]||$("[name="+aG.GetInputName()+"]")[0]}if(aD){$(aF).focus()}else{$(aF).blur()}return true}}}};function ak(aD,aE){var aC=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(aD){aC.addClass("Selected siebui-applet-active").removeClass("NotSelected siebui-applet-nonactive")}else{aC.removeClass("Selected siebui-applet-active").addClass("NotSelected siebui-applet-nonactive")}}function q(){var aC=$("#s_"+this.GetPM().Get("GetFullId")+"_div");aC=aC.find("#a_"+this.GetPM().Get("GetId"))[0]||aC;$(aC).attr("tabindex",0).focus()}function ad(aC){return(typeof(aC.GetInputName)==="function")}function af(aF,aE,aD){var aC=this.GetPM().ExecuteMethod("NewFileAttachment");var aG=i.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(aD).fileupload("option","formData",aC);$(aD).fileupload("option","url",SiebelApp.S_App.GetPageURL()+i.get("SWE_ARG_START")+aG)}function ao(aE,aD,aC){var aF=i.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(aC).fileupload("option","url",SiebelApp.S_App.GetPageURL()+i.get("SWE_ARG_START")+aF)}function f(aF,aD){var aG=this.GetPM().ExecuteMethod("NewFileAttachment",aF);var aC=$(aD).fileupload("option","importfiles");$(aD).fileupload("option","formData",aG);var aE={files:aC};SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true,timeOut:false,message:""});$(aD).fileupload("send",aE)}function d(aE,aD){var aC;if(aD.dataType==="iframe "){aC=$(aD.result).find("body").html()}else{aC=aD.result}if(!X.IsEmpty(aC)){SiebelApp.S_App.ProcessResponse(aC);if(this.GetPM()){this.FocusFirstControl()}}}function h(aG,aF){var aC;if(aF.dataType==="iframe "){aC=$(aF.result).find("body").html()}else{aC=aF.result}var aE=CCFMiscUtil_CreatePropSet();for(var aD in aF.formData){if(aF.formData.hasOwnProperty(aD)){aE.SetProperty(aD,aF.formData[aD])}}this.GetPM().ExecuteMethod("ForceProcessResponse",aF.formData.SWEMethod,aE,aC);return}function av(aD,aC){}ac.prototype.InjectQTPInfo=function(aD,aC){if((aD.length!=0)&&(aC!=undefined)){if(typeof(aC.GetObjectType)=="function"){$(aD).attr("ot",aC.GetObjectType())}if(typeof(aC.GetRepstrName)=="function"){$(aD).attr("rn",aC.GetRepstrName())}if(typeof(aC.GetUIName)=="function"){$(aD).attr("un",aC.GetUIName())}}};ac.prototype.InjectAppletQTPInfo=function(aD){var aC=this.GetPM();if((aD.length!=0)&&aC){if(typeof(aC.Get("GetObjectType"))==="string"){$(aD).attr("ot",aC.Get("GetObjectType"))}if(typeof(aC.Get("GetRepstrName"))==="string"){$(aD).attr("rn",aC.Get("GetRepstrName"))}if(typeof(aC.Get("GetUIName"))==="string"){$(aD).attr("un",aC.Get("GetUIName"))}}};ac.prototype.ShowPopup=function(aC){switch(aC.GetUIType()){case ai:case S:case Z:case o:case O:$("[name='"+aC.GetInputName()+"']").next().click();break}return};ac.prototype.GetPhysicalControlValue=function(aE){var aD,aC;if(aE){this.GetPM().AddProperty("PhysicalCtrlVal",aC);aD=$("[name='"+aE.GetInputName()+"']");aC=aD.val()||"";if(this.GetPM().Get("IsInQueryMode")&&aE.GetCaseSensitive()&&(aC===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){aC=""}switch(aE.GetUIType()){case Z:case S:case o:if(this.GetPM().Get("IsInQueryMode")===false){aC=X.toISOFormat(X.Trim(aC),(aE.GetUIType()!==Z))||aC}break;case Q:aC=aD.filter(":checked").val()||"";break;case O:aC=this.FormatDDInQueryMode(aE,aC);break}this.GetPM().AddProperty("PhysicalCtrlVal",aC)}};function c(){var aE=this.GetPM();var aC=aE.Get("GetControls");var aF=aE.Get("IsInQueryMode");aE.ExecuteMethod("SetUpdateConditionals",false);for(var aI in aC){if(aC.hasOwnProperty(aI)){var aH=aC[aI];var aG=aH.GetMethodName();var aD=$("#"+(aH.GetInputName()+"_Ctrl"))[0]||$("#"+aH.GetInputName())[0];if($(aD).length===0&&X.IsEmpty(aH.GetFieldName())){aD=$('[name="'+aH.GetInputName()+'"]')[0]}aD=$(aD);if((aI==="PopupQueryCombobox")||(aI==="PopupQuerySrchspec")||(aI==="PopupQueryExecute")){if(aF){aD.attr("disabled","disabled");if(aI==="PopupQueryExecute"){if(aD.hasClass("appletButton")){aD.removeClass("appletButton")}aD.addClass("appletButtonDis")}}else{if(aD.attr("disabled")){aD.removeAttr("disabled");if(aI==="disabled"){if(aD.hasClass("appletButtonDis")){aD.removeClass("appletButtonDis")}aD.addClass("appletButton")}}}continue}else{if(aI==="QueryAssistant"){if(aF){if(aD.attr("disabled")){aD.removeAttr("disabled");if(aD.hasClass("appletButtonDis")){aD.removeClass("appletButtonDis")}aD.addClass("appletButton")}aD.next().hide()}else{aD.attr("disabled","disabled");if(aD.hasClass("appletButton")){aD.removeClass("appletButton")}aD.addClass("appletButtonDis");aD.next().show()}}}if((!aF&&X.IndexOf(["UndoQuery","ExecuteQuery","ShowQueryAssistant"],aG)!==-1)||(aF&&X.IndexOf(["NewQuery","ToggleListRowCount"],aG)!==-1)){$(aD).hide()}else{if(!X.IsEmpty(aG)&&aE.ExecuteMethod("CanInvokeMethod",aG)){if((aG!=="Drilldown")||!(aD.nextAll("[id^='"+aH.GetInputName()+"']").is(":visible"))){aD.show()}}else{if(aF&&aG&&X.IndexOf(["Find","AddRecords","AddAllRecords","DeleteRecords","DeleteAllRecords"],aG)===-1){aD.hide()}else{aD.show()}}}}}}function E(){var aC=this.GetPM().Get("GetControls");for(var aF in aC){if(aC.hasOwnProperty(aF)){var aE=aC[aF];var aF=aE.GetInputName();var aD=$("#"+aF)[0]||$("input[name="+aF+"]")[0]||$("textarea[name="+aF+"]")[0];if(aD){$(aD).removeAttr("maxLength")}}}}function ab(){var aC=this.GetPM().Get("GetControls");for(var aF in aC){if(aC.hasOwnProperty(aF)){var aE=aC[aF];var aF=aE.GetInputName();var aD=$("#"+aF)[0]||$("input[name="+aF+"]")[0]||$("textarea[name="+aF+"]")[0];
if(aD){$(aD).attr("maxlength",aE.GetMaxSize()||256)}}}}function aa(){var aF=this.GetPM();var aD=aF.ExecuteMethod("GetWSStartRowNum");var aG=Number(aF.Get("GetRowListRowCount"));var aH=(aG>1)?i.get("SWE_ROW_COUNTER_LIST"):i.get("SWE_ROW_COUNTER_FORM");var aC=[];var aJ;var aI;var aK;if(aD===0){aI=SiebelApp.S_App.GetRowCounterTemplateMap(i.get("SWE_ROW_COUNTER_NO_RECORDS"))}else{if(aD>0){aC.push(aD);if(aG>1){aC.push(Number(aF.Get("GetWSEndRowNum")))}aC.push(Number(aF.Get("GetNumRows")));aJ=aH+(aF.Get("IsNumRowsKnown")?i.get("SWE_ROW_COUNTER_TOTAL_KNOWN"):i.get("SWE_ROW_COUNTER_TOTAL_UNKNOWN"));aI=SiebelApp.S_App.GetRowCounterTemplateMap(aJ)}else{if(aD<0&&aD>=-1*aG){if(aG>1){aC.push(Number(-1*aD))}aJ=aH+i.get("SWE_ROW_COUNTER_LAST_RECORD");aI=SiebelApp.S_App.GetRowCounterTemplateMap(aJ)}else{aC.push(Number((-1-aD)));if(aG>1){aC.push(Number(-1-Number(aF.Get("GetWSEndRowNum"))))}aJ=aH+i.get("SWE_ROW_COUNTER_FROM_LAST");aI=SiebelApp.S_App.GetRowCounterTemplateMap(aJ)}}}aK=X.FormatString(aI,aC);var aE=$("#s_"+aF.Get("GetId")+"_rc");aE.addClass("siebui-row-counter").text(aK)}return ac}());return"SiebelAppFacade.PhysicalRenderer"})}if(typeof(SiebelAppFacade.PopupRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PopupRenderer");SiebelAppFacade.PopupRenderer=(function(){var g=SiebelJS.Dependency("SiebelApp.Utils");var e=SiebelJS.Dependency("SiebelApp.Constants");var a=Number(e.get("DEFAULT_POPUP_WIDTH"));var d=Number(e.get("DEFAULT_POPUP_HEIGHT"));function b(k){SiebelAppFacade.PopupRenderer.superclass.constructor.call(this,k)}SiebelJS.Extend(b,SiebelAppFacade.BasePR);b.prototype.Init=function(){SiebelAppFacade.PopupRenderer.superclass.Init.call(this);this.AttachPMBinding("state",f);this.AttachPMBinding("url",c);this.AttachPMBinding("content",h);this.AttachPMBinding("OnLoadPopupContent",j);this.AttachPMBinding("OnLoadPopupContent",i);this.AttachPMBinding("StandAlonePopup",this.ProcessStandAlonePopup)};function c(){SiebelApp.contentUpdater.AddCallBack(this.GetPM().Get("url"),function(){this.ExecuteMethod("OnLoadPopupContent")},this.GetPM());var k=$("[name=popup]");if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Call GetLayout")}k.attr("src",this.GetPM().Get("url"));k=null;setTimeout(function(){SiebelApp.contentUpdater.loadContent(true)},1)}function h(){SiebelApp.S_App.uiStatus.Free();$("[name=popup]").children().remove();$("[name=popup]").addClass("minWidthContainer");$("[name=popup]").dialog("open");$("[name=popup]").html("");$("[name=popup]").append(this.GetPM().Get("content"))}function f(){var n=this.GetPM().Get("state");var p=this.GetPM().Get("isCurrencyOpen");var k=true;if(p){k=false}if(n==e.get("POPUP_STATE_HIDDEN")){if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[name=popup]").dialog("close")}$("div[name=popup]").children().remove().end().dialog("option","buttons",{}).parent().find("div.ui-dialog-buttonset").empty();this.GetPM().SetProperty("isCurrencyOpen",false)}else{if(n==e.get("POPUP_STATE_VISIBLE")){if(SiebelApp.S_App.IsMobileApplication()==="false"){$("div[name=popup]").dialog("open");$("div[name=popup]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").show();$("div[name=popup]").dialog("option","height","auto").dialog("option","width","auto").dialog("option","resizable",k).dialog("option","minWidth",a).dialog("option","minHeight",d);$("div[name=popup]").dialog("option","position","center");var m=this.GetPM();var l;var o;$(".ui-widget-overlay").droppable({drop:function(r,w){var q=w.draggable.attr("id");var z=false;if(q>0){var t=w.draggable.parent().parent().jqGrid("getRowData",q)}var B=$("#s_"+m.Get("baseParentAppletId")+"_div");if(B.length>0){var v=B.offset().top+B.height();var A=B.offset().left+B.width()}if((B.offset().left<r.originalEvent.clientX&&r.originalEvent.clientX<A)&&(B.offset().top<r.originalEvent.clientY&&r.originalEvent.clientY<v)){if(m.Get("isPopupPick")){l=m.Get("PickAppletObject");l.GetPModel().ExecuteMethod("SetSelectionOnDragNDrop",q);z=l.GetPModel().ExecuteMethod("HandleDragNDropInPopup","PickRecord")}if(m.Get("isPopupMVGAssoc")){o=m.Get("MVGAssocParentAppletObject");if(!m.Get("ismultislectmode")){o.GetPModel().ExecuteMethod("SetSelectionOnDragNDrop",q)}var u=o.GetPModel().ExecuteMethod("HandleDragNDropInPopup","AddRecords");if(u){z=o.GetPModel().ExecuteMethod("HandleDragNDropInPopup","CloseApplet")}}if(m.Get("isPopupAssoc")){var s=CCFMiscUtil_CreatePropSet();l=m.Get("AssocAppletObject");if(!m.Get("ismultislectmode")){l.GetPModel().ExecuteMethod("SetSelectionOnDragNDrop",q)}z=l.GetPModel().ExecuteMethod("HandleDragNDropInPopup","AddRecord")}if(!z){w.draggable.animate(w.draggable.data().origPosition,"slow")}else{w.draggable.detach();m.SetProperty("isPopupPick",false);m.SetProperty("isPopupMVGAssoc",false);m.SetProperty("isPopupMVGSelected",false);m.SetProperty("isPopupAssoc",false)}}else{w.draggable.animate(w.draggable.data().origPosition,"slow")}m.SetProperty("ismultislectmode",false)}});j.call(this);SiebelApp.S_App.uiStatus.LocalBusy({mask:true})}}}}function i(){var k=Number(this.GetPM().Get("width"))||0;var l=false;var m=$("div[name=popup]");if(m.find("div.ui-jqgrid").length>0){if(k===a){k*=2}m.width(k);$(window).resize()}else{if(k<a){m.width(a)}else{l=true}}if(l){setTimeout(function(){$("div[name=popup]").width($("div[name=popup]").width()).dialog("option","position","center")},3)}else{m.dialog("option","position","center")}m=null}function j(){if(this.GetPM().Get("currPopups")&&this.GetPM().Get("currPopups")[0]){$("[name='popup']").dialog("option","title",SiebelApp.S_App.LookupStringCache(this.GetPM().Get("currPopups")[0].GetTitle()))}else{$("[name='popup']").dialog("option","title","")}}b.prototype.BindData=function(){SiebelAppFacade.PopupRenderer.superclass.BindData.call(this)};b.prototype.ShowUI=function(){SiebelAppFacade.PopupRenderer.superclass.ShowUI.call(this);if($("[name=popup]").length===0){var k=$('<div name="popup"></div>');var l=SiebelApp.S_App.GetDirection();SiebelApp.S_App.GetTargetViewContainer().append(k);SiebelApp.S_App.uiStatus.LocalBusy({target:"[name=popup]",mask:false});if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[name=popup]").dialog({position:"center",modal:true,autoOpen:false,closeOnEscape:false});$("div[name=popup]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").removeAttr("role").children("span.ui-dialog-title").addClass(l?"ui-dialog-title-rtl":"").next().addClass(l?"ui-dialog-titlebar-close-rtl":"").removeClass(l?"ui-dialog-titlebar-close":"")}}};b.prototype.BindEvents=function(){SiebelAppFacade.PopupRenderer.superclass.BindEvents.call(this);var k=this.GetPM();if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[class*=ui-dialog-titlebar-close]").bind("click",function(l){k.OnControlEvent("ClosePopupByX",l)})}};b.prototype.ProcessStandAlonePopup=function(m,k){var l=window.open(m,"subWind",k)};return b})()};