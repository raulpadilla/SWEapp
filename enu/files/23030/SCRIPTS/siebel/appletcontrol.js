/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.S_App.AppletControl)=="undefined"){SiebelJS.Namespace("SiebelApp.S_App.AppletControl");SiebelApp.S_App.AppletControl=(function(){var utils=SiebelApp.Utils;var consts=SiebelApp.Constants;var S_App=SiebelJS.Dependency("SiebelApp.S_App");var ctrl_mvg=consts.get("SWE_CTRL_MVG");var ctrl_pick=consts.get("SWE_CTRL_PICK");var ctrl_effdat=consts.get("SWE_CTRL_EFFDAT");var CurrencyCal=consts.get("SWE_CTRL_CURRENCY_CALC");var cssMap={FontType:"font-family",FontColor:"color",FontStyle:"font-style",FontWeight:"font-weight",FontSize:"font-size",BgColor:"background-color",Visible:"display",Width:"width",Height:"height"};var ctrlAttrMap={ReadOnly:"readonly"};function AppletControl(){var m_mthdInvkParams=CCFMiscUtil_CreatePropSet();var m_radioGroupPropSet=CCFMiscUtil_CreatePropSet();var m_scriptMap={};var m_messageVariablesMap={};var m_applet;var m_index=null;var m_colNum=-1;var m_width="0";var m_bShowBase=false;var cpmps=null;this.GetPMPropSet=function(){return cpmps};this.SetPMPropSet=function(pmps){cpmps=pmps};this.GetShowBase=function(){return m_bShowBase};this.SetShowBase=function(temp){m_bShowBase=temp};this.GetMethodPropSet=function(){return m_mthdInvkParams};this.ClearMethodPropSet=function(){m_mthdInvkParams=null};this.SetMethodPropSet=function(sourcePropSet){m_mthdInvkParams.Copy(sourcePropSet)};this.SetRadioGroupPropSet=function(sourcePropSet){m_radioGroupPropSet=sourcePropSet};this.ClearRadioGroupPropSet=function(){m_radioGroupPropSet=null};this.GetRadioGroupPropSet=function(){return m_radioGroupPropSet};this.GetScriptMap=function(){return m_scriptMap};this.GetMessageVariableMap=function(){return m_messageVariablesMap};this.GetApplet=function(){return m_applet};this.SetApplet=function(applet){m_applet=applet};this.GetColNum=function(){return m_colNum};this.SetColNum=function(colNum){m_colNum=colNum};this.SetIndex=function(index){m_index=index};this.GetIndex=function(){return((m_index===null)?this.GetColIndex():m_index)};this.GetWidth=function(){return m_width};this.SetWidth=function(width){m_width=width}}AppletControl.prototype.IsCalc=function(){var field=this.GetApplet().GetBusComp().GetField(this.GetFieldName());if(field&&field.IsCalc()){return true}else{return false}};AppletControl.prototype.ProcessMethodProps=function(childSet){var mthdPropSet=this.GetMethodPropSet();if(mthdPropSet.length>0){this.ClearMethodPropSet()}this.SetMethodPropSet(childSet)};AppletControl.prototype.ProcessObjectInfo=function(controlInfo){var type=controlInfo.GetType();this.GetControlType=function(){return type};if(type!=consts.get("SWE_PST_CNTRL")&&type!=consts.get("SWE_PST_COL")&&type!=consts.get("SWE_PST_CUSTOM_CTRL")){throw new Error()}var curry_accessor=utils.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,controlInfo);curry_accessor("IsDynamic","SWE_PROP_IS_DYNAMIC");curry_accessor("GetName","SWE_PROP_NAME",true);curry_accessor("GetUIType","SWE_PROP_TYPE",true);curry_accessor("GetDisplayName","SWE_PROP_DISP_NAME",true);curry_accessor("GetDisplayFormat","SWE_PROP_DISP_FORMAT",true);curry_accessor("GetFieldName","SWE_PROP_FLD_NAME",true);curry_accessor("GetJustification","SWE_PROP_JUSTIFICATION",true);curry_accessor("GetDirection","SWE_PROP_DIRECTION");curry_accessor("GetEDEnabled","SWE_PROP_ED_ENABLED");curry_accessor("GetForceLTRText","SWE_PROP_FORCELTR_TEXT");curry_accessor("GetColIndex","SWE_PROP_COLINDEX");curry_accessor("GetInputMethod","SWE_PROP_INPUTMETHOD");curry_accessor("GetPrompt","SWE_PROP_PROMPT");curry_accessor("IsAutoResize","SWE_PROP_IS_AUTOSIZE");curry_accessor("GetMethodName","SWE_PROP_MTHD_NAME",true);curry_accessor("GetEnabledBmp","SWE_PROP_ENABLED_BMP");curry_accessor("GetDisabledBmp","SWE_PROP_DISABLED_BMP");curry_accessor("GetIconMap","SWE_PROP_ICON_MAP");curry_accessor("GetDispMode","SWE_PROP_DISP_MODE",true);curry_accessor("GetMaxChars","SWE_PROP_DISP_MAX_CHARS");curry_accessor("GetHeight","SWE_PROP_HEIGHT");curry_accessor("GetSeq","SWE_PROP_SEQ");curry_accessor("IsBoundedPick","SWE_PROP_IS_BOUND_PICK");curry_accessor("GetPickApplet","SWE_PROP_PICK_APLT",true);curry_accessor("GetPopupHeight","SWE_PROP_POPUP_HEIGHT");curry_accessor("GetPopupWidth","SWE_PROP_POPUP_WIDTH");curry_accessor("GetPopupType","SWE_PROP_POPUP_TYPE");curry_accessor("GetMaxSize","SWE_PROP_MAX_SIZE");curry_accessor("GetCurrField","SWE_PROP_CURR_FLD");curry_accessor("GetDefaultMethod","SWE_PROP_DEF_METHOD");curry_accessor("IsSortable","SWE_PROP_IS_SORTABLE");curry_accessor("GetCtrlFldEncode","SWE_PROP_CTRLFLD_ENCODE");curry_accessor("GetCaseSensitive","SWE_PROP_CASE_SENSITIVE");curry_accessor("IsEditEnabled","SWE_PROP_IS_EDIT");curry_accessor("GetValue","SWE_PROP_VALUE");curry_accessor("IsEncode","SWE_PROP_IS_ENCODE");curry_accessor("GetLabelJustification","SWE_PROP_LABEL_JUSTIFICATION");curry_accessor("GetHTMLAttr","SWE_PROP_HTML_ATTRIBUTE");var propstr;if(type==consts.get("SWE_PST_COL")){propstr=controlInfo.GetProperty(consts.get("SWE_PROP_COLINDEX"));if(propstr){this.SetColNum(parseInt(propstr))}curry_accessor("GetSpanPrefix","SWE_PROP_SPAN");this.GetInputName=function(){var rowNo=this.GetApplet().GetSelection();return this.GetSpanPrefix()+rowNo}}else{curry_accessor("GetInputName","SWE_PROP_SPAN")}propstr=controlInfo.GetProperty(consts.get("SWE_PROP_WIDTH"));if(propstr){this.SetWidth(propstr)}curry_accessor("GetRTCLaunchpadEnabled","SWE_PROP_RTC_LAUNCHPAD");curry_accessor("GetRTCAlwaysShowToolbars","SWE_PROP_RTC_TOOLBARS");curry_accessor("GetRTCGraphic","SWE_PROP_RTC_GRAPHIC");curry_accessor("GetRTCLink","SWE_PROP_RTC_LINK");curry_accessor("GetControlMsg","SWE_PROP_CTRL_MESSAGE");if(!utils.IsEmpty(this.GetIconMap())||this.GetDispMode()=="DontEncodeData"||this.GetDispMode()=="FormatData"||this.GetUIType()=="URL"||this.GetUIType()=="Mailto"){this.SetShowBase(true)}var imp=consts.get("SWE_PST_INVK_MTHD_PARAMS");var pvs=consts.get("SWE_PST_VALUE_SET");var qtpi=consts.get("SWE_PST_QTP_INFO");var s=consts.get("SWE_PST_SCRIPTS");var cpm=consts.get("SWE_CTRL_PM_PS");var mvs=consts.get("SWE_PST_MSG_VARIABLES");var nChildCount=controlInfo.GetChildCount();for(var i=0;i<nChildCount;i++){var childSet=controlInfo.GetChild(i);var childType=childSet.GetType();switch(childType){case mvs:var key;for(var bGetFirst=true;(key=childSet.EnumProperties(bGetFirst))!==null;bGetFirst=false){if(!this.GetMessageVariableMap()[key]){this.GetMessageVariableMap()[key]=childSet.GetProperty(key)}}break;case cpm:this.SetPMPropSet(childSet.Clone());break;case imp:this.ProcessMethodProps(childSet);break;case pvs:var radioGroupPropSet=this.GetRadioGroupPropSet();if(!radioGroupPropSet.IsEmpty()){this.ClearRadioGroupPropSet()}for(var i=0;i<childSet.GetChildCount();i++){var childPS=childSet.GetChild(i);var propValue=childPS.GetProperty("FieldValue");var propSelected=childPS.GetProperty("Selected");if(propSelected){var returnVal=propValue;this.GetValue=function(){return returnVal}}}this.SetRadioGroupPropSet(childSet);break;case s:var prop=childSet.EnumProperties(true);do{if(childSet.GetProperty(prop)!=""&&childSet.GetProperty(prop)!=undefined){this.GetScriptMap()[prop]=childSet.GetProperty(prop)
}}while((prop=childSet.EnumProperties(false)));break;case qtpi:var curry_accessor_qtp=utils.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,childSet);curry_accessor_qtp("GetObjectType","SWE_PROP_QTP_OT");curry_accessor_qtp("GetRepstrName","SWE_PROP_QTP_RN");curry_accessor_qtp("GetUIName","SWE_PROP_QTP_UN");break;default:break}}var popUpType=this.GetPopupType();if(this.isBasicControl()){return}else{if(utils.IsTrue(this.IsEditEnabled())&&(popUpType===consts.get("SWE_CTRL_MVG"))){this.GetUIType=function(){return ctrl_mvg}}else{if(utils.IsTrue(this.IsEditEnabled())&&(popUpType===consts.get("SWE_CTRL_DETAIL"))){return}else{if(utils.IsTrue(this.IsEditEnabled())&&(popUpType===consts.get("SWE_CTRL_EFFDAT"))){this.GetUIType=function(){return ctrl_effdat}}else{if(utils.IsTrue(this.IsEditEnabled())&&(popUpType!==consts.get("SWE_CTRL_MVG"))){this.GetUIType=function(){return ctrl_pick}}}}}}controlInfo=null};AppletControl.prototype.isBasicControl=function(){var controlUIType=this.GetUIType();var controlArray=new Array("JComboBox","JCurrencyCalc","JTextArea","JDateTimeZonePick","JDateTimePick","JCalculator","JDatePick","URL","Mailto","Button");for(var i=0;i<controlArray.length;i++){if(controlArray[i]===controlUIType){return true}}return false};AppletControl.prototype.GetLabelProperty=function(propName){var sControlId=this.GetName()+"_Label";return $("#"+sControlId).css(cssMap[propName]||"")};AppletControl.prototype.SetLabelProperty=function(propName,propValue){var sControlId=this.GetName()+"_Label";$("#"+sControlId).css(cssMap[propName]||"",propValue);return true};AppletControl.prototype.GetProperty=function(propName){var sControlId=this.GetInputName();if(cssMap[propName]){return $("[name='"+sControlId+"']").css(cssMap[propName])}else{return $("[name='"+sControlId+"']").attr(ctrlAttrMap[propName]||"")}};AppletControl.prototype.SetProperty=function(propName,propValue){var sControlId=this.GetInputName();if(cssMap[propName]){$("[name='"+sControlId+"']").css(cssMap[propName],propValue)}else{$("[name='"+sControlId+"']").attr(ctrlAttrMap[propName]||"",propValue)}};AppletControl.prototype.FireOnFocus=function(){var script;script=this.GetScriptMap()["onfocus"];if(script){eval(script)}};AppletControl.prototype.FireOnBlur=function(){var script;script=this.GetScriptMap()["onblur"];if(script){eval(script)}};AppletControl.prototype.ShowPopup=function(){this.OpenPopup();return};AppletControl.prototype.OpenPopup=function(){if(this.GetUIType()==CurrencyCal){this.OnEditField()}return};AppletControl.prototype.OnEditField=function(){var inputPropSet=CCFMiscUtil_CreatePropSet();inputPropSet.SetProperty(consts.get("SWE_FIELD_STR"),this.GetInputName());inputPropSet.SetProperty("SWECSP","false");inputPropSet.SetProperty("SWEJI","false");inputPropSet.SetProperty("SWEP","");this.GetApplet().InvokeMethod("EditField",inputPropSet);return};return AppletControl}())}if(typeof(SiebelApp.S_App.ToggleApplet)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.ToggleApplet");SiebelApp.S_App.ToggleApplet=(function(){var a=SiebelJS.Dependency("SiebelApp.Constants");var d=SiebelJS.Dependency("SiebelApp.S_App");var b=SiebelJS.Dependency("SiebelApp.Utils");function c(){var g=-1;var f="SiebToggle";var e=[];var h;this.GetToggleListArray=function(){return e};this.SetControlId=function(i){h=i};this.GetControlId=function(){return h};this.SetToggleSeq=function(i){g=i};this.GetToggleSeq=function(){return g};this.GetName=function(){return f}}c.prototype.ProcessObjectInfo=function(k){var j;var h=k.GetType();if(h!=a.get("SWE_PST_TOGGLE_INFO")){return}j=k.GetProperty(a.get("SWE_PROP_TOGGLE_ITEMS"));if(!b.IsEmpty(j)){var e=[];CCFMiscUtil_StringToArray(j,e);var g=e.length;for(var f=0;f<g;f++){j=d.LookupStringCache(e[f]);this.GetToggleListArray().push(j)}}j=k.GetProperty(a.get("SWE_PROP_TOGGLE_SEQUENCE"));if(!b.IsEmpty(j)){this.SetToggleSeq(parseInt(j,10));if(this.GetToggleSeq()<0||this.GetToggleSeq()>=this.GetToggleListArray().length){this.SetToggleSeq(-1);return}}this.SetControlId(k.GetProperty(a.get("SWE_PROP_TOGGLE_CTRL_ID")));return};c.prototype.Initialize=function(){var f="";var h=this.GetToggleListArray();var j=h.length;var e=$("[name='"+this.GetControlId()+"']");for(var g=0;g<j;g++){if(this.GetToggleSeq()===g){f+='<option value = "'+g+'"selected = "selected">'+h[g]+"</>"}else{f+='<option value = "'+g+'">'+h[g]+"</>"}}e.attr("tabindex","0");e.append(f);this.InjectQTPInfo(e);return f};c.prototype.InjectQTPInfo=function(e){if(e.length!=0){$(e).attr("ot","SiebToggle");$(e).attr("rn","SiebToggle");$(e).attr("un","SiebelToggle")}};return c}())};