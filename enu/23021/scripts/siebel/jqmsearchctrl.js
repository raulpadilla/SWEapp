if(typeof(SiebelAppFacade.JQMSearchCtrl)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMSearchCtrl");SiebelAppFacade.JQMSearchCtrl=(function(){var b=SiebelApp.Constants;function e(f){var g;this.SetContainer=function(h){this.GetContainer=function(){return h}};this.GetRenderer=function(){return f};this.SetColumnId=function(h){g=h};this.GetColumnId=function(){return g}}e.prototype.ShowUI=function(h,m){this.SetContainer($("#"+m));var n=$("#s_"+this.GetRenderer().GetPM().Get("GetFullId")+"_div");var l="";for(var j=0,g=h.length;j<g;j++){l+="<option>"+h[j]+"</option>"}var f="";f='<div id="'+m+'_AppletSearch" class="AppletSearchContainer"><fieldset id="'+m+'_searchContainer" class="SearchFieldSet" data-role="controlgroup" data-type="horizontal"><label for="'+m+'_searchField"/><select id="'+m+'_searchField">'+l+'</label><label for="'+m+'_searchInput"><input type="search" id="'+m+'_searchInput" value="" /></fieldset></div>';$(this.GetContainer()).prepend(f).trigger("create");$("#"+m+"_searchField").bind("change",function(i){});var k=$("#"+m+"_searchField");k.selectedIndex=0;k.selectmenu("refresh");this.GetInputField=function(){return $("#"+m+"_searchInput")};this.GetSearchField=function(){return $("#"+m+"_searchField")};this.GetInputField().bind("focus",{ctx:this},a).bind("blur",{ctx:this},d).bind("keydown",{ctx:this},c).val(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SEARCH_WATER_MARK"))};e.prototype.GetSelectedField=function(){return $(this.GetSearchField()).val()};e.prototype.GetSearchField=function(){return $()};e.prototype.BindData=function(g,f){};function a(h){var f=h.data.ctx;if($(this).val()===String(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SEARCH_WATER_MARK"))){$(this).val("")}var g=f.GetRenderer().GetPM();g.OnControlEvent(b.get("PHYEVENTS_APPLET_FOCUS"))}function d(){if(!$(this).val()){$(this).val(String(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SEARCH_WATER_MARK")))}}function c(k){var g=k.data.ctx;if(k.which===$.ui.keyCode.ENTER){var l=g.GetInputField().attr("value");var f={};var j=g.GetRenderer().GetPM().Get("ListOfColumns");for(var h=0;h<j.length;h++){if(j[h].control.GetDisplayName()===(g.GetSelectedField())){var m=j[h].control.GetSpanPrefix()+"0";g.SetColumnId(m);g.GetRenderer().GetPM().AddProperty("SearchColumnId",m);g.GetRenderer().GetPM().AddProperty("SearchValue",l);g.GetRenderer().GetPM().AddProperty("SearchField",j[h].control.GetName());break}}f[g.GetSelectedField()]=l;g.GetRenderer().GetPM().ExecuteMethod("Query",f);this.blur();return false}}return e}())};