var bCFG_frameworkInitialized=false;var bCFG_clientJsDebug=false;var CFG_OLD_UIFramework=null;var CFG_ControlPropSet_old=null;var CFG_LastControlId="";var _pipe="[~^`";var _underscore="`^~[";window.top.maxLoopBuffer=5000;var requestQueueTimeOut=180000;window.top.m_collapsedCtrl=new Array();function CFG_framework(){}function CFG_framework_Init(e,b,a,g,d,c){if(Top().SWEPopupWin){Top().SWEPopupWin.close()}if(!bCFG_frameworkInitialized){var f=document.getElementById("_sweclient");f.className="siebui-ecfg-fullsize";this.m_controlPropSet=new JSSPropertySet();this.m_bQuickEdit=false;this.m_sButtonId="";this.m_sQEBtnONText="";this.m_sQEBtnOFFText="";this.m_bEngineState=false;this.m_bQuickEditDirtyFlag=false;this.m_DirtyItemArray=new Array();this.m_DirtyIdLookUp=new Array();this.m_bDeferUpdate=false;this.m_bDirtyQueue=false;this.m_bCalculateDynamicShowHide=false;if(CFG_OLD_UIFramework!=null){this.m_grandChildAttrArray=CFG_OLD_UIFramework.m_grandChildAttrArray}else{this.m_grandChildAttrArray=new Array()}this.m_grandChildAttrRowIdArray=new Array();this.m_preInvokeMethod=new Array();this.m_bRequestLock=false;this.m_requestQueue=new Array();this.m_requestQueueIndex=0;this.m_maxMsg=3;this.m_curMsg=0;this.m_requestQueueTimeStamp=-(requestQueueTimeOut);this.m_topRequireMoreChild="";this.m_missingReqAttrArray=new Array();this.CFG_frameworkObjId=e;this.CFG_frameworkRootIntId=a;this.CFG_frameworkRootId=b;this.CFG_frameworkProdId=g;this.CFG_frameworkProdName=d;this.CFG_frameworkVersion=c;this.whiteImage="&nbsp;";this.conflictIcon='<img src="images/icon_configure_conflict.gif" alt="">';this.redStar='<IMG src="images/icon_configure_requiredcat.gif" border="0" space="0" hspace="0" />';bCFG_frameworkInitialized=true}else{}}function CFG_framework_InitIconLabel(){var d="";var a="";var b="";var c="";if(this.customizeIcon!=null&&this.explanationIcon!=null&&this.editFieldIcon!=null&&this.removeIcon!=null){return}d=m_UIFramework.GetTemplateVarValue("sCustomizeLabel");if(d==""){d="Customizie"}this.customizeIcon='<img src="images/icon_configure.gif" border="0" space="0" hspace="0" alt="'+d+'" title="'+d+'" />';a=m_UIFramework.GetTemplateVarValue("sExplanationLabel");if(a==""){a="Explanation"}this.explanationIcon='<img src="images/icon_explain.gif" border="0" space="0" hspace="0" alt="'+a+'" title="'+a+'" />';b=m_UIFramework.GetTemplateVarValue("sEditFieldLabel");if(b==""){b="EditField"}this.editFieldIcon='<img src="images/icon_pick.gif" border="0" space="0" hspace="0" alt="'+b+'" title="'+b+'" />';c=m_UIFramework.GetTemplateVarValue("sRemoveLabel");if(c==""){c="Remove"}this.removeIcon='<img src="images/icon_delete.gif" border="0" space="0" hspace="0" alt="'+c+'" title="'+c+'" />'}function CFG_framework_AddControls(a){this.m_controlPropSet.DecodeFromString(a)}function CFG_framework_ShowExplanation(strPropSet){eval("showExplanation (strPropSet);")}function CFG_framework_ShowControl(){var i;var childPropSet;childPropSet=this.m_controlPropSet.EnumChildren(true);while(childPropSet!=null){if(CFG_OLD_UIFramework===null){eval(childPropSet.GetProperty("Show"))}else{if(CFG_OLD_UIFramework.m_controlPropSet.GetChildByType(childPropSet.GetType())==null){eval(childPropSet.GetProperty("Show"))}else{if(typeof(childPropSet.GetProperty("Show"))!="undefined"){if(childPropSet.GetType()==CFG_LastControlId){eval(childPropSet.GetProperty("Show"))}else{var type=childPropSet.GetType();if(type.indexOf("PORTITEM")!=-1&&type.indexOf("INTID")!=-1){var parentPath=childPropSet.GetProperty("Parent Path");var portItemId=childPropSet.GetProperty("Port Item Id");var portItemPS=this.m_controlPropSet.GetChildByType(parentPath+_underscore+"PORT"+_pipe+portItemId);if(portItemPS!=null){var portItemCount=portItemPS.GetProperty("PortItemCount");if(portItemCount==null||portItemCount==="NaN"){portItemCount="0"}portItemCount++;(this.m_controlPropSet.GetChildByType(parentPath+_underscore+"PORT"+_pipe+portItemId)).SetProperty("PortItemCount",portItemCount)}}}}}}childPropSet=null;childPropSet=this.m_controlPropSet.EnumChildren(false)}if(IsOpenUI()){$("body").css("cursor","default")}else{if(typeof(top.cfgAnchorId)!="undefined"&&top.cfgAnchorId!=null&&top.cfgAnchorId!=""){window.location="#"+top.cfgAnchorId}}top.cfgAnchorId=""}function CFG_framework_NewHeaderImage(a){var c=new JSSPropertySet();c.DecodeFromString(a);var b=c.GetProperty("RootProdId");if(b==m_UIFramework.CFG_frameworkProdId){var d="img_product_header";var f=c.GetProperty("NewImage");var e=document.getElementById(d);e.src=f}}function CFG_framework_RecalculateDynamicShowHide(){this.m_bCalculateDynamicShowHide=true;SubmitToQueue("m_UIFramework.RefreshUI ()");this.m_bCalculateDynamicShowHide=false}function CFG_framework_UpdateCanInvoke(k){var l=null;var d=true;var h=null;var n="";var g=0;var a="";var b=0;var i=new JSSPropertySet();var f="";var c=null;i.DecodeFromString(k);h=i.GetChildByType("CanInvokeMethod");if(h==null){return}b=h.GetPropertyCount();for(d=true,g=0;g<b;g++,d=false){n="";f="";c=null;a="";if(d){f=h.GetFirstProperty()}else{f=h.GetNextProperty()}if(f!=""){var m=f+_underscore+"LINK";var o=$("#"+jqSelector(m));a=h.GetProperty(f);if(o.attr("type")==="button"){if(a!==""){o.removeAttr("disabled");o.attr("class","appletButton")}else{o.attr("disabled","disabled");o.attr("class","appletButtonDis")}}else{if(a!=""){var m="";var e="";c=document.getElementById(f);if(c!=null||bCFG_clientJsDebug){n=c.innerHTML;m=f+_underscore+"LINK";e='<a id="'+m+'" href=\'JavaScript:processInput("'+f+'", "'+a+'","linkMethod")\'>'+n+"</a>";c.innerHTML=e;if(c.className=="minibuttonOff"){c.className="minibuttonOn"}}}else{c=document.getElementById(f+_underscore+"LINK");if(c!=null||bCFG_clientJsDebug){RemoveNodeCustom(c)}c=document.getElementById(f);if(c.className=="minibuttonOn"){c.className="minibuttonOff"}}}}}}function CFG_framework_UpdateGenerics(i){var k=null;var m=null;var d=true;var l=null;var b=null;var h=null;var f=0;var a=0;var g=new JSSPropertySet();var e="";var c=null;g.DecodeFromString(i);h=g.GetChildByType("Generic Info");if(h==null){return}k=h.GetChildByType("Add");if(k!=null){a=k.GetPropertyCount();for(d=true,e=null,f=0;f<a;f++,d=false,e=null){if(d){e=k.GetFirstProperty()}else{e=k.GetNextProperty()}if(e!=null){c=document.getElementById(e);if(c!=null){c.innerHTML=this.redStar}}}}l=h.GetChildByType("Delete");if(l!=null){a=l.GetPropertyCount();for(d=true,e=null,f=0;f<a;f++,d=false,e=null){if(d){e=l.GetFirstProperty()}else{e=l.GetNextProperty()}if(e!=null){c=document.getElementById(e);if(c!=null){c.innerHTML=this.whiteImage}}}}m=h.GetChildByType("AddChildren");if(m!=null){a=m.GetPropertyCount();for(d=true,e=null,f=0;f<a;f++,d=false,e=null){if(d){e=m.GetFirstProperty()}else{e=m.GetNextProperty()}if(e!=null){c=document.getElementById("MENUBUTTON_"+e);if(c!=null){c.innerHTML=_blackBullet}}}}b=h.GetChildByType("DeleteChildren");if(b!=null){a=b.GetPropertyCount();for(d=true,e=null,f=0;f<a;f++,d=false,e=null){if(d){e=b.GetFirstProperty()}else{e=b.GetNextProperty()}if(e!=null){c=document.getElementById("MENUBUTTON_"+e);
if(c!=null){c.innerHTML=_greenBullet}}}}}function CFG_framework_UpdateSignal(strControlPropSet){var sigPropSet=null;var k=0;var nChildCount=0;var propSet=new JSSPropertySet();var updateFunction="";var updateSig="";propSet.DecodeFromString(strControlPropSet);nChildCount=propSet.GetChildCount();for(k=0;k<nChildCount;k++){sigPropSet=null;sigPropSet=propSet.GetChild(k);if(sigPropSet!=null){updateFunction=updateSig="";updateSig=sigPropSet.GetProperty("CfgJSUpdateSignal");if(updateSig!=""){updateFunction=updateSig+" (sigPropSet);";eval(updateFunction)}}}}function updateSignal(g){var k=null;var a=true;var l=null;var d=0;var e=null;var c="";var b=null;var h=null;var f=null;var i="";i=g.GetType();k=g.GetChildByType("Add");if(k!=null){f=null;f=document.getElementById("CfgMsgSig");if(f!=null){nPropertyCount=k.GetPropertyCount();for(a=true,c=null,d=0;d<nPropertyCount;d++,a=false,c=null){if(a){c=k.GetFirstProperty()}else{c=k.GetNextProperty()}if(c!=null){h=f.appendChild(document.createElement("div"));h.className="div-table-row";h.id=c;b=h.appendChild(document.createElement("div"));b.className="div-table-col";b.innerHTML="";b.style.width="0%";b.vAlign="top";b=h.appendChild(document.createElement("div"));b.className="div-table-col siebui-ecfg-bullet";b.innerHTML=c;b.style.width="100%";b.colSpan="2";h.style.display="none"}}}}l=g.GetChildByType("Delete");if(l!=null){nPropertyCount=l.GetPropertyCount();for(a=true,c=null,d=0;d<nPropertyCount;d++,a=false,c=null){if(a){c=l.GetFirstProperty()}else{c=l.GetNextProperty()}if(c!=null){h=document.getElementById(c);if(h!=null){if(document.all){h.removeNode(true)}else{h.parentNode.removeChild(h)}}}}}e=g.GetChildByType("Message");if(typeof(e)!="undefined"&&e!=null){showMessage(e)}}function CFG_framework_UpdateResources(a){var f=true;var c=null;var d=0;var g=0;var b=new JSSPropertySet();var e="";var h=null;b.DecodeFromString(a);c=b.GetChildByType("Resource");if(c==null){return}g=c.GetPropertyCount();for(f=true,e=null,d=0;d<g;d++,f=false,e=null){if(f){e=c.GetFirstProperty()}else{e=c.GetNextProperty()}if(e!=null){h=document.getElementById("GRPITEM"+_pipe+e);if(h!=null){h.innerHTML=c.GetProperty(e)}}}}function CFG_framework_UpdateRootProdInfo(a){var f=true;var c=null;var d=0;var g=0;var b=new JSSPropertySet();var e="";var h=null;b.DecodeFromString(a);c=b.GetChildByType("Delta Root");if(c==null){return}g=c.GetPropertyCount();for(f=true,e=null,d=0;d<g;d++,f=false,e=null){if(f){e=c.GetFirstProperty()}else{e=c.GetNextProperty()}if(e!=null){h=document.getElementById("GRPITEM"+_pipe+e);if(h!=null){h.innerHTML=c.GetProperty(e)}if(e=="Top RequireMoreChild"){this.m_topRequireMoreChild=c.GetProperty(e)}}}}function CFG_framework_UpdateSelectionInfo(strControlPropSet){var nSelectInfoCount;var i;var rowId;var selectInfoPS=null;var updateSelectionInfoPropSet=new JSSPropertySet();var updateSelection="";var updateFunction="";updateSelectionInfoPropSet.DecodeFromString(strControlPropSet);selectInfoPS=updateSelectionInfoPropSet.GetChildByType("SelectionInfo");if(selectInfoPS==null){return}nSelectInfoCount=selectInfoPS.GetChildCount();for(i=0;i<nSelectInfoCount;i++){updateSelection=updateFunction="";var selectInfoPropSet=selectInfoPS.GetChild(i);updateSelection=selectInfoPropSet.GetProperty("CfgJSUpdateSelection");if(updateSelection!=""){updateFunction=updateSelection+" (selectInfoPropSet);";eval(updateFunction)}}}function updateSelectionInfoForAttribute(b){var k=null;var e=b.GetProperty("AttName");var g=b.GetProperty("AttValue");var h=b.GetProperty("XA Id");var f=b.GetProperty("Usage");var c=b.GetProperty("AttValueOld");var i=b.GetProperty("Parent Path");var a=null;var d=b.GetProperty("RequireMoreChild");var j=document.getElementById("GENERICS"+_pipe+i+_underscore+"ATTR"+_pipe+h);if(j!=null){if(d=="Y"){j.innerHTML=m_UIFramework.redStar}else{j.innerHTML=m_UIFramework.whiteImage}}if(f=="TextBox"){k=document.getElementById("GRPITEM"+_pipe+i+_underscore+"ATTR"+_pipe+h+_underscore+"ATTTYPE"+_pipe+"TEXT");if(k!=null||bCFG_clientJsDebug){k.value=g}}else{if(f.indexOf("Combo")==0){if(g!=""&&typeof(g)!="undefined"){k=document.getElementById(i+_underscore+"ATTR"+_pipe+h+_underscore+"ATTRDOMAIN"+_pipe+g);if(k!=null||bCFG_clientJsDebug){k.selected=true}}}else{if(f=="Radio"){if(g!=""&&typeof(g)!="undefined"){a=k=null;a=document.getElementById(i+_underscore+"ATTR"+_pipe+h+_underscore+"ATTVAL"+_pipe+g+_underscore+"FIELD"+_pipe+"Input");if(a!=null||bCFG_clientJsDebug){k=a.getElementsByTagName("input");if(k!=null||bCFG_clientJsDebug){k[0].checked=true}}}if(c!=""&&typeof(c)!="undefined"){a=k=null;a=document.getElementById(i+_underscore+"ATTR"+_pipe+h+_underscore+"ATTVAL"+_pipe+c+_underscore+"FIELD"+_pipe+"Input");if(a!=null||bCFG_clientJsDebug){k=a.getElementsByTagName("input");if(k!=null||bCFG_clientJsDebug){k[0].checked=false}}}}}}}function checkForceRefresh(d,e,h){var f=null;var c=false;var b=false;var j=null;var a=0;var g=0;var i="";i=d.GetProperty("ForceRefresh");f=d.GetChildByType("Add");if(f!=null){a=f.GetChildCount()}if(a>0&&e){c=true}j=d.GetChildByType("Delete");if(j!=null){g=j.GetChildCount()}if(g>0&&h){b=true}if((c||b)&&i!="undefined"&&i!=null&&i.toUpperCase()=="Y"){SubmitToQueue("m_UIFramework.RefreshUI ()")}}function updatePortItemsForComboAddWithoutQtyCtrl(a){a.SetProperty("NoQtyCtrl","Y");updatePortItemsForComboAdd(a)}function updatePortItemsForComboAddAttr(a){updatePortItemsForComboAddHelper(a);checkForceRefresh(a,true,false)}function updatePortItemsForComboAdd(a){updatePortItemsForComboAddHelper(a);checkForceRefresh(a,true,true)}function updatePortItemsForComboAddHelper(v){var w=null;var u=null;var s=null;var H=null;var m=null;var p=null;var d="";var n="";var z=null;var D=null;var E=0;var x=null;var e=0;var y="";var a="";var B=0;var A="";var r="";var h="";var q="";var g=null;var t="";var c=null;var f=null;var F=v.GetProperty("NoQtyCtrl");t=v.GetType();s=m_UIFramework.m_controlPropSet.GetChildByType(t);t=t.replace(/PORT/,"PORTITEM");B=(s.GetProperty("PortItemCount")=="NaN")?"0":s.GetProperty("PortItemCount");w=v.GetChildByType("Add");if(w!=null){e=w.GetChildCount();for(E=0;E<e;E++){h="";D=null;D=new JSSPropertySet();D.Copy(w.GetChild(E));h=D.GetProperty("Path");D.SetType(t+_underscore+"INTID"+_pipe+h);CFG_LastControlId=t+_underscore+"INTID"+_pipe+h;m_UIFramework.m_controlPropSet.AddChild(D);if(F=="Y"){D.SetProperty("NoQtyCtrl",F)}addPortItem(t,D);if(E==0){f=D}B++}}x=v.GetChildByType("Modify");if(x!=null){e=x.GetChildCount();for(E=0;E<e;E++){var l=null;D=null;D=x.GetChild(E);d=y=A=a=n="";g=null;d=D.GetProperty("Name");y=D.GetProperty("Path");a=D.GetProperty("Port Item Id");n=D.GetProperty("Value");g=document.getElementById(t+_underscore+"INTID"+_pipe+y+_underscore+"FIELD"+_pipe+d);if(g!=null){l=g.getElementsByTagName("INPUT");if(l.length>0){l[0].value=n}else{g.innerHTML=n}}}}H=v.GetChildByType("Delete");if(H!=null){e=H.GetChildCount();for(E=0;E<e;E++){r=y=a="";D=null;var k="";D=H.GetChild(E);y=D.GetProperty("Path");a=D.GetProperty("Port Item Id");r=t+_underscore+"INTID"+_pipe+y;
deletePortItem(t,r);var k=-1;var G=m_UIFramework.m_controlPropSet.childArray.length;for(var b=0;b<G;b++){var o=m_UIFramework.m_controlPropSet.childArray[b];if(o.type===r){k=b;break}}m_UIFramework.m_controlPropSet.RemoveChild(k);B--}}s.SetProperty("PortItemCount",B);if(B>0){m=document.getElementById(t+_underscore+"FIELDHEADER");if(m==null){c=document.getElementById(t);if(c!=null||bCFG_clientJsDebug){if(c.children.length<=0){m=c.appendChild(document.createElement("div"));m.className="div-table-row"}else{m=c.insertBefore(document.createElement("div"),c.children[0]);m.className="div-table-row"}m.id=t+_underscore+"FIELDHEADER";var i=new JSSPropertySet();var C=f.GetProperty("FieldList");i.DecodeFromString(C);displayFieldHeader(m,i)}}m.style.display=""}else{m=document.getElementById(t+_underscore+"FIELDHEADER");if(m!=null){m.style.display="none"}}}function updatePortItemsForComboBox(a){updatePortItemsForComboBoxHelper(a);checkForceRefresh(a,true,true)}function updatePortItemsForCheckBox(a){updatePortItemsForDomainChildCtrl(a,"CheckBox");checkForceRefresh(a,true,true)}function updatePortItemsForRadio(a){updatePortItemsForDomainChildCtrl(a,"Radio");checkForceRefresh(a,true,true)}function updatePortItemsForQuantityList(a){updatePortItemsForDomainChildCtrl(a,"QuantityList");checkForceRefresh(a,true,true)}function updatePortItemsForDomainChildCtrl(h,i){var N=null;var v=null;var G=null;var L=null;var o=new JSSPropertySet();var q="";var g="";var c="";var p="";var O="";var w=null;var x=null;var K=0;var e=null;var H=0;var z=0;var u=null;var E=null;var A="";var I="";var s="";var n="";var f="";var b="";var C="";var P="";var D="";var t="";var Q="";var m="";var r=null;var l="";var d=null;var F=null;var M=null;var a="";I=_underscore+"PROD"+_pipe;C=h.GetType();v=h.GetChildByType("Delete");if(v!=null){H=v.GetChildCount();for(K=0;K<H;K++){A=D=t=D=P="";x=null;x=v.GetChild(K);D=x.GetProperty("Port Item Id");t=x.GetProperty("Product Id");P=x.GetProperty("Path");A=C+_underscore+"PROD"+_pipe+t;F=null;F=document.getElementById(A);d=null;r=null;if(F!=null){E=m_UIFramework.m_controlPropSet.GetChildByType(C);G=E.GetChildByType("Domain");u=G.GetChildByType(t);f=E.GetProperty("FieldList");o.DecodeFromString(f);SetExcluded(E,t,C);u.RemoveProperty("Path");if(i=="QuantityList"){d=document.getElementById(A+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){r=d.getElementsByTagName("input");if(r!=null||bCFG_clientJsDebug){r[0].value=""}}}else{if(i=="CheckBox"){d=document.getElementById(A+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){r=d.getElementsByTagName("input");if(r!=null||bCFG_clientJsDebug){r[0].checked=false}}}else{if(i=="Radio"){d=document.getElementById(C+_underscore+"PROD"+_pipe+"none"+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){r=d.getElementsByTagName("input");if(r!=null||bCFG_clientJsDebug){r[0].checked=true}}}}}n="";n=C+_underscore+"PORTDOMAIN"+_pipe+t+_underscore+"CXLINK";r=document.getElementById(n);if(r!=null){RemoveNodeCustom(r)}b="";b="GENERICS"+_pipe+P;r=document.getElementById(b);if(r!=null){r.innerHTML="";if(document.all){r.removeNode(true)}else{r.parentNode.removeChild(r)}}deleteFieldList(F,o)}}}N=h.GetChildByType("Add");if(N!=null){D=N.GetProperty("Port Item Id");H=N.GetChildCount();for(K=0;K<H;K++){var J=0;var B=0;x=null;x=N.GetChild(K);F=null;d=null;r=null;t=x.GetProperty("Product Id");P=x.GetProperty("Path");s=x.GetProperty("Selected");c=x.GetProperty("RequireMoreChild");updateInstanceInfo(C,t,x);m=C+_underscore+"PROD"+_pipe+t;F=document.getElementById(m);if(F!=null){E=m_UIFramework.m_controlPropSet.GetChildByType(C);f=E.GetProperty("FieldList");o.DecodeFromString(f);if(i=="QuantityList"){d=document.getElementById(m+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){r=d.getElementsByTagName("input");if(r!=null||bCFG_clientJsDebug){r[0].value=x.GetProperty("Quantity")}}}else{d=document.getElementById(m+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){r=d.getElementsByTagName("input");if(r!=null||bCFG_clientJsDebug){r[0].checked=true}}}if(x.GetProperty("CanDrillDown")=="Y"){n=C+_underscore+"PORTDOMAIN"+_pipe+t;r=document.getElementById(n);if(r!=null||bCFG_clientJsDebug){if(document.all){O=r.innerText}else{O=r.textContent}p='<a id="'+n+_underscore+'CXLINK" href=\'javascript:processInput("GRPITEM'+_pipe+C+_underscore+"PROD"+_pipe+t+'", "SetTopObj", "linkMethod")\'>';p+=O;p+="</a>";r.innerHTML=p}}r=document.getElementById(C+_underscore+"PORTDOMAIN"+_pipe+t);if(r!=null||bCFG_clientJsDebug){addGenerics(E,r,P,c);r.className="eCfgOptionAvailable"}displayFieldList(F,I,E.GetType(),o,x,true)}}}e=h.GetChildByType("Modify");if(e!=null){H=e.GetChildCount();for(K=0;K<H;K++){w=null;x=null;x=e.GetChild(K);q=t=D=g="";d=null;q=x.GetProperty("Name");t=x.GetProperty("Product Id");D=x.GetProperty("Port Item Id");g=x.GetProperty("Value");d=document.getElementById(C+_underscore+"PROD"+_pipe+t+_underscore+"FIELD"+_pipe+q);if(d!=null){w=d.getElementsByTagName("INPUT");if(w.length>0){if(i=="CheckBox"){if(g=="0"){w[0].checked=false}else{w[0].checked=true}}else{if(i=="QuantityList"){if(g=="0"){g=""}w[0].value=g}else{if(i=="Radio"){if(g=="0"){d=document.getElementById(C+I+"none"+_underscore+"FIELD"+_pipe+"Quantity");if(d!=null||bCFG_clientJsDebug){w=d.getElementsByTagName("input");if(w!=null||bCFG_clientJsDebug){w[0].checked=true}}}else{w[0].checked=true}}}}}else{d.innerHTML=g}}}}}function updatePortItemsForComboBoxHelper(r){var F=true;var s=null;var D=null;var G=null;var f="";var n="";var t="";var x=null;var m=null;var A=null;var g=0;var C=0;var B=0;var d=0;var E="";var p=null;var w="";var e="";var y="";var q=null;var l=null;var u="";var v="";var o=null;var i=null;var c=null;var b="";G=r.GetChildByType("Delete");v=r.GetType();if(G!=null){g=G.GetChildCount();for(C=0;C<g;C++){q=strPortId=strProdId=u=strPortId=w="";E="";p=null;b="";c=null;i=null;l=null;D=null;A=null;A=G.GetChild(C);e=A.GetProperty("Port Item Id");y=A.GetProperty("Product Id");w=A.GetProperty("Path");t=A.GetProperty("RequireMoreChild");D=m_UIFramework.m_controlPropSet.GetChildByType(v);var h=new JSSPropertySet();var z=D.GetProperty("FieldList");h.DecodeFromString(z);D=m_UIFramework.m_controlPropSet.GetChildByType(v);SetExcluded(D,y,v);E=v+_underscore+"PORTDOMAIN"+_pipe+"none";p=document.getElementById(E);if(p!=null){p.selected=true;p.className="eCfgOptionAvailable"}u="GENERICS"+_pipe+w;l=document.getElementById(u);if(l!=null){l.innerHTML="";if(document.all){l.removeNode(true)}else{l.parentNode.removeChild(l)}}b=v+_underscore+"COMBOBOX";c=document.getElementById(b);if(c!=null){var a=$("#"+jqSelector(b));a.children().slice(1).remove();o=null;o=document.getElementById(v+_underscore+"COMBOBOX_TD");addGenerics(D,o,w,t);displayQtyInCombo(c,D.GetType(),h,null);displayFieldList(c,_underscore+"COMBOBOX"+_pipe,D.GetType(),h,null)}}}s=r.GetChildByType("Add");if(s!=null){g=s.GetChildCount();for(C=0;C<g;C++){A=null;e="";y="";D=null;E="";p=null;b="";c=null;
i=null;A=s.GetChild(C);e=s.GetProperty("Port Item Id");y=A.GetProperty("Product Id");t=A.GetProperty("RequireMoreChild");w=A.GetProperty("Path");updateInstanceInfo(v,y,A);D=m_UIFramework.m_controlPropSet.GetChildByType(v);var h=new JSSPropertySet();var z=D.GetProperty("FieldList");h.DecodeFromString(z);E=v+_underscore+"PORTDOMAIN"+_pipe+y;p=document.getElementById(E);if(p!=null){p.selected=true}b=v+_underscore+"COMBOBOX";c=document.getElementById(b);if(c!=null){var a=$("#"+jqSelector(b));a.children().slice(1).remove();o=null;o=document.getElementById(v+_underscore+"COMBOBOX_TD");if(o!=null||bCFG_clientJsDebug){addGenerics(D,o,w,t)}displayQtyInCombo(c,D.GetType(),h,A);displayFieldList(c,_underscore+"COMBOBOX"+_pipe,D.GetType(),h,A)}}}modPS=r.GetChildByType("Modify");if(modPS!=null){g=modPS.GetChildCount();for(C=0;C<g;C++){m=null;A=null;A=modPS.GetChild(C);f=y=e=n="";o=null;f=A.GetProperty("Name");y=A.GetProperty("Product Id");e=A.GetProperty("Port Item Id");n=A.GetProperty("Value");o=document.getElementById(v+_underscore+"COMBOBOX"+_pipe+y+_underscore+"FIELD"+_pipe+f);if(o!=null){m=o.getElementsByTagName("INPUT");if(m.length>0){if(n=="0"){n=""}m[0].value=n}else{o.innerHTML=n}}}}}function CFG_framework_UpdateExcludedItems(strControlPropSet){var nExclItemCount;var i;var exclItemPS=new JSSPropertySet();var excludedPropSet=null;var updateExclusion="";var updateFunction="";exclItemPS.DecodeFromString(strControlPropSet);excludedPropSet=exclItemPS.GetChildByType("Excluded");if(excludedPropSet==null){return}nExclItemCount=excludedPropSet.GetChildCount();for(i=0;i<nExclItemCount;i++){updateFunction=updateExclusion="";var exclItemPropSet=excludedPropSet.GetChild(i);updateExclusion=exclItemPropSet.GetProperty("CfgJSUpdateExclusion");if(updateExclusion!=""){updateFunction=updateExclusion+" (exclItemPropSet);";eval(updateFunction)}}}function updateExcludedItemForPortWithPrice(b){var a=new Array();a[0]="CxObjName";a[1]="List Price";updateExcludedItemForPortOrAttribute(b,a,"showDomainPrice")}function updateExcludedItemForPort(a){updateExcludedItemForPortOrAttribute(a,null,null)}function updateExcludedItemForAttribute(a){updateExcludedItemForPortOrAttribute(a,null,null)}function updateExcludedItemForPortOrAttribute(exclItemPropSet,dispArray,dispFunction){var j=0;var childPS=null;var grpItemId="";var excluded="";var excludedElig="";var excludedModel="";var id="";var objectType="";var optionId="";var optionObj=null;var propName="";var itemDomainPropSet=null;var itemPropSet=null;var resultPropSet=null;var rowId="";var rowObj=null;var selectId="";var selectObj=null;var strParentPath="";var updateType="";var usage="";var propValInt=0;nInstanceCount=exclItemPropSet.GetChildCount();id=exclItemPropSet.GetType();objectType=exclItemPropSet.GetProperty("Type");usage=exclItemPropSet.GetProperty("Usage");strParentPath=exclItemPropSet.GetProperty("Parent Path");for(j=0;j<nInstanceCount;j++){var bGetFirst=true;var nPropertyCount=0;var w=0;childPS=null;updateType="";childPS=exclItemPropSet.GetChild(j);updateType=childPS.GetType();nPropertyCount=childPS.GetPropertyCount();for(bGetFirst=true,w=0;w<nPropertyCount;w++,bGetFirst=false){excluded=excludedElig=excludedModel="";grpItemId="";itemDomainPropSet=null;propName=optionId=rowId=propVal="";optionObj=null;rowObj=null;resultPropSet=null;itemPropSet=null;propValInt=0;if(bGetFirst){propName=childPS.GetFirstProperty()}else{propName=childPS.GetNextProperty()}propVal=childPS.GetProperty(propName);if(propVal!=null&&propVal!=""){propValInt=parseInt(propVal)}if(objectType=="Attribute"){optionId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTRDOMAIN"+_pipe+propName;rowId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTVAL"+_pipe+propName}else{if(objectType=="Port"){optionId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PORTDOMAIN"+_pipe+propName;rowId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PROD"+_pipe+propName}}if(objectType=="Port"){grpItemId=strParentPath+_underscore+"PORT"+_pipe+id}else{if(objectType=="Attribute"){grpItemId=strParentPath+_underscore+"ATTR"+_pipe+id}}resultPropSet=m_UIFramework.m_controlPropSet.GetChildByType(grpItemId);itemPropSet=resultPropSet.GetChildByType("Domain");itemDomainPropSet=itemPropSet.GetChildByType(propName);if(itemDomainPropSet!=null){excludedElig=itemDomainPropSet.GetProperty("ExcludedElig");excludedModel=itemDomainPropSet.GetProperty("ExcludedModel");if((excludedModel=="Y"&&(((propValInt&1)>0)||((propValInt&2)>0)))||(excludedElig=="Y"&&((propValInt&4)>0))){excluded="Y"}optionObj=document.getElementById(optionId);rowObj=document.getElementById(rowId);if(optionObj!=null){if(updateType=="Disable"){var tempText=optionObj.innerText;optionObj.innerText="";optionObj.className="eCfgOptionExcluded";optionObj.innerText=tempText;if(excluded=="Y"){if(usage=="CheckBox"||usage=="QuantityList"||usage=="Radio"){if(rowObj!=null){rowObj.style.display="none"}}else{if(usage=="ComboBox"||usage=="ComboBoxAdd"){RemoveNodeCustom(optionObj)}}}}else{if(updateType=="Enable"){var tempText=optionObj.innerText;optionObj.innerText="";optionObj.className="eCfgOptionAvailable";optionObj.innerText=tempText;if(excludedModel=="Y"){if(usage=="CheckBox"||usage=="QuantityList"||usage=="Radio"){if(rowObj!=null){rowObj.style.display=""}}}}}}else{if(updateType=="Enable"&&excludedModel=="Y"&&(usage=="ComboBox"||usage=="ComboBoxAdd")){if(objectType=="Port"){selectId=strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"DOMAINSELECT";selectObj=document.getElementById(selectId);if(selectObj!=null||bCFG_clientJsDebug){optionObj=document.createElement("OPTION");selectObj.options.add(optionObj);optionObj.id=optionId;optionObj.value="GRPITEM"+_pipe+strParentPath+_underscore+"PORT"+_pipe+id+_underscore+"PROD"+_pipe+propName;optionObj.className="eCfgOptionAvailable";var dispValArray=new Array();if(dispArray!=null&&dispFunction!=null){for(var iLen=0;iLen<dispArray.length;iLen++){var temp="";temp=itemDomainPropSet.GetProperty(dispArray[iLen]);if(temp==null||typeof(temp)=="undefined"){dispValArray[iLen]=""}else{dispValArray[iLen]=temp}}var str=CCFMiscUtil_ArrayToString(dispValArray);str=dispFunction+'("'+str+'");';if(document.all){optionObj.innerText=eval(str)}else{optionObj.textContent=eval(str)}}else{if(document.all){optionObj.innerText=itemDomainPropSet.GetProperty("CxObjName")}else{optionObj.textContent=itemDomainPropSet.GetProperty("CxObjName")}}}}else{if(objectType=="Attribute"){var attType="";selectId=strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"DOMAINSELECT";selectObj=document.getElementById(selectId);if(selectObj!=null||bCFG_clientJsDebug){attType=resultPropSet.GetProperty("AttType");optionObj=document.createElement("OPTION");selectObj.options.add(optionObj);optionObj.id=optionId;optionObj.value="GRPITEM"+_pipe+strParentPath+_underscore+"ATTR"+_pipe+id+_underscore+"ATTTYPE"+_pipe+attType+_underscore+"ATTVAL"+_pipe+propName;optionObj.className="eCfgOptionAvailable";if(document.all){optionObj.innerText=propName}else{optionObj.textContent=propName
}}}}}}}}}}function CFG_framework_AddItemMin(b,a,c,d){this.m_bQuickEditDirtyFlag=true;this.AddItemHelper(b,a,c,d,"")}function CFG_framework_AddItem(b,a,c,d){this.m_bQuickEditDirtyFlag=true;this.AddItemHelper(b,a,c,d,"Y")}function CFG_framework_AddItemHelper(j,i,f,c,g){var k=new String(c);if(k.search(/^\d/)){this.UnlockRequestQueue();return}if(this.m_bDeferUpdate){var d=i;var a;if(j=="Y"){d=i+"|"+f}if(this.m_DirtyIdLookUp[d]==null||typeof(this.m_DirtyIdLookUp[d])=="undefined"){a=new Array();a.GRPITEM=i;a.ADDITEM=j;a.PROD=f;a.QTY=c;a.TYPEQTY=g;this.m_DirtyIdLookUp[d]=a;this.m_DirtyItemArray[this.m_DirtyItemArray.length]=d}else{a=this.m_DirtyIdLookUp[d];a.GRPITEM=i;a.ADDITEM=j;a.PROD=f;a.QTY=c;a.TYPEQTY=g}this.UnlockRequestQueue();return}var e=null;e=this.AddItemPSGenerator(j,i,f,c,g,false);if(e!=null){var h;var b;h=e.EncodeAsString();b="SubmitRequest_"+h;SubmitWithHiddenFrame(b)}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue()}}function CFG_framework_GetExplanation(c,f,g){var d=null;var b=null;d=(this.m_controlPropSet.GetChildByType(c)).GetChildByType("Domain");if(d==null){b=this.m_controlPropSet.GetChildByType(c)}else{b=d.GetChildByType(f)}if(b!=null){var a;var e;inputPropSet=new JSSPropertySet();inputPropSet.SetProperty("RequestType","GetExpl");inputPropSet.SetProperty("Path",b.GetProperty("Path"));a=inputPropSet.EncodeAsString();e="SubmitRequest_"+a;SubmitWithHiddenFrame(e)}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue()}}function CFG_framework_RefreshUI(){top.cfgAnchorId="";try{CFG_OLD_UIFramework=m_UIFramework;SubmitWithMainFrame("RefreshUI")}catch(a){}finally{CFG_OLD_UIFramework=null;CFG_LastControlId=""}}function CFG_framework_RemoveItem(c,f){this.m_bQuickEditDirtyFlag=true;if(this.m_bDeferUpdate){var b=c+"|"+f;if(this.m_DirtyIdLookUp[b]==null||typeof(this.m_DirtyIdLookUp[b])=="undefined"){dirtyIdInfo=new Array();dirtyIdInfo.GRPITEM=c;dirtyIdInfo.PROD=f;dirtyIdInfo.QTY="-1";this.m_DirtyIdLookUp[b]=dirtyIdInfo;this.m_DirtyItemArray[this.m_DirtyItemArray.length]=b}else{dirtyIdInfo=this.m_DirtyIdLookUp[b];dirtyIdInfo.QTY="-1";dirtyIdInfo.GRPITEM=c;dirtyIdInfo.PROD=f}this.UnlockRequestQueue();return}var e=null;e=this.RemoveItemPSGenerator(c,f);if(e!=null){var a;var d;a=e.EncodeAsString();d="SubmitRequest_"+a;SubmitWithHiddenFrame(d)}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue()}}function CFG_framework_ReplaceItem(d,g){var h=null;var e=null;var b=null;var c="";this.m_bQuickEditDirtyFlag=true;controlPropset=this.m_controlPropSet.GetChildByType(d);e=h.GetChildByType("Domain");c=e.GetProperty("Parent Path");b=e.GetChildByType(g);if(b!=null){var a;var f;inputPropSet=new JSSPropertySet();inputPropSet.SetProperty("RequestType","ReplaceItem");inputPropSet.SetProperty("Path",b.GetProperty("Path"));inputPropSet.SetProperty("Product Id",g);inputPropSet.SetProperty("Prod Item Id",b.GetProperty("Port Item Id"));inputPropSet.SetProperty("Quantity","1");inputPropSet.SetProperty("List Price",b.GetProperty("List Price"));inputPropSet.SetProperty("Current Price","0");inputPropSet.SetProperty("Parent Path",c);inputPropSet.SetProperty("AutoResolve","");inputPropSet.SetProperty("Parent Display Name",this.CFG_frameworkProdName);inputPropSet.SetProperty("Port Display Name",b.GetProperty("CxPortName"));inputPropSet.SetProperty("New Child Display Name",b.GetProperty("CxObjName"));inputPropSet.SetProperty("Version",this.CFG_frameworkVersion);inputPropSet.SetProperty("ObjId",this.CFG_frameworkObjId);inputPropSet.SetProperty("RootId",this.CFG_frameworkRootId);a=inputPropSet.EncodeAsString();f="SubmitRequest_"+a;SubmitWithHiddenFrame(f)}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue()}}function SWECfgShowPopup(d,c,e,g,b,h){var a;var f;Top().SWEHtmlPopupName="PopupFrame";if(g==true||g=="true"){f="scrollbars=yes,resizable,location,toolbar,menubar,status,personalbar,"}else{f="resizable,scrollbars=yes,"}if(!Top().SWEPopupResizeNoAuto&&(typeof(c)=="undefined"||typeof(e)=="undefined"||c<=0||e<=0||SWEGetAvailScreenWidth()-e<0||SWEGetAvailScreenHeight()-c<0)){c=480;e=640}if(navigator.userAgent.toUpperCase().indexOf("AOL 6.")>-1){a=SWEPosition(0,0)}else{a=SWEPosition(parseInt((SWEGetAvailScreenWidth()-e)/2),parseInt((SWEGetAvailScreenHeight()-c)/2))}f+=("height="+c+",width= "+e);if(typeof(h)!="undefined"&&h!=null&&h!=""){f=f+","+h}if(b==true||b=="true"){if(g==true||g=="true"){open(d,"",f)}else{open(d,"",f+a)}return}if(Top().SWEPopupWin!=null&&typeof(Top().SWEPopupWin.closed)!="unknown"&&!Top().SWEPopupWin.closed){if(d!=""){Top().SWEPopupWin.location.replace(d)}}else{Top().SWEPopupWin=open(d,Top().SWEHtmlPopupName,f+a)}}function CFG_framework_EditField(a,g,j,m){var b=m_UIFramework.m_controlPropSet.GetChildByType(a);var e=new JSSPropertySet();this.m_bQuickEditDirtyFlag=true;if(g=="Attribute"){var c=b.GetProperty("AttID");e.SetProperty("AttID",c)}else{if(g=="CfgFieldList"){var k=null;k=b.GetChildByType("Domain");if(k!=null&&typeof(k)!="undefined"){b=k}var f=b.GetProperty("Port Item Id");e.SetProperty("Port Item Id",f);e.SetProperty("Path",m);e.SetProperty("CfgFieldName",j)}}var i=b.GetProperty("Parent Path");var l=b.GetProperty("Parent Product Id");e.SetProperty("Type",g);e.SetProperty("Parent Path",i);e.SetProperty("Parent Product Id",l);e.SetProperty(SiebelApp.Constants.get("SWE_METHOD_STR"),"EditField");e.SetProperty(SiebelApp.Constants.get("SWE_FIELD_STR"),"DTYPE_TEXT");e.SetProperty(SiebelApp.Constants.get("SWE_SHOW_POPUP_STR"),"true");e.SetProperty(SiebelApp.Constants.get("SWE_HEIGHT_STR"),"100");e.SetProperty(SiebelApp.Constants.get("SWE_WIDTH_STR"),"300");var h=e.EncodeAsString();var d="EditField_"+h;top.g_cfgHiddenFrameCsObj.SWEField="DTYPE_TEXT";top.g_cfgHiddenFrameCsObj.SWESP="true";top.g_cfgHiddenFrameCsObj.SWEH="100";top.g_cfgHiddenFrameCsObj.SWEW="300";top.cfgAnchorId=i+"_"+c;SubmitWithHiddenFrame(d);top.g_cfgHiddenFrameCsObj.SWESP="false"}function CFG_framework_SetFieldValue(b,j,h,m){var c=m_UIFramework.m_controlPropSet.GetChildByType(b);var e=new JSSPropertySet();var k=null;k=c.GetChildByType("Domain");if(k!=null&&typeof(k)!="undefined"){c=k}var i=c.GetProperty("Parent Path");var l=c.GetProperty("Parent Product Id");var a=(document.getElementById(h).getElementsByTagName("input"))[0].value;var f=c.GetProperty("Port Item Id");e.SetProperty("Port Item Id",f);e.SetProperty("Path",m);e.SetProperty("CfgFieldName",j);e.SetProperty("FieldValue",a);e.SetProperty("RequestType","SetFieldValue");e.SetProperty("Parent Path",i);e.SetProperty("Parent Product Id",l);e.SetProperty("Type","CfgFieldList");var g=e.EncodeAsString();var d="SubmitRequest_"+g;this.m_bQuickEditDirtyFlag=true;SubmitWithHiddenFrame(d)}function CFG_framework_SetItemQuantity(b,a,c){this.SetItemQuantityHelper(b,a,c,"Y")}function CFG_framework_SetItemQuantityMin(b,a,c){this.SetItemQuantityHelper(b,a,c,"")}function CFG_framework_SetItemQuantityHelper(i,g,c,f){if(this.m_bDeferUpdate){var d=i+"|"+g;
var a;if(this.m_DirtyIdLookUp[d]==null||typeof(this.m_DirtyIdLookUp[d])=="undefined"){a=new Array();a.GRPITEM=i;a.QTY=c;a.TYPEQTY=f;a.INTID=g;this.m_DirtyIdLookUp[d]=a;this.m_DirtyItemArray[this.m_DirtyItemArray.length]=d}else{a=this.m_DirtyIdLookUp[d];a.GRPITEM=i;a.QTY=c;a.TYPEQTY=f;a.INTID=g}this.UnlockRequestQueue();return}this.m_bQuickEditDirtyFlag=true;var e=null;e=this.SetItemQuantityPSGenerator(i,g,c,f);var h=e.EncodeAsString();var b="SubmitRequest_"+h;SubmitWithHiddenFrame(b)}function CFG_framework_SetAttribute(l,j,k){var d=null;if(this.m_bDeferUpdate){var c=l;if(this.m_DirtyIdLookUp[c]==null||typeof(this.m_DirtyIdLookUp[c])=="undefined"){dirtyIdInfo=new Array();dirtyIdInfo.GRPITEM=l;dirtyIdInfo.TYPECODE=k;dirtyIdInfo.ATTVAL=j;this.m_DirtyIdLookUp[c]=dirtyIdInfo;this.m_DirtyItemArray[this.m_DirtyItemArray.length]=c}else{dirtyIdInfo=this.m_DirtyIdLookUp[c];dirtyIdInfo.GRPITEM=l;dirtyIdInfo.TYPECODE=k;dirtyIdInfo.ATTVAL=j}var f=this.m_controlPropSet.GetChildByType(l);var e=f.GetProperty("AttName");var a=f.GetProperty("AttValue");var i=f.GetProperty("XA Id");var g=f.GetProperty("Type");var m=f.GetProperty("Parent Path");d=new JSSPropertySet();d.SetProperty("AttName",e);d.SetProperty("AttValue",j);d.SetProperty("XA Id",i);d.SetProperty("Usage",g);d.SetProperty("AttValueOld",a);d.SetProperty("Parent Path",m);updateSelectionInfoForAttribute(d);f.SetProperty("AttValue",j);this.UnlockRequestQueue();return}var h="";var b="";var m="";d=this.SetAttributePSGenerator(l,j,k);h=d.EncodeAsString();b="SubmitRequest_"+h;this.m_bQuickEditDirtyFlag=true;SubmitWithHiddenFrame(b)}function CFG_framework_CfgInvokeMethod(name,id){if(this.m_bDeferUpdate&&m_UIFramework.m_DirtyItemArray.length==0&&(name=="InteractMultiSelect"||name=="ResetMultiSelect")){m_UIFramework.UnlockRequestQueue();return}if(this.m_bDeferUpdate&&m_UIFramework.m_DirtyItemArray.length>0){var inputPropSet=null;if(name=="InteractMultiSelect"){inputPropSet=this.ProcessInteractPropSet();return}else{if(name=="ResetMultiSelect"){m_UIFramework.RefreshUI();return}}var appObj=(window.opener!=null)?window.opener:this;if(SWEIsHighInteract){var sString=top.App().GetLocalString("IDS_CXP_MULTISELECT_UI_INCOMPLETE")}else{var sString=appObj._SWEgetMessage("IDS_CXP_MULTISELECT_UI_INCOMPLETE")}alert(sString);m_UIFramework.UnlockRequestQueue();return}if(id==this.m_sButtonId){if(this.m_bQuickEdit){var btnObj=document.getElementById(this.m_sButtonId);if(btnObj){var sButtonText=btnObj.innerText}if(sButtonText==this.m_sQEBtnONText){btnObj.innerHTML=btnObj.innerHTML.replace(this.m_sQEBtnONText,this.m_sQEBtnOFFText);name="EnableEngine";this.m_bQuickEditDirtyFlag=false;this.m_bEngineState=true}else{if(sButtonText==this.m_sQEBtnOFFText){btnObj.innerHTML=btnObj.innerHTML.replace(this.m_sQEBtnOFFText,this.m_sQEBtnONText);name="DisableEngine";this.m_bEngineState=false}}}}if((this.m_bQuickEdit)&&(name=="DoneConfig")){if(this.m_bQuickEditDirtyFlag&&!this.m_bEngineState){var appObj=(window.opener!=null)?window.opener:this;if(SWEIsHighInteract){var sString=top.App().GetLocalString("IDS_CXP_QUICKEDIT_UI_INCOMPLETE")}else{var sString=appObj._SWEgetMessage("IDS_CXP_QUICKEDIT_UI_INCOMPLETE")}alert(sString);m_UIFramework.UnlockRequestQueue();return}}var grpItemId="";var inputPropSet;var outputPropSet;var hiddenFrame;var idInfo;var methodParam;var retVal=true;if(this.m_preInvokeMethod[name]!=null&&typeof(this.m_preInvokeMethod[name])!="undefined"){retVal=eval(this.m_preInvokeMethod[name])}if(retVal==false){return}if(id!=null){idInfo=getIdInfo(id);if(idInfo.PORT!=""){grpItemId=idInfo.GRPITEM+_underscore+"PORT"+_pipe+idInfo.PORT}else{if(idInfo.PORTITEM!=""){grpItemId=idInfo.GRPITEM+_underscore+"PORTITEM"+_pipe+idInfo.PORTITEM+_underscore+"INTID"+_pipe+idInfo.INTID}else{if(idInfo.ATTR!=""){grpItemId=idInfo.GRPITEM+_underscore+"ATTR"+_pipe+idInfo.ATTR}else{grpItemId=idInfo.GRPITEM}}}inputPropSet=this.m_controlPropSet.GetChildByType(grpItemId);if(name=="PrevView"&&SWEIsHighInteract!=true){var url=inputPropSet.GetProperty("URL");var vfrm=SWEFindFrame(top,"_sweview");SWETargetGotoURL(url,vfrm);return}if(name=="UndoLastRequest"||name=="RemoveFailedRequests"||name=="FinishIt"||name=="SyncInstance"||name=="CloseExplanation"||name=="GetDetailExpl"||name=="ClearTheStatus"||name=="CalculatePriceCX"||name=="DoneConfig"||name=="ExternalValidate"||name=="EnableEngine"||name=="DisableEngine"){var strInputArgs;var inPS;inPS=new JSSPropertySet();inPS.SetProperty("RequestType",name);strInputArgs=inPS.EncodeAsString();strInvokeMethod="SubmitRequest_"+strInputArgs;if(name=="UndoLastRequest"||name=="ClearTheStatus"){SubmitWithMainFrame(strInvokeMethod)}else{SubmitWithHiddenFrame(strInvokeMethod)}}else{if(name=="SetTopObj"){var prodPropSet=null;var prodId="";var path="";var strInputArgs="";var inPS=null;methodParam=inputPropSet.GetProperty("MethodParam");if(methodParam!=""&&typeof(methodParam)!="undefined"&&methodParam!=null){SubmitWithMainFrame(name+"_"+methodParam);return}else{var domainPropSet=inputPropSet.GetChildByType("Domain");if(domainPropSet!=null&&typeof(domainPropSet)!="undefined"){prodPropSet=domainPropSet.GetChildByType(idInfo.PROD)}else{prodPropSet=inputPropSet}}prodId=path="";prodId=prodPropSet.GetProperty("Product Id");path=prodPropSet.GetProperty("Path");inPS=new JSSPropertySet();inPS.SetProperty("Product Id",prodId);inPS.SetProperty("Path",path);strInputArgs=inPS.EncodeAsString();strInvokeMethod=name+"_"+strInputArgs;SubmitWithMainFrame(strInvokeMethod)}else{methodParam=inputPropSet.GetProperty("MethodParam");if(methodParam!=null){SubmitWithMainFrame(name+"_"+methodParam)}else{SubmitWithMainFrame(name)}}}}else{SubmitWithMainFrame(name)}}function CFG_framework_CallService(e,b,a,d){var c=new JSSPropertySet();c.DecodeFromString(a);c.SetProperty("RequestType","CallService");c.SetProperty("ServiceName",e);c.SetProperty("ServiceMethod",b);c.SetProperty("ServiceCallBackFunction",d);a=c.EncodeAsString();strInvokeMethod="SubmitRequest_"+a;SubmitWithHiddenFrame(strInvokeMethod)}function CFG_framework_LockRequestQueue(){this.m_bRequestLock=true}function CFG_framework_UnlockRequestQueue(){var request="";if(this.m_requestQueue.length-this.m_requestQueueIndex>0){request=this.m_requestQueue[this.m_requestQueueIndex];this.m_requestQueue[this.m_requestQueueIndex]=null;this.m_requestQueueIndex++;if(this.m_requestQueue.length-this.m_requestQueueIndex<=0){this.m_bRequestLock=false}eval(request)}else{this.m_bRequestLock=false}this.m_requestQueueTimeStamp=-(requestQueueTimeOut)}function CFG_framework_ProcessNotify(d){var c=new JSSPropertySet();var b=null;c.DecodeFromString(d);b=c.GetChildByType("Notify");if(b==null){return}var e=b.GetProperty("Type");var g=b.GetProperty("Message");var a=b.GetProperty("OnYesEval");var f=b.GetProperty("OnNoEval");if(e=="alert"){if(alert(g)){SubmitToQueue(a);this.UnlockRequestQueue()}else{SubmitToQueue(f);this.UnlockRequestQueue()}}else{if(e=="confirm"){if(confirm(g)){SubmitToQueue(a);this.UnlockRequestQueue()}else{SubmitToQueue(f);this.UnlockRequestQueue()
}}else{if(e=="eval"){SubmitToQueue(a);this.UnlockRequestQueue()}}}}function CFG_framework_GetTemplateVarValue(strVarName){if(!IsOpenUI()){return""}var strVarPath="top."+strVarName;var strVarValue=eval(strVarPath);return strVarValue}function CFG_framework_SetAttributePSGenerator(l,j,k){var i="";var b="";var a="";var h="";var d=null;var e=null;var g="";var c="";var m="";var f=this.m_controlPropSet.GetChildByType(l);b=f.GetProperty("AttName");i=f.GetProperty("Attribute Display Name");a=f.GetProperty("XA Id");h=f.GetProperty("AttID");m=f.GetProperty("Parent Path");top.cfgAnchorId=m+"_"+h;d=new JSSPropertySet();d.SetProperty("RequestType","ChangeAttribute");d.SetProperty("Name",b);d.SetProperty("Id",h);d.SetProperty("ObjId",this.CFG_frameworkObjId);d.SetProperty("RootId",this.CFG_frameworkRootId);d.SetProperty("Path",m);d.SetProperty("XA Id",a);d.SetProperty("Value",j);d.SetProperty("Version",this.CFG_frameworkVersion);d.SetProperty("Property Type Code",k);d.SetProperty("Attribute Display Name",i);d.SetProperty("Parent Display Name",this.CFG_frameworkProdName);return d}function CFG_framework_SetItemQuantityPSGenerator(n,l,e,k){var b=null;var d=this.m_controlPropSet.GetChildByType(n);var o=null;var h=null;var g=0;var c="";var m=0;var p="";var i="";var a=null;o=d.GetChildByType("Domain");if(o!=null&&typeof(o)!="undefined"){b=o;m=b.GetChildCount();for(g=0;g<m;g++){h=null;p="";h=b.GetChild(g);p=h.GetProperty("Path");if(p==l){a=h;break}}}else{a=d}if(a!=null){i=a.GetProperty("CxPortName");c=a.GetProperty("Name")}var f=new JSSPropertySet();f.SetProperty("RequestType","ChangeQuantity");f.SetProperty("ObjId",this.CFG_frameworkObjId);f.SetProperty("RootId",this.CFG_frameworkRootId);f.SetProperty("Path",l);f.SetProperty("Quantity",e);f.SetProperty("Version",this.CFG_frameworkVersion);f.SetProperty("Parent Display Name",this.CFG_frameworkProdName);f.SetProperty("Port Display Name",i);f.SetProperty("New Child Display Name",c);f.SetProperty("SetTypeQty",k);top.cfgAnchorId=a.GetProperty("Parent Path")+"_"+a.GetProperty("Port Item Id");return f}function CFG_framework_AddItemPSGenerator(p,b,m,g,q,r){var d=null;var k=null;var e=null;var f="";var o=new String(g);if(o.search(/^\d/)){this.UnlockRequestQueue();return}d=this.m_controlPropSet.GetChildByType(b);k=d.GetChildByType("Domain");f=k.GetProperty("Parent Path");e=k.GetChildByType(m);if(e!=null||m=="none"){var c="";var l;var j;var h="";var n="";var s="";var i="";var a="";if(m!="none"){if(r&&e.GetProperty("Path")!=null){if(e.GetProperty("Quantity")!=g){return this.SetItemQuantityPSGenerator(b,e.GetProperty("Path"),g,q)}else{return(null)}}s=e.GetProperty("CxObjName");i=e.GetProperty("Port Item Id");version=e.GetProperty("Version");n=e.GetProperty("List Price");a=e.GetProperty("CxPortName");if(isNaN(n)){n=""}h="";c=""}else{i=k.GetProperty("Port Item Id")}inputPropSet=new JSSPropertySet();inputPropSet.SetProperty("RequestType","AddItem");inputPropSet.SetProperty("Name",s);inputPropSet.SetProperty("Parent Display Name",this.CFG_frameworkProdName);inputPropSet.SetProperty("Port Display Name",a);inputPropSet.SetProperty("New Child Display Name",s);inputPropSet.SetProperty("ObjId",this.CFG_frameworkObjId);inputPropSet.SetProperty("RootId",this.CFG_frameworkRootId);inputPropSet.SetProperty("Parent Path",f);inputPropSet.SetProperty("Prod Item Id",i);inputPropSet.SetProperty("Product Id",m);inputPropSet.SetProperty("Port Item Id",i);inputPropSet.SetProperty("Quantity",g);inputPropSet.SetProperty("List Price",n);inputPropSet.SetProperty("Current Price",h);inputPropSet.SetProperty("Version",this.CFG_frameworkVersion);inputPropSet.SetProperty("AutoResolve",c);inputPropSet.SetProperty("AddItem",p);inputPropSet.SetProperty("SetTypeQty",q);top.cfgAnchorId=f+"_"+i;return inputPropSet}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue();return(null)}}function CFG_framework_RemoveItemPSGenerator(b,d){var e=null;var c=null;var a=null;e=this.m_controlPropSet.GetChildByType(b);c=e.GetChildByType("Domain");a=c.GetChildByType(d);if(a!=null){if(a.GetProperty("Path")==null){return(null)}inputPropSet=new JSSPropertySet();inputPropSet.SetProperty("RequestType","RemoveItem");inputPropSet.SetProperty("Path",a.GetProperty("Path"));inputPropSet.SetProperty("Parent Display Name",this.CFG_frameworkProdName);inputPropSet.SetProperty("Port Display Name",a.GetProperty("CxPortName"));inputPropSet.SetProperty("New Child Display Name",a.GetProperty("CxObjName"));inputPropSet.SetProperty("ObjId",this.CFG_frameworkObjId);inputPropSet.SetProperty("Version",this.CFG_frameworkVersion);inputPropSet.SetProperty("RootId",this.CFG_frameworkRootId);top.cfgAnchorId=a.GetProperty("Parent Path")+"_"+a.GetProperty("Port Item Id");return inputPropSet}else{if(bCFG_clientJsDebug){alert("Unable to find Cached Info")}this.UnlockRequestQueue();return(null)}}function CFG_framework_SetDeferUpdate(a){this.m_bDeferUpdate=a}function CFG_framework_ProcessInteractPropSet(){var f;var d;var h=null;if(this.m_DirtyItemArray.length==0){return}var g=new JSSPropertySet();var a=new JSSPropertySet();var c=new JSSPropertySet();a.SetProperty("RequestType","InteractMultiSelect");g.SetType("Interact Requests");a.AddChild(g);c.SetType("Requests");g.AddChild(c);for(var i=0;i<this.m_DirtyItemArray.length;i++){f=this.m_DirtyItemArray[i];d=this.m_DirtyIdLookUp[f];this.m_DirtyIdLookUp[f]=null;this.m_DirtyItemArray[i]=null;if(d.ATTVAL!=null&&typeof(d.ATTVAL)!="undefined"){h=this.SetAttributePSGenerator(d.GRPITEM,d.ATTVAL,d.TYPECODE)}else{if(d.INTID!=null&&typeof(d.INTID)!="undefined"){h=this.SetItemQuantityPSGenerator(d.GRPITEM,d.INTID,d.QTY,d.TYPEQTY)}else{if(d.QTY=="-1"){h=this.RemoveItemPSGenerator(d.GRPITEM,d.PROD)}else{h=this.AddItemPSGenerator(d.ADDITEM,d.GRPITEM,d.PROD,d.QTY,d.TYPEQTY,true)}}}if(h!=null){h.SetType("Request");c.AddChild(h)}}this.m_DirtyIdLookUp=this.m_DirtyIdLookUp.splice(0,this.m_DirtyIdLookUp.length);this.m_DirtyItemArray=this.m_DirtyItemArray.splice(0,this.m_DirtyItemArray.length);this.m_DirtyIdLookUp.length=0;this.m_DirtyItemArray.length=0;var j=a.EncodeAsString();var e="SubmitRequest_"+j;var b=c.GetChildCount();if(b>0){SubmitWithMainFrame(e)}else{this.UnlockRequestQueue()}}function RemoveNodeCustom(c){if(document.all){c.removeNode(false)}else{var d=c.parentNode;if(d){var e=document.createDocumentFragment();for(var b=0;b<c.childNodes.length;b++){e.appendChild(c.childNodes[b])}d.insertBefore(e,c);d.removeChild(c)}}}function SetExcluded(c,f,e){var b=null;var g="";var d=null;var i=null;var h=0;d=c.GetChildByType("Domain");if(null!=d){h=d.GetChildCount();for(var a=0;a<h;a++){i=d.GetChild(a);if(null!=i&&i.GetProperty("Product Id")==f){g=e+_underscore+"PORTDOMAIN"+_pipe+f;b=null;b=document.getElementById(g);if((null!=b||bCFG_clientJsDebug)&&"N"==i.GetProperty("CxEnabled")){b.className="eCfgOptionExcluded"}}}}}function CFG_framework_SetQuickEdit(a){this.m_bQuickEdit=a}function CFG_framework_SetQuickEditButtonID(a){if(this.m_bQuickEdit){this.m_sButtonId=a}}function CFG_framework_SaveQEButtonText(d){if(this.m_bQuickEdit){var a=new JSSPropertySet();
a.DecodeFromString(d);var c=a.GetProperty("Cfg ON");var b=a.GetProperty("Cfg OFF");if(c){this.m_sQEBtnONText=c}if(b){this.m_sQEBtnOFFText=b}delete a}}function CFG_framework_SetEngineState(a){this.m_bEngineState=a}function CFG_framework_SetDirtyItemFlag(a){this.m_bQuickEditDirtyFlag=a}function applicantUpdatePortItemsForComboAdd(a){applicantUpdatePortItemsForComboAddHelper(a);checkForceRefresh(a,true,true)}function applicantUpdatePortItemsForComboAddAttr(a){applicantUpdatePortItemsForComboAddHelper(a);checkForceRefresh(a,true,true)}function applicantUpdatePortItemsForComboAddHelper(v){var w=null;var u=null;var s=null;var G=null;var m=null;var p=null;var d="";var n="";var z=null;var D=null;var E=0;var x=null;var e=0;var y="";var a="";var B=0;var A="";var r="";var h="";var q="";var g=null;var t="";var c=null;var f=null;t=v.GetType();s=m_UIFramework.m_controlPropSet.GetChildByType(t);t=t.replace(/PORT/,"PORTITEM");B=s.GetProperty("PortItemCount");B=(s.GetProperty("PortItemCount")=="NaN")?"0":s.GetProperty("PortItemCount");w=v.GetChildByType("Add");if(w!=null){e=w.GetChildCount();for(E=0;E<e;E++){h="";D=null;D=new JSSPropertySet();D.Copy(w.GetChild(E));h=D.GetProperty("Path");D.SetType(t+_underscore+"INTID"+_pipe+h);CFG_LastControlId=t+_underscore+"INTID"+_pipe+h;m_UIFramework.m_controlPropSet.AddChild(D);applicantAddPortItem(t,D);if(E==0){f=D}B++}}x=v.GetChildByType("Modify");if(x!=null){e=x.GetChildCount();for(E=0;E<e;E++){var l=null;D=null;D=x.GetChild(E);d=y=A=a=n="";g=null;d=D.GetProperty("Name");y=D.GetProperty("Path");a=D.GetProperty("Port Item Id");n=D.GetProperty("Value");g=document.getElementById(t+_underscore+"INTID"+_pipe+y+_underscore+"FIELD"+_pipe+d);if(g!=null){l=g.getElementsByTagName("INPUT");if(l.length>0){l[0].value=n}else{g.innerHTML=n}}}}G=v.GetChildByType("Delete");if(G!=null){e=G.GetChildCount();for(E=0;E<e;E++){r=y=a="";D=null;var k="";D=G.GetChild(E);y=D.GetProperty("Path");a=D.GetProperty("Port Item Id");r=t+_underscore+"INTID"+_pipe+y;deletePortItem(t,r);var k=-1;var F=m_UIFramework.m_controlPropSet.childArray.length;for(var b=0;b<F;b++){var o=m_UIFramework.m_controlPropSet.childArray[b];if(o.type===r){k=b;break}}m_UIFramework.m_controlPropSet.RemoveChild(k);B--}}s.SetProperty("PortItemCount",B);if(B>0){m=document.getElementById(t+_underscore+"FIELDHEADER");if(m==null){c=document.getElementById(t);if(c!=null||bCFG_clientJsDebug){if(c.children.length<=0){m=c.appendChild(document.createElement("div"));m.className="div-table-row"}else{m=c.insertBefore(document.createElement("div"),c.children[0]);m.className="div-table-row"}m.id=t+_underscore+"FIELDHEADER";var i=new JSSPropertySet();var C=f.GetProperty("FieldList");i.DecodeFromString(C);displayFieldHeader(m,i)}}m.style.display=""}else{m=document.getElementById(t+_underscore+"FIELDHEADER");if(m!=null){m.style.display="none"}}}function CFG_framework_SetQuickEdit(a){this.m_bQuickEdit=a}function CFG_framework_SetQuickEditButtonID(a){if(this.m_bQuickEdit){this.m_sButtonId=a}}function CFG_framework_SaveQEButtonText(d){if(this.m_bQuickEdit){var a=new JSSPropertySet();a.DecodeFromString(d);var c=a.GetProperty("Cfg ON");var b=a.GetProperty("Cfg OFF");if(c){this.m_sQEBtnONText=c}if(b){this.m_sQEBtnOFFText=b}delete a}}function CFG_framework_SetEngineState(a){this.m_bEngineState=a}function CFG_framework_SetDirtyItemFlag(a){this.m_bQuickEditDirtyFlag=a}function CFG_framework_Debug(a,b){SiebelJS.Log("CFG_DEBUG::"+a+"-"+b)}function jqSelector(a){if(a){return a.replace(/([ #;,.+*~\':"!^$[\]()=|\/@\`])/g,"\\$1")}else{return a}}CFG_framework.prototype.Init=CFG_framework_Init;CFG_framework.prototype.InitIconLabel=CFG_framework_InitIconLabel;CFG_framework.prototype.AddControls=CFG_framework_AddControls;CFG_framework.prototype.ShowControl=CFG_framework_ShowControl;CFG_framework.prototype.ShowExplanation=CFG_framework_ShowExplanation;CFG_framework.prototype.UpdateCanInvoke=CFG_framework_UpdateCanInvoke;CFG_framework.prototype.UpdateSelectionInfo=CFG_framework_UpdateSelectionInfo;CFG_framework.prototype.UpdateExcludedItems=CFG_framework_UpdateExcludedItems;CFG_framework.prototype.UpdateGenerics=CFG_framework_UpdateGenerics;CFG_framework.prototype.UpdateRootProdInfo=CFG_framework_UpdateRootProdInfo;CFG_framework.prototype.UpdateResources=CFG_framework_UpdateResources;CFG_framework.prototype.UpdateSignal=CFG_framework_UpdateSignal;CFG_framework.prototype.CfgInvokeMethod=CFG_framework_CfgInvokeMethod;CFG_framework.prototype.CallService=CFG_framework_CallService;CFG_framework.prototype.AddItem=CFG_framework_AddItem;CFG_framework.prototype.AddItemHelper=CFG_framework_AddItemHelper;CFG_framework.prototype.AddItemMin=CFG_framework_AddItemMin;CFG_framework.prototype.GetExplanation=CFG_framework_GetExplanation;CFG_framework.prototype.ProcessNotify=CFG_framework_ProcessNotify;CFG_framework.prototype.RefreshUI=CFG_framework_RefreshUI;CFG_framework.prototype.RemoveItem=CFG_framework_RemoveItem;CFG_framework.prototype.ReplaceItem=CFG_framework_ReplaceItem;CFG_framework.prototype.SetAttribute=CFG_framework_SetAttribute;CFG_framework.prototype.SetFieldValue=CFG_framework_SetFieldValue;CFG_framework.prototype.SetItemQuantity=CFG_framework_SetItemQuantity;CFG_framework.prototype.SetItemQuantityHelper=CFG_framework_SetItemQuantityHelper;CFG_framework.prototype.SetItemQuantityMin=CFG_framework_SetItemQuantityMin;CFG_framework.prototype.EditField=CFG_framework_EditField;CFG_framework.prototype.LockRequestQueue=CFG_framework_LockRequestQueue;CFG_framework.prototype.UnlockRequestQueue=CFG_framework_UnlockRequestQueue;CFG_framework.prototype.GetTemplateVarValue=CFG_framework_GetTemplateVarValue;CFG_framework.prototype.AddItemPSGenerator=CFG_framework_AddItemPSGenerator;CFG_framework.prototype.SetAttributePSGenerator=CFG_framework_SetAttributePSGenerator;CFG_framework.prototype.SetItemQuantityPSGenerator=CFG_framework_SetItemQuantityPSGenerator;CFG_framework.prototype.RemoveItemPSGenerator=CFG_framework_RemoveItemPSGenerator;CFG_framework.prototype.ProcessInteractPropSet=CFG_framework_ProcessInteractPropSet;CFG_framework.prototype.SetDeferUpdate=CFG_framework_SetDeferUpdate;CFG_framework.prototype.RecalculateDynamicShowHide=CFG_framework_RecalculateDynamicShowHide;CFG_framework.prototype.NewHeaderImage=CFG_framework_NewHeaderImage;CFG_framework.prototype.SetQuickEdit=CFG_framework_SetQuickEdit;CFG_framework.prototype.SetQuickEditButtonID=CFG_framework_SetQuickEditButtonID;CFG_framework.prototype.SaveQEButtonText=CFG_framework_SaveQEButtonText;CFG_framework.prototype.SetEngineState=CFG_framework_SetEngineState;CFG_framework.prototype.SetDirtyItemFlag=CFG_framework_SetDirtyItemFlag;