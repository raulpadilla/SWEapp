if(typeof(SiebelAppFacade.PhysicalRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PhysicalRenderer");SiebelApp.S_App.RegisterConstructorAgainstKey(SiebelApp.Constants.get("SWE_UIDEF_APPLET_PRENDR"),"SiebelAppFacade.PhysicalRenderer");SiebelAppFacade.PhysicalRenderer=(function(){var at=SiebelJS.Dependency("SiebelApp.Utils");var V=SiebelJS.Dependency("SiebelApp.Constants");var Z=V.get("SWE_PST_BUTTON_CTRL");var ar=V.get("SWE_CTRL_DETAIL");var ab=V.get("SWE_CTRL_MVG");var B=V.get("SWE_CTRL_PICK");var ak=V.get("SWE_CTRL_RADIO");var R=V.get("SWE_CTRL_CHECKBOX");var s=V.get("SWE_CTRL_COMBOBOX");var aq=V.get("SWE_CTRL_CHART");var al=V.get("SWE_CTRL_PLAINTEXT");var f=V.get("SWE_CTRL_DATE_TIME_PICK");var L=V.get("SWE_CTRL_DATE_PICK");var y=V.get("SWE_CTRL_CALC");var ad=V.get("SWE_CTRL_DATE_TZ_PICK");var h=V.get("SWE_CTRL_CURRENCY_CALC");var N=V.get("SWE_CTRL_TEXT");var a=V.get("SWE_CTRL_TEXTAREA");var C=V.get("SWE_CTRL_RTCEMBEDDED");var w=V.get("SWE_CTRL_RTCEMBEDDEDTEXTONLY");var g=V.get("SWE_CTRL_RTCEMBEDDEDLINKFIELD");var Q=V.get("SWE_CTRL_RTCPOPUP");var u=V.get("SWE_CTRL_RTCIO");var ag=V.get("SWE_CTRL_INKDATA");var l=V.get("SWE_CTRL_LINK");var af=V.get("SWE_CTRL_LABEL");var W=V.get("SWE_CTRL_URL");var ae=V.get("SWE_CTRL_MAILTO");var Y=/(About Record Applet\w*)|(About SRF Applet\w*)|(About Siebel Applet\w*)|(About View Applet\w*)|(Record Count Applet\w*)|(Technical Support Applet\w*)/;var P=V.get("SWE_CTRL_EFFDAT");var I=V.get("SWE_CTRL_IMAGECONTROL");var T=V.get("SWE_CTRL_FILE");var t=V.get("SWE_PST_COL");var d=V.get("SWE_PST_APPLET_MODE_QUERY");var X=V.get("SWE_PST_APPLET_MODE_EDIT");var K=V.get("SWE_PST_APPLET_MODE_NEW");function G(av){var au=av;this.GetPM=function(){return au};var ax=null;this.SetFirstControl=function(ay){ax=ay};this.GetFirstControl=function(){return ax};var aw=new SiebelAppFacade.SearchCtrl(this);this.GetSearchCtrl=function(){return aw};this.GetPM().AttachPMBinding("UpdateQuickPickInfo",this.UpdatePick,{scope:this});this.GetPM().AttachPMBinding("UpdateAppletMessage",this.UpdateAppletMessageUI,{scope:this});this.GetPM().AttachPMBinding("UpdateCSQueryMsg",this.UpdateCSQueryMsgUI,{scope:this});this.GetPM().AttachPMBinding("UpdateCurrencyCalcInfo",r,{scope:this});this.GetPM().AttachPMBinding("UpdateConditionals",j,{scope:this});this.GetPM().AttachPMBinding("ProcessCancelQueryPopup",ap,{scope:this});this.GetPM().AttachPMBinding("FocusOnApplet",c,{scope:this});this.GetPM().AttachPMBinding("HandleCtrlDefChange",this.RefreshControl,{scope:this});this.GetPM().AttachPMBinding("SetCanInvokeState",ai,{scope:this});this.GetPM().AttachPMBinding("BeginQueryState",am,{scope:this});this.GetPM().AttachPMBinding("EndQueryState",x,{scope:this});this.GetPM().AttachPMBinding("UpdateRowCounter",v,{scope:this});this.GetPM().AttachPMBinding("ShowPopup",function(ay){this.ShowPopup(ay)},{scope:this});this.GetPM().AttachPMBinding("isControlPopupOpen",p,{scope:this});this._EndLife=function(){au=null;ax=null;aw=null}}G.prototype.RefreshControl=function(av){var au=$("#"+av.GetInputName())[0]||$("[name="+av.GetInputName()+"]");if(au.length>0){au.nextAll().remove();this.ShowUIControl(av);this.BindControlEvents(av);this.EnableControl(av,this.GetPM().ExecuteMethod("CanUpdate",av.GetName()));e.call(this,av)}};G.prototype.EndLife=function(){$("#s_"+this.GetPM().Get("GetFullId")+"_div").off("click click.drilldown");this._EndLife()};G.prototype.ResetRendererState=function(){};G.prototype.UpdatePick=function(){var au=arguments[arguments.length-1];var av=this.GetPM().Get("GetActiveControl");if(!av){return}n.call(this,av,au);delete this.inProgress};function n(aw,au){var av=$('input[name="'+aw.GetInputName()+'"]');if(aw){if(!this.GetPM().ExecuteMethod("CanUpdate",aw.GetName())){av.focus();return false}}if(au===null){av.autocomplete("option","source",[]);this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_COMBO"),aw);return}if(av.length!==0){av.autocomplete("option","source",au).autocomplete("option","minLength",0).autocomplete("search","");av.autocomplete("widget").attr("role","combobox");av.autocomplete("widget").children().find("a").attr("role","option");av.focus()}av=null}function r(){var av=this.GetPM();var ay=SiebelApp.S_App.GetPopupPM();$("div[name='popup']").find("div[name=CurrencyCalc]").remove();var aw=av.ExecuteMethod("GetCurrencyCalInfo");var az={pickId:aw[0],pickName:aw[1],pickValue:aw[2],dateId:aw[3],dateName:aw[4],dateValue:aw[5],calcId:aw[6],calcName:aw[7],calcValue:aw[8],hideExchDate:aw[9],CCodeReadOnly:aw[10],eDateReadOnly:aw[11],AmountReadOnly:aw[12],sourceField:aw[13]};var ax=av.Get("GetActiveControl");if(!ax){var aB=av.Get("GetControls");for(var aA in aB){if(aB[aA].GetInputName()===az.sourceField){ax=aB[aA];break}}}var au='<div name="CurrencyCalc" class="siebui-popup-currency">';au+='<div id="'+az.pickId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+az.pickName+'</span><input type="text" id="'+az.pickId+'" aria-label="'+az.pickName+'" value="'+az.pickValue+'" '+(az.CCodeReadOnly?'readonly="readonly" ':"")+"></div>";if(!az.hideExchDate){au+='<div id="'+az.dateId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+az.dateName+'</span><input type="text" id="'+az.dateId+'" aria-label="'+az.dateName+'" value="'+az.dateValue+'" '+(az.eDateReadOnly?' readonly="readonly" ':"")+"></div>"}au+='<div id="'+az.calcId+'_cc" class="siebui-popup-input-row"><span class="siebui-popup-label">'+az.calcName+'</span><input type="text" id="'+az.calcId+'" aria-label="'+az.calcName+'" value="'+az.calcValue+'" '+(az.AmountReadOnly?'readonly="readonly" ':"")+"></div>";au+="</div>";if(ay.Get("state")===V.get("POPUP_STATE_UNLOADED")){ay.Setup()}ay.SetProperty("isCurrencyOpen",true);ay.ExecuteMethod("OpenPopup",au,0,0,false,false,true);$("div[name=popup] ").find("div[name=CurrencyCalc]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").hide().end().end().bind("keydown",{ctx:this,ctrl:ax,popPM:ay},function(aD){if(aD.keyCode===$.ui.keyCode.ESCAPE){if(aD.data.popPM.Get("isCurrencyOpen")){aD.data.popPM.SetProperty("isCurrencyOpen",false);aD.data.ctx.GetPM().ExecuteMethod("NotifyClosePopup");aD.data.popPM.ExecuteMethod("ClearPopup");aD.data.ctx.SetFocusToControl(aD.data.ctrl.GetName(),true)}}if(aD.keyCode===$.ui.keyCode.ESCAPE||aD.keyCode===$.ui.keyCode.ENTER){aD.stopPropagation()}});$("div[name=CurrencyCalc]").parents("div.ui-dialog-content").removeClass("minWidthContainer");SiebelAppFacade.ControlBuilder.Pick({target:"#"+az.pickId,className:"applet-form-pick",scope:this,control:ax,click:function(aD){this.GetPM().ExecuteMethod("ShowPickPopup")}});SiebelAppFacade.ControlBuilder.DatePick({target:"#"+az.dateId,className:"applet-form-date",control:ax,scope:this,showPopup:false,click:function(aF,aE){if(!az.eDateReadOnly){this.GetPM().SetProperty("isControlPopupOpen",true);$.data(this,"innerCtrlElem",{date:aE});var aD=this;SiebelAppFacade.ControlBuilder.DatePick({target:aE,className:"applet-form-date",control:aF,scope:this,showPopup:true,getISOVal:function(){return at.toISOFormat($(this.target).val(),false)
},onClose:function(aI,aH){$(this).datetimepicker("destroy").focus();aD.GetPM().SetProperty("isControlPopupOpen",false);$.removeData("innerCtrlElem");var aG=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(aI,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat());$(this).val(aG)}})}}});SiebelAppFacade.ControlBuilder.Calculator({target:"#"+az.calcId,className:"applet-form-calculator",control:ax,scope:this,click:function(aF,aE){if(!this.GetPM().ExecuteMethod("CanUpdate",aF.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);$.data(this,"innerCtrlElem",{calc:aE});this.SetControlValue(aF,this.GetPM().ExecuteMethod("GetFieldValue",aF));var aD=this;SiebelAppFacade.ControlBuilder.Calculator({target:aE,className:"applet-form-calculator",control:aF,show:true,beforeShow:function(aK,aJ){var aI=aK;var aG=$("#"+az.pickId).val();if(aG){var aH;var aL=SiebelApp.S_App.LocaleObject.GetCurrency(aG);aL=aL?aL.m_sSymbol:null;aH=aL?aL.length:0;if((aL&&aI.substr(0,aH)===aL)&&(aI.length>aH)){aI=parseFloat(aI.substring(aH))}}$(this).val(aI)},close:function(aG){var aH=aG.replace(/\[/g,"").replace(/\]/g,"");aD.SetControlValue(aF,aH);$(this).calculator("destroy").next("img").show().end().focus();aD.GetPM().SetProperty("isControlPopupOpen",false);$.removeData("innerCtrlElem");aD.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),aF)}})}});$("#"+az.pickId).bind("focus",{ctx:this,ctrl:ax},function(aD){aD.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),aD.data.ctrl,$(this).val())}).bind("blur",{ctx:this,ctrl:ax,ctrlType:az.pickName},function(aE){aE.data.ctx.onBlurCurrency(aE.data.ctrlType,$(this).val());aE.data.ctx.GetPM().ExecuteMethod("CurrencyPostChanges");var aF=aE.data.ctx.GetPM().ExecuteMethod("GetCurrencyCalInfo");var aD=$("#"+aF[6]);aD.val(aF[8])}).bind("keydown",{ctx:this,ctrl:ax,readOnly:az.CCodeReadOnly},function(aD){b.call(aD.data.ctx,$(this),aD,$(this).val())});$("#"+az.calcId).bind("focus",{ctx:this,ctrl:ax},function(aD){aD.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),aD.data.ctrl,$(this).val())}).bind("blur",{ctx:this,ctrl:ax},function(aF){if(aF.data.ctx.GetPM().Get("isControlPopupOpen")===false){var aG=$(this).val();var aE=0;while(isNaN(aG.charAt(aE))){aE++}aG=aG.substring(aE);aF.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),aF.data.ctrl,aG);aF.data.ctx.GetPM().ExecuteMethod("CurrencyPostChanges");var aH=aF.data.ctx.GetPM().ExecuteMethod("GetCurrencyCalInfo");var aD=$("#"+aH[6]);aD.val(aH[8])}}).bind("keydown",{ctx:this,ctrl:ax,readOnly:az.AmountReadOnly},function(aD){b.call(aD.data.ctx,$(this),aD,$(this).val())});$("#"+az.dateId).bind("blur",{ctx:this,ctrl:ax,readOnly:az.eDateReadOnly},function(aE){if(!aE.data.readOnly){var aF=at.Trim($(this).val());var aG=at.toISOFormat(aF,(aE.data.ctrl.GetUIType()!==L));var aD=aF;if(!aG){aD=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(aG,consts.get("ISO_DATE_FORMAT"),SiebelApp.S_App.LocaleObject.GetDateFormat())}$(this).val(aD)}return false}).bind("keydown",{ctx:this,ctrl:ax,readOnly:az.eDateReadOnly},function(aD){b.call(aD.data.ctx,$(this),aD,$(this).val())});$("div.ui-widget-overlay").bind("click",{ctx:this,ctrl:ax,popPM:ay},function(aD){if(aD.data.popPM.Get("isCurrencyOpen")){aD.data.popPM.SetProperty("isCurrencyOpen",false);aD.data.ctx.GetPM().ExecuteMethod("NotifyClosePopup");aD.data.popPM.ExecuteMethod("ClearPopup");aD.data.ctx.SetFocusToControl(aD.data.ctrl.GetName(),true)}});var aC=this;setTimeout(function(){var aD=$("#"+ax.GetInputName()+"_icon");if(aD.length===0&&typeof(aC.GetColumnHelper)==="function"){aD=$('[name="'+aC.GetColumnHelper().GetModifiedColumnName(ax.GetName())+'"]').next("img");if(aD.length===0){aD=aD.end()}}$("div[name=popup] ").find("div[name=CurrencyCalc]").parents("div.ui-dialog").position({my:"top",at:"bottom",collision:"flip",of:aD});setTimeout(function(){$("#"+az.pickId).focus()},5)},15)}G.prototype.onBlurCurrency=function(aw,av){var au=this.GetPM().ExecuteMethod("GetCurrencyCalInfo");var ax;av=av.toUpperCase();if(aw==="Currency Code"){ax=au[0];var ay=SiebelApp.S_App.LocaleObject.GetCurrency(av);if(ay){$("#"+ax).val(av)}else{$("#"+ax).val(au[2])}}};G.prototype.UpdateAppletMessageUI=function(){var ax=this.GetPM().Get("GetQueryModePrompt");var aw=this.GetPM().Get("GetId");var av=$(".AppletButtons","#a_"+aw);var au=$("#"+aw+"_msg");if(au.length===0){av.append("<td nowrap><span id="+aw+"_msg><span></td>")}if(ax!==null){$("#"+aw+"_msg").html("<b>"+ax+"</b>")}};G.prototype.UpdateCSQueryMsgUI=function(av){var az="";var ay=true;if(av){if(!this.GetPM().Get("IsInQueryMode")){ay=false}az=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_MSG")}if(ay){var ax=this.GetPM().Get("GetId");var aw=$(".AppletButtons","#a_"+ax);var au=$("#"+ax+"_ctrlmsg");if(au.length===0){aw.append("<td nowrap><span id="+ax+"_ctrlmsg><span></td>")}if(az!==null){$("#"+ax+"_ctrlmsg").html(az)}}};function ap(){var az=SiebelApp.S_App.GetPopupPM();$("[name=cancelQuery]").remove();var ay=$('<div name="cancelQuery"></div>');var aC="";var aE=SiebelApp.S_App.LocaleObject;var aB=aE.GetLocalString("IDS_CANCELQRY_INITIALTEXT");var aw=aE.GetLocalString("IDS_CANCELQRY_RESPONSETEXT");var aD=aE.GetLocalString("IDS_CANCELQRY_HEADERTEXT");var av=aE.GetLocalString("IDS_CANCELQRY_BUTTONTEXT");aC+='<div align ="center" id = "responseTxt_div"><p id="initTxt_CQ"><b>'+aB+"</b></p></div><br />";var au='<button id="cancelQry_Ctrl_CQ" class="appletButton" type="button" title="'+av+'" >'+av+"</button>";aC+='<div align="center" id = "cancelbtn_div">'+au+"</div>";ay.append(aC);if(az.Get("state")===V.get("POPUP_STATE_UNLOADED")){az.Setup()}az.SetProperty("IsCancelQryPopupOpen",true);az.SetProperty("content",ay);var aA=$("#cancelQry_Ctrl_CQ");if(aA.length!==0){var ax=this;aA.bind("click",function(aF){var aG='<p id="responseTxt_CQ"><b>'+aw+"</b></p>";$("#initTxt_CQ").replaceWith(aG);az.OnControlEvent(V.get("PHYEVENT_CANCEL_QRY_POPUP"),aF)})}}function ai(){var au=this.GetPM();var av=$("#s_"+au.Get("GetFullId")+"_div");if(au.ExecuteMethod("IsMethodDefault","MaximizeApplet")&&au.ExecuteMethod("CanInvokeMethod","MaximizeApplet")===false){av.removeClass("siebui-applet-minimize").addClass("siebui-applet-maximize")}else{if(au.ExecuteMethod("IsMethodDefault","MinimizeApplet")&&au.ExecuteMethod("CanInvokeMethod","MinimizeApplet")===false){av.removeClass("siebui-applet-maximize").addClass("siebui-applet-minimize")}else{av.removeClass("siebui-applet-maximize siebui-applet-minimize")}}}G.prototype.ShowUI=function(){ai.call(this);var ax=$("#s_"+this.GetPM().GetProxy().GetFullId()+"_div");if(at.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){ax.attr({role:"region",title:this.GetPM().Get("LandMarkTitle")})}var au=this.GetPM().Get("GetControls");for(var aw in au){if(au.hasOwnProperty(aw)){this.ShowUIControl(au[aw])}}if(!this.GetPM().Get("IsPopup")){this.ShowSearch()}var av=this.GetPM().GetProxy();this.InjectQTPInfo(ax,av);M.call(this)};function M(){var au="#s_"+this.GetPM().Get("GetFullId")+"_div";
setTimeout(function(){$(au).find("div.mceGridField input, td.siebui-form-data input, td.scField input, span.mceField input").not("[type=checkbox]").not(".siebui-input-popup").each(function(){$(this).width($(this).width()+16)})},2)}G.prototype.ShowUIControl=function(aE){if(!o(aE)){return}var aA=this;var au=aE.GetSeq()||0;var aw=$('[name="'+aE.GetInputName()+'"]')[0]||$("#"+aE.GetInputName())[0];if(!aw){return}aw=$(aw);switch(aE.GetUIType()){case W:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);if(aE.GetName()==="BookmarkImage"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){aw.remove();$($("table.FormSection")[0]).remove()}this.InjectQTPInfo(aw,aE);aw=null;break;case Z:case ar:var av=aE.GetMethodName();var aI=aE.GetDisplayName();var aT=this.GetPM().ExecuteMethod("CanInvokeMethod",av);var az=this.GetPM().Get("GetAppletLabel");if(az!==""){az=az+":"}var aB;if(av==="NewFileAttachment"){var aV=aT?aE.GetEnabledBmp():aE.GetDisabledBmp();var aN=aE.GetInputName()+"_"+V.get("SWE_FILE_NAME_STR");if(!aV){aB="<div id='"+aE.GetInputName()+"' class='siebui-file-label "+((aT===true)?"appletButton":"appletButtonDis")+"'"+((aT===true)?" ":' disabled="disabled" ')+">"+aI+"<input id='"+aN+"' tabindex='"+au+"' title='"+az+aI+"' aria-label='"+az+aI+"' type='file' class='siebui-file-input' multiple name='"+V.get("SWE_FILE_NAME_STR")+"'/></div>"}else{aB="<div id='"+aE.GetInputName()+"' class='"+((aT===true)?"siebui-btn-icon-e siebui-file-label":"siebui-btn-icon-d siebui-file-label")+"'"+((aT===true)?' tabindex="'+au+'"':" disabled='disabled' tabindex='-1'")+'><a role="button">'+aV+"</a><input id='"+aN+"' aria-label='"+az+aI+"' type='file' class='siebui-file-input' multiple name='"+V.get("SWE_FILE_NAME_STR")+"'/></div>"}aw.replaceWith(aB);var aK=$("#"+aN);var aH=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aH,fileInput:aK,formData:{},change:U,fail:E,done:ah,drop:U,scope:this});aB=aK=aH=null}else{aB='<button id="'+aE.GetInputName()+'_Ctrl" class="'+(aT?"appletButton":"appletButtonDis")+'" type="button" data-display="'+aI+'" tabindex="'+au+'" title="'+az+aI+'" aria-label="'+az+aI+'" '+((aT===true)?" ":'disabled="disabled"')+">"+aI+"</button>";if(av==="ShowQueryAssistant"){aB+='<div id="'+aE.GetInputName()+'"class="SearchCtrl"/>'}}if(av==="NewFileAttachment"){}else{var aV=aT?aE.GetEnabledBmp():aE.GetDisabledBmp();if(aV){aw.append('<a  role="button" >'+aV+"</a>").addClass(aT?"siebui-btn-icon-e":"siebui-btn-icon-d").children("a").attr("tabindex",aT?au:"-1").find("img").attr("alt",az+$(aV).attr("alt")).attr("title",az+$(aV).attr("title"));this.InjectQTPInfo(aw,aE)}else{aw.replaceWith(aB);this.InjectQTPInfo($("#"+aE.GetInputName()+"_Ctrl"),aE)}}aw=null;break;case T:var av=aE.GetMethodName();var aI=aE.GetDisplayName();var aT=this.GetPM().ExecuteMethod("CanInvokeMethod",av);var aB="<input id='"+aE.GetInputName()+"' tabindex='"+au+"' type='file' name='"+V.get("SWE_FILE_NAME_STR")+"'/>";aw.replaceWith(aB);var aK=$("#"+aE.GetInputName());var aH=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aH,fileInput:aK,formData:{},change:U,fail:E,done:ah,drop:U,scope:this});this.InjectQTPInfo(aw,aE);aw=aK=aH=null;break;case s:var ax='[name="'+aE.GetInputName()+'"]';var aR=($(ax).eq(0).clone().html("").wrap("<p/>").parent().html()||"").replace(/select/ig,"input");$(ax).replaceWith(aR);ax='input[name="'+aE.GetInputName()+'"]';$(ax).attr("maxlength",aE.GetMaxSize()||256);$(ax).bind("keydown",{ctx:this,ctrl:aE},function(aX){if(aX.which===$.ui.keyCode.TAB&&$(this).prop("readonly")){aX.stopImmediatePropagation()}return b.call(aX.data.ctx,$(this),aX,$(this).val())});SiebelAppFacade.ControlBuilder.SelectCtrl({target:ax,className:"applet-form-combo",scope:this,click:function(aX){n.call(this,aX,null)},control:aE});$(ax).width(Number(aE.GetWidth())!==0?aE.GetWidth():V.get("DFLT_COMBO_WIDTH")).height(Number(aE.GetHeight())!==0?aE.GetHeight():V.get("DFLT_COMBO_HEIGHT")).autocomplete({source:[]}).autocomplete("option","position",{my:"center top",at:"center bottom",of:$(ax),collision:"flip flip"}).attr("role","combobox").attr("tabindex",au).bind("autocompletefocus",function(aX,aY){$(this).attr("aria-activedescendant",$(this).autocomplete("widget").attr("aria-activedescendant"))}).bind("autocompleteopen",{ctx:this,ctrl:aE},function(aX){aX.data.ctx.GetPM().SetProperty("isControlPopupOpen",true)}).bind("autocompleteclose",{ctx:this,ctrl:aE},function(aX){aX.data.ctx.GetPM().SetProperty("isControlPopupOpen",false)});this.InjectQTPInfo($(ax),aE);break;case al:if(at.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){$(aw).append('<Label tabindex="" + cti + "" id="'+$(aw).attr("id")+'_Label"></Label>');aw=null}break;case ak:var aU=aE.GetRadioGroupPropSet();var aW=aE.GetDisplayName();if(aU.IsEmpty()){break}var aS=aE.GetInputName();var aC=$("[name="+aS+"]");var aL=aC.outerWidth();var aD=aC.parent();aC.remove();var aG="";for(var aQ=0;aQ<aU.GetChildCount();aQ++){var aF=aU.GetChild(aQ);var ay=aF.GetProperty("DisplayName");aG+="<input type='radio' tabindex=\""+au+"\" role='radio' name = '"+aE.GetInputName()+"' value = '"+aF.GetProperty("FieldValue")+"' aria-label='"+(aW?(aW+" "):"")+ay+"'>"+ay+"<br>"}aD.append(aG);aC=aD=null;break;case ab:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.Mvg({target:aw,className:"applet-form-mvg",scope:this,click:function(aX){this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_MVG"),aX)},control:aE});this.InjectQTPInfo(aw,aE);break;case P:SiebelAppFacade.ControlBuilder.EffDat({target:aw,className:"applet-form-effdat",scope:this,click:function(aX){this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_EFFDAT"),aX)},control:aE});aw.attr("tabindex",au);this.InjectQTPInfo(aw,aE);break;case B:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.Pick({target:aw,className:"applet-form-pick",scope:this,click:function(aX){this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_PICK"),aX)},control:aE});this.InjectQTPInfo(aw,aE);break;case L:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.DatePick({target:aw,className:"applet-form-date",control:aE,scope:this,showPopup:false,click:function(aY,aZ){if(!this.GetPM().ExecuteMethod("CanUpdate",aY.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);var aX=this;SiebelAppFacade.ControlBuilder.DatePick({target:aZ,className:"applet-form-date",control:aY,scope:aX,showPopup:true,getISOVal:function(){return at.toISOFormat($(this.target).val(),false)},onClose:function(a1,a0){$(this).datetimepicker("destroy");aX.GetPM().SetProperty("isControlPopupOpen",false);aX.SetFocusToControl(aY.GetName(),true);aX.GetPM().GetProxy().LeaveField(aY,a1,true)}})}});this.InjectQTPInfo(aw,aE);break;
case f:case ad:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.DateTimePick({target:aw,className:"applet-form-datetime",control:aE,scope:this,showPopup:false,click:function(aY,aZ){if(!aA.GetPM().ExecuteMethod("CanUpdate",aY.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);var aX=this;SiebelAppFacade.ControlBuilder.DateTimePick({target:aZ,className:"applet-form-datetime",control:aY,scope:aX,showPopup:true,getISOVal:function(){return at.toISOFormat($(this.target).val(),true)},onClose:function(a1,a0){$(this).datetimepicker("destroy");aX.GetPM().SetProperty("isControlPopupOpen",false);aX.SetFocusToControl(aY.GetName(),true);aX.GetPM().GetProxy().LeaveField(aY,$(this).val(),true)}})}});this.InjectQTPInfo(aw,aE);break;case y:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.Calculator({target:aw,className:"applet-form-calculator",control:aE,scope:this,click:function(aY,aX){if(!aA.GetPM().ExecuteMethod("CanUpdate",aY.GetName())){return}this.GetPM().SetProperty("isControlPopupOpen",true);aA.SetControlValue(aY,aA.GetPM().ExecuteMethod("GetFieldValue",aY));SiebelAppFacade.ControlBuilder.Calculator({target:aX,className:"applet-form-calculator",control:aY,show:true,close:function(aZ){var a0=aZ.replace(/\[/g,"").replace(/\]/g,"");aA.SetControlValue(aY,a0);$(this).calculator("destroy");$(this).next("img").show();$(this).focus();aA.GetPM().SetProperty("isControlPopupOpen",false);aA.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),aY)}})}});this.InjectQTPInfo(aw,aE);break;case h:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);SiebelAppFacade.ControlBuilder.Currency({target:aw,className:"applet-form-currency",scope:this,click:function(aX){this.GetPM().OnControlEvent(V.get("PHYEVENT_CURRENCY_POPUP"),aX)},control:aE});this.InjectQTPInfo(aw,aE);break;case C:SiebelAppFacade.ControlBuilder.RTCeditor({target:aw,blur:function(aY,aX){if(aA.GetPM().Get("IsInQueryMode")&&aY.GetCaseSensitive()&&(aX===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){aX=""}aA.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),aY,aX);if(aA.GetPM().Get("IsInQueryMode")&&aY.GetCaseSensitive()&&(aX==="")){aX=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK");$("[name="+aY.GetInputName()+"]").ckeditor(function(a0){var aZ=this;setTimeout(function(a1){aZ.setData(a1)},2)})}},focus:function(aY,aX){if(aA.GetPM().Get("IsInQueryMode")&&aY.GetCaseSensitive()&&(aX===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){aX="";$("[name="+aY.GetInputName()+"]").ckeditor(function(a0){var aZ=this;setTimeout(function(a1){aZ.setData(a1)},2)})}aA.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),aY,aX)},control:aE});aw.attr("tabindex",au);this.InjectQTPInfo(aw,aE);break;case ag:var aJ=aE.GetInputName();aC=$("[name="+aJ+"]");var aM=aC.attr("value");aD=aC.parent();aC.remove();aw='<div id ="'+aJ+'" name ="'+aJ+'" class = "siebui-ctrl-sigpad"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+aJ+'-clearButton" style="display:none"></p><input class = "'+aJ+'" style="display:none"></input></div>';aD.append(aw);if(this.GetPM().ExecuteMethod("CanUpdate",aE.GetName())){$("#"+aJ).signaturePad({output:$("."+aJ),clear:".siebui-ctrl"+aJ+"-clearButton"})}else{try{if(aM===""){aM=this.GetPM().ExecuteMethod("GetFieldValue",aE)}$("#"+aJ).signaturePad({displayOnly:true}).regenerate(aM)}catch(aP){if(aP.name==="SyntaxError"){if(aM===""||aM.match("Cancelled*")){$("#"+aJ).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+aJ).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(aP)}}}this.InjectQTPInfo($("[name='"+aE.GetInputName()+"']"),aE);aC=aD=null;break;case l:if(aw.length===1){var av=aE.GetMethodName();var aT=this.GetPM().ExecuteMethod("CanInvokeMethod",av);var aV=aT?aE.GetEnabledBmp():aE.GetDisabledBmp();if(aV){aw.append('<a href= "javascript:void()" role="link">'+aV+"</a>").addClass(aT?"siebui-link-icon-e":"siebui-link-icon-d");aw.children("a").attr("tabindex",aT?au:"-1")}else{aw.append(J.call(this,aE)).addClass("siebui-ctrl-link")}}this.InjectQTPInfo(aw,aE);aw=null;break;case af:if(aE.GetMethodName()){aw.append(J.call(this,aE)).addClass("siebui-ctrl-label").attr("tabindex",au);this.InjectQTPInfo(aw,aE);aw=null}break;case N:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);if(aE.GetPopupType()){SiebelAppFacade.ControlBuilder.DetailPopup({target:aw,className:"applet-form-pick",scope:this,click:function(aX){this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_DETAIL_POPUP"),aX)},control:aE})}else{if(SiebelApp.S_App.CommToolbar){var aO=this.GetPM().ExecuteMethod("GetFieldDataType",aE.GetFieldName());if(aO.toLowerCase()===V.get("SWE_CTRL_PHONE").toLowerCase()){SiebelAppFacade.ControlBuilder.PhoneCtrl({target:aw,className:"applet-form-phone",click:function(aX){if(SiebelApp.S_App.CommToolbar.CallContactFromUIEnabled()){SiebelApp.S_App.CommToolbar.OpenCallContactFromUIPopup(aX.val(),$(this))}},control:aE})}}}this.InjectQTPInfo(aw,aE);break;default:aw.attr("maxlength",aE.GetMaxSize()||256).attr("tabindex",au);this.InjectQTPInfo(aw,aE);break}};function J(au){return'<a  id ="'+au.GetInputName()+'_mb" tabindex ="'+au.GetSeq()+'" href="javascript:void(0)" >'+au.GetDisplayName()+"</a>"}G.prototype.ShowSearch=function(){};G.prototype.BindEvents=function(aw){var au=aw||this.GetPM().Get("GetControls");for(var ax in au){if(au.hasOwnProperty(ax)){this.BindControlEvents(au[ax])}}au=null;$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(az){var ay=az.data.ctx;if(ay&&ay.GetPM()){ay.GetPM().OnControlEvent(V.get("PHYEVENTS_APPLET_FOCUS"));if(SiebelApp.S_App.GetPopupPM().Get("state")===consts.get("POPUP_STATE_VISIBLE")){az.stopPropagation()}m.call(ay,az)}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-btn-icon-e",{ctx:this},function(aA){var ay=aA.data.ctx.GetPM().Get("GetControls");var az=this.id;for(var aC in ay){if(ay.hasOwnProperty(aC)){var aB=ay[aC];if(aB.GetInputName()===az&&aB.GetMethodName()!=="NewFileAttachment"){return an.call(aA.data.ctx,aB)}}}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click.drilldown",".siebui-ctrl-drilldown",{ctx:this},function(aB){var ay=aB.data.ctx.GetPM().Get("GetControls");var az=this.id.indexOf("_mb");var aA=this.id.substring(0,az);for(var aD in ay){if(ay.hasOwnProperty(aD)){var aC=ay[aD];if(aC.GetInputName()===aA){aB.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_DRILLDOWN_FORM"),aC)}}}});var av=this.GetPM().ExecuteMethod("GetControlId");if(av){$("[name="+av+"]").bind("change",{ctx:this},function(ay){ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_TOGGLE_TO"),$(this).val())})}};function an(ax){SiebelApp.S_App.uiStatus.Busy({});var av={};av.async=true;av.cb=function(){var ay=Array.prototype.slice.call(arguments);var az=ay?ay[ay.length-1]:"";if(az!==V.get("SWE_RPC_PROP_NEW_LAYOUT")&&az!==V.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&az!==V.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()
}};var aw=ax.GetMethodPropSet();var au=aw.Clone();this.GetPM().OnControlEvent(V.get("PHYEVENT_INVOKE_CONTROL"),ax.GetMethodName(),au,av)}G.prototype.IsValidClick=function(au){return(at.IndexOf(["input","button","a"],au.tagName.toLowerCase())===-1)};function q(aw,av){if(this.GetPM().Get("IsInQueryMode")){var au=this.GetPM().Get("DDUserSelected");if(au&&au.ctrl===aw&&au.value===av){av='"'+av+'"';this.GetPM().SetProperty("DDUserSelected",undefined)}}return av}G.prototype.BindControlEvents=function(aw){if(!o(aw)){return}var ax=$("[name="+aw.GetInputName()+"]");var av=this.GetPM();if(ax.length===0&&aw.GetControlType()===t&&at.IndexOf([d,X,K],av.Get("GetMode"))!==-1){var au=aw.GetSpanPrefix()+"0";ax=$("[name="+au+"]")}if(ax.length===0&&$("#"+aw.GetInputName()).length===0&&$("#"+(aw.GetInputName()+"_Ctrl")).length===0){return}switch(aw.GetUIType()){case ar:case Z:if(aw.GetMethodName()==="NewFileAttachment"){return false}else{if(aw.GetMethodName()==="ClearSignature"){$("#"+(aw.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aw},function(ay){var aA=ay.data.ctx.GetPM().Get("GetControls");for(var az in aA){if(aA[az].GetUIType()==="JInkData"){$(".siebui-ctrl"+aA[az].GetInputName()+"-clearButton").trigger("click");$("."+aA[az].GetInputName()).attr({value:""});$("#"+aA[az].GetInputName()).trigger("vmouseup")}}})}else{$("#"+(aw.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aw},function(ay){var az=new SiebelApp.UIStatus();setTimeout(function(){an.call(ay.data.ctx,ay.data.ctrl)},0);ay.preventDefault()})}}break;case s:ax.bind("focus",{ctx:this,ctrl:aw},function(ay){ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),ay.data.ctrl,$(this).val());if(ay.data.ctx.GetPM().Get("IsInQueryMode")&&ay.data.ctrl.GetCaseSensitive()&&$(this).val()===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){$(this).val("")}}).bind("blur",{ctx:this,ctrl:aw},function(ay){if($(document.activeElement).parents(".ui-autocomplete").length>0||$(this).data("autocomplete").menu.active){return}var az=q.call(ay.data.ctx,ay.data.ctrl,$(this).val());ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),ay.data.ctrl,$(this).val());if(ay.data.ctx.GetPM().Get("IsInQueryMode")&&ay.data.ctrl.GetCaseSensitive()&&$(this).val()===""){$(this).val(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))}}).bind("autocompleteselect",{ctx:this,ctrl:aw},function(ay,az){if(ay.data.ctx.GetPM().Get("IsInQueryMode")){ay.data.ctx.GetPM().SetProperty("DDUserSelected",{ctrl:ay.data.ctrl,value:az.item.value})}ay.data.ctx.GetPM().ExecuteMethod("LeaveField",ay.data.ctrl,az.item.value,true)});break;case ak:case R:ax.bind("keydown",{ctx:this,ctrl:aw},function(ay){return b.call(ay.data.ctx,$(this),ay,$(this).val())}).bind("focus",{ctx:this,ctrl:aw},function(ay){ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),ay.data.ctrl,$(this).val())}).bind("mousedown",{ctx:this},function(ay){if($.browser.webkit){$(this).data("webkit-mousedown",true)}}).bind("blur",{ctx:this,ctrl:aw},function(az){var ay=$(this);if(ay.data("webkit-mousedown")){ay.removeData("webkit-mousedown");return}az.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),az.data.ctrl,ay.val())}).bind("click",{ctx:this,ctrl:aw},function(aA){var az=$(this);var ay=az.attr("readonly");if(typeof ay!=="undefined"&&ay!==false){az.prop("checked",!az.prop("checked"))}if(az.attr("type")==="checkbox"){az.val(az.prop("checked")?"Y":"N")}if(az.data("webkit-mousedown")){az.removeData("webkit-mousedown")}if($.browser.webkit){var aB=$(document.activeElement);if((az.attr("id")||"")!==(aB.attr("id")||"")||(az.attr("name")||"")!==(aB.attr("name")||"")){az.focus()}}});break;case l:case af:if(aw.GetMethodName()){ax=$("#"+aw.GetInputName());ax.bind("click",{ctx:this,ctrl:aw},function(ay){an.call(ay.data.ctx,ay.data.ctrl)})}break;case ag:ax.bind("mouseup",{ctx:this,ctrl:aw},function(ay){ay.data.ctrl.GetApplet().SetActiveControl(ay.data.ctrl);ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),ay.data.ctrl,$("."+ay.data.ctrl.GetInputName()).attr("value"))});ax.bind("mouseover",{ctx:this,ctrl:aw},function(ay){ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),ay.data.ctrl,$("."+ay.data.ctrl.GetInputName()).attr("value"))});break;case L:case f:case ad:ax.bind("keydown",{ctx:this,ctrl:aw},function(ay){var az=$(this).val();if(ay.data.ctx.GetPM().Get("IsInQueryMode")===false){az=at.toISOFormat(az,(ay.data.ctrl.GetUIType()!==L))||az}return b.call(ay.data.ctx,$(this),ay,az)});ax.bind("blur",{ctx:this,ctrl:aw},function(ay){var az=$(this).val();if(ay.data.ctx.GetPM().Get("IsInQueryMode")===false){az=at.toISOFormat(az,(ay.data.ctrl.GetUIType()!==L))||az}ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),ay.data.ctrl,az)});ax.bind("focus",{ctx:this,ctrl:aw},function(ay){var az=$(this).val();if(ay.data.ctx.GetPM().Get("IsInQueryMode")===false){az=at.toISOFormat(az,(ay.data.ctrl.GetUIType()!==L))||az}ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),ay.data.ctrl,az)});break;default:ax.bind("keydown",{ctx:this,ctrl:aw},function(ay){return b.call(ay.data.ctx,$(this),ay,$(this).val())});ax.bind("blur",{ctx:this,ctrl:aw},function(ay){if(ay.data.ctx.GetPM().Get("IsInQueryMode")&&ay.data.ctrl.GetCaseSensitive()&&$(this).val()===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){$(this).val("")}ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_CHANGE"),ay.data.ctrl,$(this).val());if(ay.data.ctx.GetPM().Get("IsInQueryMode")&&ay.data.ctrl.GetCaseSensitive()&&$(this).val()===""){$(this).val(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))}});ax.bind("focus",{ctx:this,ctrl:aw},function(ay){if(ay.data.ctx.GetPM().Get("IsInQueryMode")&&ay.data.ctrl.GetCaseSensitive()&&$(this).val()===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){$(this).val("")}ay.data.ctx.GetPM().OnControlEvent(V.get("PHYEVENT_VALUE_FOCUS"),ay.data.ctrl,$(this).val())});break}ax=null};function b(aw,ax,az){var au=false;var av=this.GetPM();if(aw&&aw.length===1&&ax){var ay=ax.data.ctrl;if(ay){switch(ax.which){case $.ui.keyCode.ENTER:au=S.call(this,aw,ay,ax);break;case $.ui.keyCode.ESCAPE:au=H.call(this,aw,ay,ax);break;case $.ui.keyCode.UP:au=F.call(this,aw,ay,ax);break;case $.ui.keyCode.DOWN:au=O.call(this,aw,ay,ax);break;case $.ui.keyCode.LEFT:case $.ui.keyCode.RIGHT:au=k.call(this,aw,ay,ax);break;case $.ui.keyCode.BACKSPACE:au=ac.call(this,aw,ay,ax);if(au){ax.preventDefault()}break;case $.ui.keyCode.TAB:au=D.call(this,aw,ay,ax);break;case V.get("SWE_F2_KEY"):au=i.call(this,aw,ay,ax);break}}}if(au){ax.stopImmediatePropagation()}}function F(au,aw,av){switch(aw.GetUIType()){case s:if(av.ctrlKey||av.altKey||av.shiftKey){$(au).autocomplete("option","source",[])}break}return false}function O(au,aw,av){switch(aw.GetUIType()){case s:if(av.ctrlKey||av.altKey||av.shiftKey){$(au).autocomplete("option","source",[])}else{if(!($(au).autocomplete("widget").is(":visible"))){n.call(this,aw,null);
return true}}}return false}function k(av,ax,aw){var au=false;if(aw.altKey){au=H.call(this,av,ax,aw)}return au}function S(au,aw,av){switch(aw.GetUIType()){case a:case W:case ag:case C:case w:case g:case Q:case u:case Z:return true}return(this.GetPM().OnControlEvent(V.get("PHYEVENT_ENTER_KEY_PRESS"),aw))}function H(au,ax,av){var aw=this.GetPM().Get("isControlPopupOpen");this.GetPM().OnControlEvent(V.get("PHYEVENT_ESCAPE_KEY_PRESS"),ax);if(this.GetPM().Get("isControlPopupOpen")!==aw){return true}return false}function ac(av,ay,aw){var au=av.attr("type");if(au==="checkbox"){return true}var ax=this.GetPM().ExecuteMethod("CanUpdate",ay.GetName());if(!ax){return true}else{return false}}function i(au,aw,av){if(!av.data.readOnly){$(au).nextAll("img[id$='_icon']").click()}return true}function D(av,aw,au){if(au.keyCode===$.ui.keyCode.TAB){m.call(this,au)}}function p(){if(this.GetPM().Get("isControlPopupOpen")===false){var ay=this.GetPM().Get("GetActiveControl");if(ay){var ax=$($('input[name="'+ay.GetInputName()+'"]')[0]||$("#"+ay.GetInputName())[0]);switch(ay.GetUIType()){case s:ax.autocomplete("close");break;case L:case f:case ad:ax.datetimepicker("hide");break;case y:ax.calculator("hide");break;case h:var aw=$.data(this,"innerCtrlElem");if(aw&&aw.hasOwnProperty("calc")){var au=$(aw.calc);if(au&&au.size()>0){au.calculator("hide")}}else{if(aw.hasOwnProperty("date")){var av=$(aw.date);if(av&&av.size()>0){av.datetimepicker("hide")}}}break}}}}G.prototype.BindData=function(){this.ShowSelection()};G.prototype.ShowSelection=function(av){if(this.inProgress){return false}var aw=this.GetPM(),au=aw.Get("GetControls");for(var ax in au){if(au.hasOwnProperty(ax)){e.call(this,au[ax],av)}}};function e(aw,ay){var aE=!ay?0:ay,av=this.GetPM(),au=aw.GetName(),ax=aw.GetFieldName(),aD=av.Get("IsInQueryMode"),aA=av.Get("IsPure"),az=av.ExecuteMethod("IsPrivateField",au);if(!at.IsEmpty(ax)||az||!aA){var aC="";if(aD||az||!aA){if(!aD||!aA){if(ay===undefined||ay===null){aC=av.ExecuteMethod("GetFormattedFieldValue",aw,false)}else{aC=av.ExecuteMethod("GetFormattedFieldValue",aw,true,aE)}}else{var aB=av.Get("GetRecordSet");if(at.IsEmpty(aB[aE][ax])){if((aw.GetCaseSensitive()&&this.GetPM().ExecuteMethod("CanUpdate",aw.GetName())&&aw!=this.GetPM().Get("GetActiveControl"))){aC=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")}else{aC=""}}else{aC=aB[aE][ax]}}}else{if(ay===undefined||ay===null){aC=av.ExecuteMethod("GetFormattedFieldValue",aw,true)}else{aC=av.ExecuteMethod("GetFormattedFieldValue",aw,true,aE)}}if(aA||(!aA&&aw.GetUIType()!==Z)){if(ay===undefined||ay===null){this.EnableControl(aw,av.ExecuteMethod("CanUpdate",au));this.SetControlValue(aw,aC)}else{this.EnableControl(aw,av.ExecuteMethod("CanUpdate",au),aE);this.SetControlValue(aw,aC,aE)}}}}function A(ax,aC,ay){var au="";var aB=SiebelApp.S_App.GetIconMap();var aw=aB[SiebelApp.S_App.LookupStringCache(ax.GetIconMap())];if(aw){for(var az=0;az<aw.length;az++){var aD=$(aw[az].iconImage),av=ax.GetDisplayName();if(av){var aA=aD.attr("alt");aD.attr("alt",(aA?(av+":"+aA):aA));aA=aD.attr("title");aD.attr("title",(aA?(av+":"+aA):aA));aD=aD[0].outerHTML}else{aD=aw[az].iconImag}if(!at.IsEmpty(aC)&&aw[az].iconName==aC){return aD}if(aw[az].iconName=="Default"){au=aD}}if(!at.IsEmpty(au)){return au}}return""}function ao(av,aw,au,ay,ax){if(au){if(av.next("."+aw).length===1){av.next("."+aw).html(au)}else{av.after("<span class='"+aw+"'>"+au+"</span>")}av.next("."+aw).show()}else{av.next("."+aw).hide()}if(ay||(!ay&&at.IsEmpty(ax))){av.val(ax).show()}else{av.hide()}}G.prototype.SetControlValue=function(aA,aH,aC){if(!o(aA)){return}var aI=!aC?0:aC;var ay=this.GetPM();var av="";var aF=this.GetPM().ExecuteMethod("CanUpdate",aA.GetName());var aB=$("#"+aA.GetInputName())[aI]||$("[name="+aA.GetInputName()+"]")[aI];if(!aB){return}aB=$(aB);if(aA.GetShowBase()&&aA.GetUIType()!=="checkBoxCtrl"){av=A.call(this,aA,aH,aB)}var aD=this.GetPM().ExecuteMethod("CanNavigate",aA.GetName());switch(aA.GetUIType()){case al:if(at.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){if($("#"+aA.GetInputName()+"_Label").length===1){aB=$("#"+aA.GetInputName()+"_Label")}}if(!at.IsEmpty(av)){aB.html(av)}else{if(at.IsTrue(aA.IsEncode())){at.IsEmpty(aH)?aB.html(""):aB.html(HtmlEncode(aH))}else{at.IsEmpty(aH)?aB.html(""):aB.html(aH)}}break;case R:aB.val(aH);if(aB.prop("checked")!==at.IsTrue(aH)){aB.prop("checked",at.IsTrue(aH))}break;case ak:$("[name="+aA.GetInputName()+"]").filter('[value="'+aH+'"]').attr("checked",true);break;case C:if($(aB).length>0){$(aB).ckeditor(function(){var aK=aH;var aJ=this;setTimeout(function(){aJ.setData(aK)},2);aB=null})}break;case W:var az="";var au=HtmlEncode(aH);if(typeof(aH)==="string"){if((au.indexOf("http://")!=0)&&(au.indexOf("https://")!=0)){au="http://"+au}}if(!aF&&!at.IsEmpty(aH)){az="<a href='"+au+"' target='_blank' >"+au+"</a>"}else{if(av){az="<a href='"+au+"' target='_blank' >"+av+"</a>"}}if(aA.GetName()==="BookmarkURL"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){var ax=aB.replaceWith('<textarea name="'+aA.GetInputName()+'" readonly="readonly" rows="3" cols="150" value=\''+aH+"'>"+aH+"</textarea>")}else{ao.call(this,aB,"siebui-ctrl-url",az,aF,aH)}break;case ae:var aw="";aH=HtmlEncode(aH);if(!aF&&!at.IsEmpty(aH)){aw='<a href="mailto:'+aH+'">'+aH+"</a>"}else{if(av){aw='<a href="mailto:'+aH+'">'+av+"</a>"}}ao.call(this,aB,"siebui-ctrl-mail",aw,aF,aH);break;case I:at.IsEmpty(aH)?aB.html(""):aB.html('<a role="img" tabindex="0" >'+aH+"<a>");break;case aq:at.IsEmpty(aH)?aB.html(""):aB.replaceWith(aH);break;default:if(aA.GetCaseSensitive()&&this.GetPM().Get("IsInQueryMode")&&(aH=="")){aH=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")}if(Y.test(ay.GetPMName())){aB.replaceWith('<div role="document" tabindex="0" title="'+aH+'" name="'+aB.attr("name")+'" aria-label="'+aA.GetDisplayName()+'">'+aH+"</div>")}else{if(aD&&!at.IsEmpty(aH)){if(aF){if(aB.nextAll("img#"+aB.attr("name")+"_icon").length){aa.call(this,aA,aH,aB,aI)}else{var aG=aB,aE=this;setTimeout(function(){aa.call(aE,aA,aH,aG,aI);aG=aE=null},2)}}else{aj.call(this,aA,aH,aB,aI)}}else{if(aB.nextAll().length>0){aB.nextAll("div#"+aA.GetInputName()+"_IPEField").remove();aB.nextAll().hide()}aB.show();aB.nextAll("img#"+aB.attr("name")+"_icon").show();at.IsEmpty(aH)?aB.val(""):aB.val(aH)}}aB=null;break}};function aa(aw,aA,ax,aD){ax.nextAll("a#"+aw.GetInputName()+"_mb").remove();var ay='<a  id ="'+aw.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown"  name = "'+aw.GetName()+'"  tabindex="-1" rowId = "'+(aD+1)+'"  href="javascript:void(0)" >'+HtmlEncode(aA)+"</a>";var aC="siebui-drilldown-input siebui-input-align-"+aw.GetJustification();var av=aw.GetInputName()+"_IPEField";var az=ax.attr("style");var au='<div tabindex= "0" id = "'+av+'" style = "'+az+'" class= "'+aC+'">'+ay+"<\div>";var aB=(document.activeElement===ax[0]);if(!aB){aB=(document.activeElement===ax.nextAll("div#"+av)[0])}ax.nextAll("div#"+av).remove();ax.after(au);ax.val(aA);ax.hide();ax.nextAll("img#"+ax.attr("name")+"_icon").hide();
ax.nextAll("div#"+av).show();(function(aF,aE){aF.nextAll("div#"+av).click(function(aG){z.call(aE,true,aF)}).bind("keypress",function(aG){if(aG.keyCode===13){z.call(aE,true,aF)}})})(ax,this);if(aB){ax.nextAll("div#"+av).focus()}}function aj(ay,ax,aw,au){aw.nextAll("div#"+ay.GetInputName()+"_IPEField").remove();var av='<a  id ="'+ay.GetInputName()+'_mb"  class = "siebui-ctrl-drilldown"  name = "'+ay.GetName()+'"  rowId = "'+(au+1)+'"  href="javascript:void(0)" >'+HtmlEncode(ax)+"</a>";if(aw.next(":not(br,img)").length===1){if(aw.next(":not(br,img)").attr("id")!==ay.GetInputName()+"_mb"||aw.next(":not(br,img)").html()!==ax){aw.next(":not(br,img)").html(av)}}else{aw.after(av)}aw.val(ax);aw.next().show();aw.hide();aw.nextAll("img#"+aw.attr("name")+"_icon").hide()}function z(av,aw,au){if(av){var ax=aw.nextAll("div#"+aw.attr("name")+"_IPEField").text();aw.nextAll("div#"+aw.attr("name")+"_IPEField").hide();aw.nextAll("img#"+aw.attr("name")+"_icon").show();aw.show();aw.val(ax)}else{var ax=aw.val();aw.nextAll("div#"+aw.attr("name")+"_IPEField").show();aw.nextAll("img#"+aw.attr("name")+"_icon").hide();aw.hide();aw.nextAll("div#"+aw.attr("name")+"_IPEField").children().val(ax)}if(au!==true){aw.focus()}}function m(au){var av=this.GetPM();var aw=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("div[id$='_IPEField']").filter(":hidden");var ax=aw.prevAll("input.siebui-input-popup").eq(0);if((aw.length&&au&&au.keyCode===$.ui.keyCode.TAB)||document.activeElement!==ax[0]){z.call(this,false,ax,true)}}G.prototype.EnableControl=function(az,ay,av){var aw;if(!o(az)){return}av=!av?0:av;if(az.GetUIType()===Z){var au=az.GetEnabledBmp();var ax=az.GetDisabledBmp();if(au||ax){var aA=ay?au:ax;var aw=$("#"+az.GetInputName());if(aA){aw.removeClass("siebui-btn-icon-e siebui-btn-icon-d").addClass(ay?"siebui-btn-icon-e":"siebui-btn-icon-d").find("a").attr("tabindex",ay?"0":"-1").html(aA)}}else{$("#"+(az.GetInputName()+"_Ctrl")).removeAttr("disabled").attr("disabled",!ay);$("#"+(az.GetInputName()+"_Ctrl")).removeClass("appletButton appletButtonDis").addClass((ay?"appletButton":"appletButtonDis"))}}else{if(az.GetUIType()===C){aw=$("#"+az.GetInputName())[av]||$("[name="+az.GetInputName()+"]")[av];if($(aw).length>0&&CKEDITOR.instances[az.GetInputName()]){CKEDITOR.instances[az.GetInputName()].setReadOnly(!ay)}}else{aw=$("#"+az.GetInputName())[av]||$("[name="+az.GetInputName()+"]")[av];$(aw).removeAttr("readOnly").attr("readOnly",!ay).attr("aria-readonly",!ay)}}};G.prototype.UpdateUIControls=function(au){var au=this.GetPM().Get("GetControls");for(var aw in au){if(au.hasOwnProperty(aw)){var av=au[aw];var ax=av.GetFieldName();if(!at.IsEmpty(ax)){this.EnableControl(av,this.GetPM().ExecuteMethod("CanUpdate",av.GetName()))}}}};G.prototype.UpdateUIButtons=function(){var au=this.GetPM().Get("GetControls");for(var ax in au){if(au.hasOwnProperty(ax)){var aw=au[ax];if(aw.GetUIType()===Z){var av=aw.GetDisplayName();var ay=this.GetPM().ExecuteMethod("CanInvokeMethod",aw.GetMethodName());this.EnableControl(aw,ay)}}}};G.prototype.FocusFirstControl=function(){var av=this.GetPM().Get("GetControls");var au=9999;this.SetFirstControl(null);for(var ay in av){var ax=av[ay];var az=ax.GetFieldName();if(!at.IsEmpty(az)){if(ax.GetIndex()&&ax.GetIndex()<au){var aw=false;if(this.GetPM().Get("IsInQueryMode")===false){aw=this.GetPM().ExecuteMethod("CanUpdate",ay)}else{aw=true}if(aw&&!at.IsEmpty(ax.GetUIType())&&(ax.isBasicControl()||ax.GetUIType()[0]==="J"||ax.GetUIType()===ab||ax.GetUIType()===B)){au=ax.GetIndex();this.SetFirstControl($("#"+ax.GetInputName())[0]||$("[name="+ax.GetInputName()+"]")[0]);break}}}}if(this.GetFirstControl()!=null){this.GetFirstControl().focus();return}this.FocusFirstNonEditableControl()};G.prototype.FocusFirstNonEditableControl=function(){var av=this.GetPM().Get("GetControls");var au=9999;var ay;for(var ax in av){var aw=av[ax];if(aw.GetIndex()<au&&(!at.IsEmpty(aw.GetUIType())&&aw.GetUIType()!=="Button"&&aw.GetUIType()!=="Label")){this.SetFirstControl($("#"+aw.GetInputName())[0]||$("[name="+aw.GetInputName()+"]")[0]);break}}ay=this.GetFirstControl();if(ay&&$(ay).length>0){$(ay).focus()}};G.prototype.SetFocusToControl=function(aw,av){var au=this.GetPM().Get("GetControls");var ax=null;for(var az in au){var ay=au[az];if(aw==az){if(!at.IsEmpty(ay.GetMethodName())){ax=$("#"+(ay.GetInputName()+"_Ctrl"))}else{ax=$("#"+ay.GetInputName())[0]||$("[name="+ay.GetInputName()+"]")[0]}if(av){$(ax).focus()}else{$(ax).blur()}return true}}};G.prototype.SetHighlightState=function(av,aw){var au=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(av){au.addClass("Selected siebui-applet-active").removeClass("NotSelected siebui-applet-nonactive")}else{au.removeClass("Selected siebui-applet-active").addClass("NotSelected siebui-applet-nonactive")}};function c(){var au=$("#s_"+this.GetPM().Get("GetFullId")+"_div");au=au.find("#a_"+this.GetPM().Get("GetId"))[0]||au;$(au).attr("tabindex",0).focus()}function o(au){return(typeof(au.GetInputName)==="function")}function U(ax,aw,av){var au=this.GetPM().ExecuteMethod("NewFileAttachment");var ay=V.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(av).fileupload("option","formData",au);$(av).fileupload("option","url",SiebelApp.S_App.GetPageURL()+V.get("SWE_ARG_START")+ay)}function ah(aw,av){var au;if(av.dataType==="iframe "){au=$(av.result).find("body").html()}else{au=av.result}if(!at.IsEmpty(au)){SiebelApp.S_App.ProcessResponse(au);if(this.GetPM()){this.FocusFirstControl()}}}function E(av,au){}G.prototype.InjectQTPInfo=function(av,au){if((av.length!=0)&&(au!=undefined)){if(typeof(au.GetObjectType)=="function"){$(av).attr("ot",au.GetObjectType())}if(typeof(au.GetRepstrName)=="function"){$(av).attr("rn",au.GetRepstrName())}if(typeof(au.GetUIName)=="function"){$(av).attr("un",au.GetUIName())}}};G.prototype.ShowPopup=function(au){switch(au.GetUIType()){case y:case f:case L:case ad:case s:$("[name='"+au.GetInputName()+"']").next().click();break}return};G.prototype.GetPhysicalControlValue=function(aw){var av,au;if(aw){this.GetPM().AddProperty("PhysicalCtrlVal",au);av=$("[name='"+aw.GetInputName()+"']");au=av.val()||"";if(this.GetPM().Get("IsInQueryMode")&&aw.GetCaseSensitive()&&(au===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))){au=""}switch(aw.GetUIType()){case L:case f:case ad:if(this.GetPM().Get("IsInQueryMode")===false){au=at.toISOFormat(at.Trim(au),(aw.GetUIType()!==L))||au}break;case ak:au=av.filter(":checked").val()||"";break;case s:au=q.call(this,aw,au);break}this.GetPM().AddProperty("PhysicalCtrlVal",au)}};function j(){var aw=this.GetPM();var au=aw.Get("GetControls");var ax=aw.Get("IsInQueryMode");aw.ExecuteMethod("SetUpdateConditionals",false);for(var aA in au){var az=au[aA];var ay=az.GetMethodName();var av=$("#"+(az.GetInputName()+"_Ctrl"))[0]||$("#"+az.GetInputName())[0];if($(av).length===0&&at.IsEmpty(az.GetFieldName())){av=$('[name="'+az.GetInputName()+'"]')[0]}av=$(av);if((aA==="PopupQueryCombobox")||(aA==="PopupQuerySrchspec")||(aA==="PopupQueryExecute")){if(ax){av.attr("disabled","disabled");
if(aA==="PopupQueryExecute"){if(av.hasClass("appletButton")){av.removeClass("appletButton")}av.addClass("appletButtonDis")}}else{if(av.attr("disabled")){av.removeAttr("disabled");if(aA==="disabled"){if(av.hasClass("appletButtonDis")){av.removeClass("appletButtonDis")}av.addClass("appletButton")}}}continue}else{if(aA==="QueryAssistant"){if(ax){if(av.attr("disabled")){av.removeAttr("disabled");if(av.hasClass("appletButtonDis")){av.removeClass("appletButtonDis")}av.addClass("appletButton")}av.next().hide()}else{av.attr("disabled","disabled");if(av.hasClass("appletButton")){av.removeClass("appletButton")}av.addClass("appletButtonDis");av.next().show()}}}if((!ax&&at.IndexOf(["UndoQuery","ExecuteQuery","ShowQueryAssistant"],ay)!==-1)||(ax&&at.IndexOf(["NewQuery","ToggleListRowCount"],ay)!==-1)){$(av).hide()}else{if(!at.IsEmpty(ay)&&aw.ExecuteMethod("CanInvokeMethod",ay)){av.show()}else{if(ax&&at.IndexOf(["Find","AddRecords","AddAllRecords","DeleteRecords","DeleteAllRecords"],ay)===-1){av.hide()}else{av.show()}}}}}function am(){var au=this.GetPM().Get("GetControls");for(var ax in au){if(au.hasOwnProperty(ax)){var aw=au[ax];var ax=aw.GetInputName();var av=$("#"+ax)[0]||$("input[name="+ax+"]")[0]||$("textarea[name="+ax+"]")[0];if(av){$(av).removeAttr("maxLength")}}}}function x(){var au=this.GetPM().Get("GetControls");for(var ax in au){if(au.hasOwnProperty(ax)){var aw=au[ax];var ax=aw.GetInputName();var av=$("#"+ax)[0]||$("input[name="+ax+"]")[0]||$("textarea[name="+ax+"]")[0];if(av){$(av).attr("maxlength",aw.GetMaxSize()||256)}}}}function v(){var ax=this.GetPM();var av=ax.ExecuteMethod("GetWSStartRowNum");var ay=Number(ax.Get("GetRowListRowCount"));var az=(ay>1)?V.get("SWE_ROW_COUNTER_LIST"):V.get("SWE_ROW_COUNTER_FORM");var au=[];var aB;var aA;var aC;if(av===0){aA=SiebelApp.S_App.GetRowCounterTemplateMap(V.get("SWE_ROW_COUNTER_NO_RECORDS"))}else{if(av>0){au.push(av);if(ay>1){au.push(Number(ax.Get("GetWSEndRowNum")))}au.push(Number(ax.Get("GetNumRows")));aB=az+(ax.Get("IsNumRowsKnown")?V.get("SWE_ROW_COUNTER_TOTAL_KNOWN"):V.get("SWE_ROW_COUNTER_TOTAL_UNKNOWN"));aA=SiebelApp.S_App.GetRowCounterTemplateMap(aB)}else{if(av<0&&av>=-1*ay){if(ay>1){au.push(Number(-1*av))}aB=az+V.get("SWE_ROW_COUNTER_LAST_RECORD");aA=SiebelApp.S_App.GetRowCounterTemplateMap(aB)}else{au.push(Number((-1-av)));if(ay>1){au.push(Number(-1-Number(ax.Get("GetWSEndRowNum"))))}aB=az+V.get("SWE_ROW_COUNTER_FROM_LAST");aA=SiebelApp.S_App.GetRowCounterTemplateMap(aB)}}}aC=at.FormatString(aA,au);var aw=$("#s_"+ax.Get("GetId")+"_rc");aw.addClass("siebui-row-counter").text(aC)}return G}())}if(typeof(SiebelAppFacade.PopupRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PopupRenderer");SiebelAppFacade.PopupRenderer=(function(){var g=SiebelJS.Dependency("SiebelApp.Utils");var e=SiebelJS.Dependency("SiebelApp.Constants");var a=Number(e.get("DEFAULT_POPUP_WIDTH"));var d=Number(e.get("DEFAULT_POPUP_HEIGHT"));function b(l){var k=l;this.GetPM=function(){return k};this.GetPM().AttachPMBinding("state",f,{scope:this});this.GetPM().AttachPMBinding("url",c,{scope:this});this.GetPM().AttachPMBinding("content",h,{scope:this});this.GetPM().AttachPMBinding("OnLoadPopupContent",j,{scope:this});this.GetPM().AttachPMBinding("OnLoadPopupContent",i,{scope:this});this.GetPM().AttachPMBinding("StandAlonePopup",this.ProcessStandAlonePopup,{scope:this})}function c(){SiebelApp.contentUpdater.AddCallBack(this.GetPM().Get("url"),function(){this.ExecuteMethod("OnLoadPopupContent")},this.GetPM());var k=$("[name=popup]");if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Call GetLayout")}k.attr("src",this.GetPM().Get("url"));k=null;setTimeout(function(){SiebelApp.contentUpdater.loadContent(true)},1)}function h(){SiebelApp.S_App.uiStatus.Free();$("[name=popup]").children().remove();$("[name=popup]").addClass("minWidthContainer");$("[name=popup]").dialog("open");$("[name=popup]").html("");$("[name=popup]").append(this.GetPM().Get("content"))}function f(){var l=this.GetPM().Get("state");var m=this.GetPM().Get("isCurrencyOpen");var k=true;if(m){k=false}if(l==e.get("POPUP_STATE_HIDDEN")){if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[name=popup]").dialog("close")}$("[name=popup]").children().remove();$("[class*=ui-dialog-buttonpane]").children().remove();this.GetPM().SetProperty("isCurrencyOpen",false)}else{if(l==e.get("POPUP_STATE_VISIBLE")){if(SiebelApp.S_App.IsMobileApplication()==="false"){$("div[name=popup]").dialog("open");$("div[name=popup]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").show();$("div[name=popup]").dialog("option","height","auto").dialog("option","width","auto").dialog("option","resizable",k).dialog("option","minWidth",a).dialog("option","minHeight",d);$("div[name=popup]").dialog("option","position","center");j.call(this);SiebelApp.S_App.uiStatus.LocalBusy({mask:true})}}}}function i(){var k=Number(this.GetPM().Get("width"))||0;var l=false;var m=$("div[name=popup]");if(m.find("div.ui-jqgrid").length>0){if(k===a){k*=2}m.width(k);$(window).resize()}else{if(k<a){m.width(a)}else{l=true}}if(l){setTimeout(function(){$("div[name=popup]").width($("div[name=popup]").width()).dialog("option","position","center")},3)}else{m.dialog("option","position","center")}m=null}function j(){if(this.GetPM().Get("currPopups")&&this.GetPM().Get("currPopups")[0]){$("[name='popup']").dialog("option","title",SiebelApp.S_App.LookupStringCache(this.GetPM().Get("currPopups")[0].GetTitle()))}else{$("[name='popup']").dialog("option","title","")}}b.prototype.BindData=function(){};b.prototype.ShowUI=function(){if($("[name=popup]").length===0){var k=$('<div name="popup"></div>');SiebelApp.S_App.GetTargetViewContainer().append(k);SiebelApp.S_App.uiStatus.LocalBusy({target:"[name=popup]",mask:false});if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[name=popup]").dialog({position:"center",modal:true,autoOpen:false,closeOnEscape:false});$("div[name=popup]").parents("div.ui-dialog").children("div.ui-dialog-titlebar").removeAttr("role")}}};b.prototype.BindEvents=function(){var k=this.GetPM();if(SiebelApp.S_App.IsMobileApplication()==="false"){$("[class*=ui-dialog-titlebar-close]").bind("click",function(l){k.OnControlEvent("ClosePopupByX",l)})}};b.prototype.ProcessStandAlonePopup=function(m,k){var l=window.open(m,"subWind",k)};return b})()};