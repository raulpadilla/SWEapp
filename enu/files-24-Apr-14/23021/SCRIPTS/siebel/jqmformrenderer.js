if(typeof(SiebelAppFacade.JQMFormRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMFormRenderer");if(typeof(SiebelApp)!=="undefined"&&typeof(SiebelApp.S_App)!=="undefined"){if(typeof(SiebelApp.Constants)!=="undefined"){SiebelApp.S_App.RegisterConstructorAgainstKey(SiebelApp.Constants.get("SWE_UIDEF_APPLET_PRENDR"),"SiebelAppFacade.JQMFormRenderer")}}SiebelAppFacade.JQMFormRenderer=(function(){var R=SiebelJS.Dependency("SiebelApp.Utils");var h=SiebelJS.Dependency("SiebelApp.Constants");var Q=h.get("SWE_PST_BUTTON_CTRL");var c=h.get("SWE_CTRL_PICK");var aw=h.get("SWE_CTRL_CHECKBOX");var B=h.get("SWE_CTRL_COMBOBOX");var M=h.get("SWE_CTRL_DATE_TIME_PICK");var U=h.get("SWE_CTRL_DATE_PICK");var k=h.get("SWE_CTRL_DATE_TZ_PICK");var O=h.get("SWE_CTRL_CALC");var az=h.get("SWE_CTRL_MAILTO");var n=h.get("SWE_CTRL_TEXTAREA");var ak=h.get("SWE_CTRL_TEXT");var v=h.get("SWE_CTRL_URL");var G=h.get("SWE_CTRL_PHONE");var x=h.get("SWE_CTRL_INKDATA");var o=h.get("SWE_CTRL_LINK");var ad=h.get("SWE_CTRL_LABEL");var an=h.get("SWE_CTRL_CURRENCY_CALC");var N=h.get("SWE_CTRL_PWD");var aB=h.get("SWE_CTRL_MVG");var F=h.get("SWE_CTRL_IMAGECONTROL");var t=/(About Record Applet\w*)|(About SRF Applet\w*)|(About Siebel Applet\w*)|(About View Applet\w*)|(Record Count Applet\w*)|(Technical Support Applet\w*)/;var q=SiebelApp.S_App.LocaleObject;var ag=q.GetLocalString("IDS_CALENDAR_PMAM_COMBOBOX_TITLE")||"AM or PM";var Z=q.GetLocalString("IDS_SWE_TIMEPICKER_HOUR")||"Hour";var E=q.GetLocalString("IDS_SWE_TIMEPICKER_MINUTE")||"Minute";var al=q.GetLocalString("IDS_SWE_TIMEPICKER_SECOND")||"Second";var ai=q.GetLocalString("IDS_SWE_MOBISCROLL_DAY")||"Day";var s=q.GetLocalString("IDS_CALENDAR_MONTH_COMBOBOX_TITLE")||"Month";var l=q.GetLocalString("IDS_CALENDAR_YEAR_COMBOBOX_TITLE")||"Year";var ar=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SUN")||"Sun";var aH=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_MON")||"Mon";var av=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_TUE")||"Tue";var C=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_WED")||"Wed";var aA=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_THU")||"Thu";var ah=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_FRI")||"Fri";var f=q.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SAT")||"Sat";var z=[ar,aH,av,C,aA,ah,f];var u=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SUNDAY")||"Sunday";var J=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_MONDAY")||"Monday";var b=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_TUESDAY")||"Tuesday";var ab=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_WEDNESDAY")||"Wednesday";var ay=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_THURSDAY")||"Thursday";var W=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_FRIDAY")||"Friday";var ao=q.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SATURDAY")||"Saturday";var g=[u,J,b,ab,ay,W,ao];var D=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JAN")||"Jan";var aC=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_FEB")||"Feb";var r=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAR")||"Mar";var m=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_APR")||"Apr";var p=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAY")||"May";var i=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUN")||"Jun";var j=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUL")||"Jul";var I=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_AUG")||"Aug";var H=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_SEP")||"Sep";var au=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_OCT")||"Oct";var aE=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_NOV")||"Nov";var aG=q.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_DEC")||"Dec";var d=[D,aC,r,m,p,i,j,I,H,au,aE,aG];var A=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JANUARY")||"January";var y=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_FEBRUARY")||"February";var am=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MARCH")||"March";var L=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_APRIL")||"April";var aj=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MAY")||"May";var af=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JUNE")||"June";var aF=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JULY")||"July";var aq=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_AUGUST")||"August";var at=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_SEPTEMBER")||"September";var S=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_OCTOBER")||"October";var ae=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_NOVEMBER")||"November";var ap=q.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_DECEMBER")||"December";var w=[A,y,am,L,aj,af,aF,aq,at,S,ae,ap];function ax(aM){var aJ=aM;this.GetPM=function(){return aJ};this.gTaphold=false;this.findBtnName=undefined;var aP="";this.IsPopup=function(){var aR=$("[name=popup]").html();if(aR===null||R.IsEmpty(aR)){return false}else{return true}};this.GetJQMListId=function(){return undefined};this.GetPopupType=function(){return aP};this.SetPopupType=function(aR){if(!R.IsEmpty(aR)){aP=aR}else{aP=""}};try{var aK=new SiebelAppFacade.JQMSearchCtrl(this);this.GetSearchCtrl=function(){return aK}}catch(aO){SiebelJS.Log("Search Control Not Implemented")}var aL=new SiebelAppFacade.JQMMapCtrl(this);this.GetMapCtrl=function(){return aL};var aQ=null;this.SetMapFieldArray=function(){aQ=aM.Get("GetMapFields")};this.GetMapFieldArray=function(){return aQ};var aN=[];this.GetReqFldHashArr=function(){return aN};var aI=null;this.SetFirstControl=function(aR){aI=aR};this.GetFirstControl=function(){return aI};this.GetPM().AttachPMBinding("UpdateQuickPickInfo",this.UpdatePick,{scope:this});this.GetPM().AttachPostProxyExecuteBinding("NewRecord",function(aS,aR,aU){var aT=aU.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(R.IsEmpty(aT))&&aT===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){if(aR.GetProperty("SWESP")!=="true"){SiebelAppFacade.JQMLayout.SetEditableMode(true)}}});this.GetPM().AttachPostProxyExecuteBinding("CreateRecord",function(aS,aR,aU){var aT=aU.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(R.IsEmpty(aT))&&aT===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this.GetPM().AttachPostProxyExecuteBinding("EditRecord",function(aS,aR,aU){var aT=aU.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(R.IsEmpty(aT))&&aT===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this._EndLife=function(){aK=null;aL=null;aI=null}}ax.prototype.UpdatePick=function(){var aK=this.GetPM();var aM=arguments[arguments.length-1];var aI=aK.GetProxy().GetActiveControl();var aN=aK.Get("GetRecordSet")[aK.Get("GetSelection")];var aR=aI.GetFieldName();var aJ=null;var aT=0;if(HtmlEncode(aK.GetProxy().GetBusComp().GetFieldValue(aR))){aJ=HtmlEncode(aK.GetProxy().GetBusComp().GetFieldValue(aR))}else{if(aN&&aN[aR]){aJ=HtmlEncode(aN[aR])}}var aQ=$("[name="+aI.GetInputName()+"]");if((!this.IsPopup())&&aQ.find('option[data-placeholder="true"]').length===0){aQ.prepend('<option data-placeholder="true" value=""></option>');aT=1}if(!R.IsEmpty(aR)&&(aQ.find('option[value=""]').length<=aT)){aQ.prepend('<option value=""></option>')}aQ.children('option[value!=""]').attr("disabled","disabled");
var aP;var aS;var aL;for(var aO=0;aO<aM.length;aO++){aP=HtmlEncode(aM[aO]);aS=aM[aO];if(!R.IsEmpty(aS)){aS=aM[aO].replace(/\"/g,'\\"')}aL=aQ.find('option[value="'+aS+'"]');if(aL.length===0){aQ.append('<option value="'+aP+'">'+aP+"</option>")}else{aL.removeAttr("disabled")}}aQ.children('option[disabled="disabled"]').remove();delete this.inProgress};ax.prototype.ShowUI=function(){var ba=this.GetPM().Get("GetControls");var a0=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var a5={str:""};a5.str=$(a0).find("td.AppletTitle").text();if($.browser.msie&&$("body").find(".ui-selectmenu").length){$(".ui-selectmenu").hide()}var a8=null;var a6=false;var aW;this.SetMapFieldArray();$(a0+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){a8=true}});if(a8===null||a8===undefined){var a9=$(a0).find("td.AppletHIFormBorder").find("table.AppletBack");var aM=$(a9).find("span.mceField").html();if(aM===null){a9=$(a0).find("td.AppletHIFormBorder").find("table.GridBack")}var aP=$(a0).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");$(a0).find("td.AppletHIFormBorder").find("tr.AppletButtons").append($(aP).html());aP.remove();var a1=this.GetReqFldHashArr();$(a0).find("div.mceLabel").each(function(bm){var bo;var bl=$(this).html();if(bl&&bl.indexOf("icon_req.gif")>-1){var bk=bl.indexOf("<img");bo=bl.substring(bk,bl.length+1)}var bn=$(this).closest("tr").find("span.mceField").find("input").attr("name");if(!R.IsEmpty(bo)){a1[bn]=bo;a6=true}});if(a6===false){$(a0).find("div.mceGridLabel").each(function(bm){var bo;var bl=$(this).html();if(bl&&bl.indexOf("icon_req.gif")>-1){var bk=bl.indexOf("<img");bo=bl.substring(bk,bl.length+1)}var bn=$(this).closest("tr").find("div.mceGridField").find("input").attr("name");if(!R.IsEmpty(bo)){a1[bn]=bo}})}$(a9).empty();var aJ={str:""};for(aW in ba){if(ba.hasOwnProperty(aW)){this.ShowUIControl(ba[aW],aJ,a5)}}(a9).append(aJ.str).trigger("create");for(aW in ba){if(ba.hasOwnProperty(aW)){this.PostUIPrep(ba[aW])}}this.ShowSearch()}else{$(a0).find("td.AppletHIFormBorder").show();var aK=$(a0).find("table.AppletBack");var bd=aK.length;var aY=this.GetMapFieldArray();for(var aS in ba){if(ba!==null){aW=ba[aS];var aU=aW.GetFieldName();var aL=aW.GetUIType();var be=aW.GetDisplayName();var bj=aW.GetInputName();var a7=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var bc="";if(!R.IsEmpty(aU)){bc=HtmlEncode(V(this.GetPM(),aW,a7))}if(!R.IsEmpty(aU)){var aN=this.GetPM().GetProxy().GetBusComp().GetField(aU);if(!R.IsEmpty(aN)&&aN.GetDataType()==="phone"){aL="Phone"}}var bi=aW.GetInputName();var bf=$("[name="+bi+"]");var aI=bf.outerWidth();var aQ=bf.parent();var bb;var aR;switch(aL){case aw:bi=aW.GetInputName();bf=$("[name="+bi+"]");aI=bf.outerWidth();aQ=bf.parent();bf.remove();if(bc==="undefined"||bc===""||bc==="N"){bb="<img src='images/No.png'  name = \""+aW.GetInputName()+'"/>'}else{bb="<img src='images/Yes.png'  name = \""+aW.GetInputName()+'"/>'}aQ.append(bb);break;case Q:var a4=$(a0).find("td.AppletHIFormBorder").find("table.AppletBack");var a3={str:""};this.ShowUIControl(aW,a3,a5);(a4).append(a3.str).trigger("create");this.PostUIPrep(aW);break;case az:var aT="";if(bc!==""){bc=bc.concat("?subject="+a5.str);aT='<a id="'+bj+'_mailto" href="mailto:'+bc+'"></a>'}bf.remove();aR=aT+"<p type='email' id='"+bi+"' class='email-ControlId' name='"+bi+"'></p>";aQ.append(aR);if(bc!==""){$("#"+bj+"_mailto").addClass("email")}break;case G:var bg="";if(bc!==""){bg='<a id="'+bj+'_tel" href="tel:'+bc+'"></a>'}bf.remove();aR=bg+"<p type='tel' id='"+bi+"' class='tel-ControlId' name='"+bi+"'></p>";aQ.append(aR);if(bc!==""){$("#"+bj+"_tel").addClass("tel")}break;case v:var a2="";if(bc!==""){if(bc.match("^http://")===null){bc="http://"+bc}a2='<a id="'+bj+'_url" href="'+bc+'" rel="external" target="foo" class="ui-link-inherit"></a>'}bf.remove();aR=a2+"<p type='url' id='"+bi+"' class='url-ControlId' name='"+bi+"'></p>";aQ.append(aR);if(bc!==""){$("#"+bj+"_url").addClass("url")}break;case k:case c:case aB:case B:case ak:bf.remove();aR="<p type='text' id='"+bj+"' class='FormAppletText' name='"+bj+"'></p>";aQ.append(aR);break;case n:bf.remove();aR="<p type='textArea' id='"+bj+"' class='textArea' name='"+bj+"'></p>";aQ.append(aR);break;case x:aR='<div id ="'+bj+'" name ="'+bj+'" class = "siebui-ctrl-sigpad"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+bj+'-clearButton" style="display:none"></p><input class = "'+bj+'" style="display:none"></input></div>';bf.remove();aQ.append(aR);if(this.GetPM().ExecuteMethod("CanUpdate",aW.GetName())){$("#"+bj).signaturePad({output:$("."+bj),clear:".siebui-ctrl"+bj+"-clearButton"})}else{try{$("#"+bj).signaturePad({displayOnly:true}).regenerate(bc)}catch(aZ){if(aZ.name==="SyntaxError"){if(bc===""||bc.match("Cancelled*")){$("#"+bj).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+bj).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(aZ)}}}break;case o:case ad:this.ShowUIControl(aW,a3,a5);break}}}var aX=this.GetPM().GetProxy().GetBusComp().GetParentBusComp();var aO=$(a0).find("td.AppletHIFormBorder").find("tr.AppletButtons");var bh=$(a0).find("tr.AppletHIFormBorderChild_Keep");if(aO.length){if(!aX||bh.length){aO[0].className="form-applet-header"}else{aO[0].parentNode.removeChild(aO[0])}}var aV=$(a0).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");$(a0).find("td.AppletHIFormBorder").find("tr.form-applet-header").append($(aV).html());aV.remove();aV=null}a0=null};ax.prototype.ResetRendererState=function(){};ax.prototype.ShowUIControl=function(aX,aI,bd){if(!aa(aX)){return}var aO=aX.GetFieldName();var aQ=aX.GetUIType();var aV=aX.GetDisplayName();var a0=aX.GetInputName();var aU;var bb=this.GetMapFieldArray();var aT=this.GetReqFldHashArr();if(!R.IsEmpty(aT[a0])){aU=aT[a0]+" ";aV=aU.concat(aV)}var aP=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var a5="";if(!R.IsEmpty(aO)){a5=HtmlEncode(V(this.GetPM(),aX,aP))}var ba=(new Date()).getFullYear();var aN;if(!R.IsEmpty(aO)){var aL=this.GetPM().GetProxy().GetBusComp().GetField(aO);if(!R.IsEmpty(aL)&&aL.GetDataType()==="phone"){aQ="Phone"}}switch(aQ){case ak:aN=T(a0,aV,a5,ak,"text");aI.str=aI.str.concat(aN);break;case U:aN=T(a0,aV,a5,U,"date");aI.str=aI.str.concat(aN);break;case M:aN=T(a0,aV,a5,M,"datetime");aI.str=aI.str.concat(aN);break;case k:aN=T(a0,aV,a5,k,"datetime");aI.str=aI.str.concat(aN);break;case az:if(a5!==""){a5=a5.concat("?subject="+bd.str)}aN=T(a0,aV,a5,az,"email");aI.str=aI.str.concat(aN);break;case G:aN=T(a0,aV,a5,G,"tel");aI.str=aI.str.concat(aN);break;case v:if(aX.GetName()==="BookmarkImage"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){$("[name='"+aX.GetInputName()+"']").remove();$($("table.FormSection")[0]).remove()}else{aN=T(a0,aV,a5,v,"url");aI.str=aI.str.concat(aN)}break;case n:aN=T(a0,aV,a5,n,"textarea");aI.str=aI.str.concat(aN);break;case O:aN=T(a0,aV,a5,O,"number");aI.str=aI.str.concat(aN);break;case an:aN=T(a0,aV,a5,an,"number");
aI.str=aI.str.concat(aN);break;case N:aN=T(a0,aV,a5,N,"password");aI.str=aI.str.concat(aN);break;case aw:aN=T(a0,aV,a5,aw,"checkbox");aI.str=aI.str.concat(aN);break;case B:aN=T(a0,aV,a5,B,"select",this.IsPopup());aI.str=aI.str.concat(aN);break;case Q:var aJ=aX.GetMethodName();var aZ=aX.GetDisplayName();var a4="";var a8=" data-iconpos='center' ";var aR=false;var a9=this.GetPM().ExecuteMethod("CanInvokeMethod",aJ);var a3=a0+"_"+h.get("SWE_FILE_NAME_STR");var aM="";if(this.IsPopup()){aM=" data-theme='c'"}if(aJ==="ExecuteQuery"||aJ==="NewQuery"||aJ==="UndoQuery"||aJ==="GetChart"||aJ==="ShowQueryAssistant"||aJ==="GotoPrevious"||aJ==="GotoNext"||aJ==="GotoDate"||aJ==="GotoToday"||aJ==="GotoWeekly"||aJ==="GotoMonthly"||aJ==="AddAppointment"||aJ==="ToggleCycle"||aJ==="EditViewLayout"||aJ==="HideAllApplets"||aJ==="MaximizeAllApplets"||aJ==="MinimizeAllApplets"||aJ==="ResetViewLayout"||aJ==="ShowAllApplets"||aJ==="ShowViewLayout"){}else{var bc=a9?aX.GetEnabledBmp():aX.GetDisabledBmp();if(bc&&(aJ!=="GotoNextSet"&&aJ!=="GotoPreviousSet")){$("#"+a0).append(bc).addClass(a9?"sweButtonImageEnabled":"sweButtonImageDisabled");break}if(aJ==="DeleteRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='delete'")}else{if(aJ==="NewRecord"&&aX.GetMethodPropSet().GetProperty("SWESP")==="true"){a4=a4.concat(a8);a4=a4.concat("data-icon='check'")}else{if(aJ==="NewRecord"||aJ==="CreateRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='custom-plus'")}else{if(aJ==="WriteRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='custom-save'")}else{if(aJ==="EditRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='custom-edit'")}else{if(aJ==="UndoRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='custom-cancel'")}else{if(aJ==="GotoNextSet"){a4=a4.concat(a8);a4=a4.concat("data-icon='arrow-r'")}else{if(aJ==="GotoPreviousSet"){a4=a4.concat(a8);a4=a4.concat("data-icon='arrow-l'")}else{if(aJ==="PickRecord"||aJ==="AddRecord"){a4=a4.concat(a8);a4=a4.concat("data-icon='check'")}else{if(aJ==="CloseApplet"){a4=a4.concat(a8);a4=a4.concat("data-icon='delete'")}else{if(aJ==="ShowMapLocations"){a4=a4.concat(a8);a4=a4.concat("data-icon='marker'");a4=a4.concat('data-iconpos="notext"')}else{if(aJ==="NxtDay"){a4=a4.concat('data-iconpos="notext"');a4=a4.concat("data-icon='arrow-r'")}else{if(aJ==="PrevDay"){a4=a4.concat('data-iconpos="notext"');a4=a4.concat("data-icon='arrow-l'")}else{if(aJ==="Submit"){a4=a4.concat(a8);a4=a4.concat("data-icon='submit'")}else{if(aJ==="Sign"){a4=a4.concat(a8);a4=a4.concat("data-icon='sign'")}else{aR=true;a4=a4.concat(a8);a4=a4.concat("data-icon='null'")}}}}}}}}}}}}}}}a4=a4.concat(" title='"+aZ+"'");if(!aR){aN="<button type='button' id='"+a0+"_Ctrl' data-inline='true'"+aM+a4+">"+aZ+"</button>"}else{if(aJ==="NewFileAttachment"){var aS=this.GetPM().Get("GetAppletLabel");if(aS!==""){aS=aS+":"}aN="<div id='"+a0+"'class='siebui-file-label'title='"+aS+aZ+"'><button type='button' id='"+a0+"_Ctrl' data-inline='true'>"+aZ+"</button><input id='"+a3+"' type='file' class='siebui-file-input' name='"+h.get("SWE_FILE_NAME_STR")+"'/></div>"}else{aN="<button type='button' id='"+a0+"_Ctrl' data-inline='true'"+aM+a4+">"+aZ+"</button>"}}$("#"+a0).append(aN).trigger("create");if(aJ==="GotoNextSet"){$("#"+a0+"_Ctrl").parent().addClass("ui-btn-recnav-next")}if(aJ==="GotoPreviousSet"){$("#"+a0+"_Ctrl").parent().addClass("ui-btn-recnav-prev")}if(aJ==="NxtDay"){$("#"+a0+"_Ctrl").parent().addClass("ui-btn-NxtDay")}else{if(aJ==="PrevDay"){$("#"+a0+"_Ctrl").parent().addClass("ui-btn-PrevDay")}else{if(aJ==="ShowMapLocations"){$("#"+a0+"_Ctrl").parent().addClass("ui-btn-ShowMap")}}}}if(this.IsPopup()&&aX.GetMethodName()==="Find"){this.findBtnName="#"+a0+"_Ctrl";$(this.findBtnName).parent().hide()}if(aJ==="NewFileAttachment"){var a2=$("#"+a3);var aY=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:aY,fileInput:a2,formData:{},change:ac,fail:aD,done:e,drop:ac,scope:this});a2=aY=null}break;case c:aN=T(a0,aV,a5,c,"text");aI.str=aI.str.concat(aN);break;case x:aN=T(a0,aV,a5,x,"ink");aI.str=aI.str.concat(aN);break;case o:var a6=$("#"+aX.GetInputName());if(a6.length===1){var a7=aX.GetMethodName();var aW=this.GetPM().ExecuteMethod("CanInvokeMethod",a7);var aK=aW?aX.GetEnabledBmp():aX.GetDisabledBmp();if(aK){a6.append(aK)}else{a6.append(K.call(this,aX)).addClass("siebui-ctrl-link")}}break;case ad:if(aX.GetMethodName()){var a1=$("#"+aX.GetInputName());a1.append(K.call(this,aX)).addClass("siebui-ctrl-label")}break}};function K(aI){return'<a  id ="'+aI.GetInputName()+'_mb" tabindex ="'+aI.GetSeq()+'" href="javascript:void(0)" >'+aI.GetDisplayName()+"</a>"}function X(aL,aJ,aI){var aK="";aK='<a id="'+aJ+'_maplink" href="#" name = "'+aJ+'_maplink" class= "mapLink"></a>';return aK}function V(aK,aP,aI){var aN=aK.Get("IsInQueryMode");var aO=aP.GetName();var aM=aP.GetFieldName();var aJ=aK.ExecuteMethod("IsPrivateField",aO);var aL="";if(!R.IsEmpty(aM)||aJ||!aK.Get("IsPure")){if(aN||aJ||!aK.Get("IsPure")){if(!aN||!aK.Get("IsPure")){aL=aK.ExecuteMethod("GetFormattedFieldValue",aP,false)}else{aL=(R.IsEmpty(aI)||R.IsEmpty(aI[aM]))?"":aI[aM]}}else{aL=aK.ExecuteMethod("GetFormattedFieldValue",aP,true)}}return aL}function a(aL){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aK=aL.GetMethodPropSet();var aI=aK.Clone();var aJ={};aJ.async=false;aJ.mask=true;aJ.target=SiebelApp.S_App.GetTargetViewContainer();aJ.cb=function(){var aM=Array.prototype.slice.call(arguments);var aN=aM?aM[aM.length-2]:"";aN=aN?aN.GetProperty(h.get("SWE_RPC_PROP_STATUS")):"";if(aN!==h.get("SWE_RPC_PROP_NEW_LAYOUT")&&aN!==h.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&aN!==h.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};this.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_CONTROL"),aL.GetMethodName(),aI,aJ)}ax.prototype.ShowSearch=function(){};ax.prototype.PostUIPrep=function(aP){if(!aa(aP)){return}var aL=aP.GetFieldName();var aN=aP.GetUIType();var aR=aP.GetInputName();var aO=aP.GetDisplayName();var aW=(new Date()).getFullYear();var aM=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var aS="";if(!R.IsEmpty(aL)){aS=HtmlEncode(V(this.GetPM(),aP,aM))}var aX=this.GetMapFieldArray();var aZ;var aV={dFormat:"mm/dd/yy",tFormat:"HH:ii:ss",dOrder:"mmddyy",tWheels:"HHiiss"};if(!R.IsEmpty(aL)){var aJ=this.GetPM().GetProxy().GetBusComp().GetField(aL);if(!R.IsEmpty(aJ)&&aJ.GetDataType()==="phone"){aN="Phone"}}switch(aN){case U:this.ConvertLocale(aV);$("#"+aR).scroller({preset:"date",dateOrder:aV.dOrder,dateFormat:aV.dFormat,endYear:aW+10,startYear:aW-50,dayText:ai,monthText:s,yearText:l,dayNames:g,dayNamesShort:z,monthNames:w,monthNamesShort:d});break;case M:this.ConvertLocale(aV);$("#"+aR).scroller({preset:"datetime",timeFormat:aV.tFormat,timeWheels:aV.tWheels,dateOrder:aV.dOrder,dateFormat:aV.dFormat,endYear:aW+10,startYear:aW-50,ampmText:ag,hourText:Z,minuteText:E,secText:al,dayText:ai,monthText:s,yearText:l,dayNames:g,dayNamesShort:z,monthNames:w,monthNamesShort:d});
break;case k:this.ConvertLocale(aV);$("#"+aR).scroller({preset:"datetime",timeFormat:aV.tFormat,timeWheels:aV.tWheels,dateOrder:aV.dOrder,dateFormat:aV.dFormat,endYear:aW+10,startYear:aW-50,ampmText:ag,hourText:Z,minuteText:E,secText:al,dayText:ai,monthText:s,yearText:l,dayNames:g,dayNamesShort:z,monthNames:w,monthNamesShort:d});break;case az:if(aS!==""){$("#"+aR+"_mailto").addClass("email")}break;case G:if(aS!==""){$("#"+aR+"_tel").addClass("tel")}break;case v:if(aS!==""){$("#"+aR+"_url").addClass("url")}break;case B:var aK=$("[name="+aP.GetInputName()+"]");if(this.IsPopup()){aK.removeAttr("data-theme").attr("data-theme","c")}aK.selectmenu();break;case Q:var aI=aP.GetMethodName();var aQ=aP.GetDisplayName();var aU=this.GetPM().ExecuteMethod("CanInvokeMethod",aI);var aY=aU?aP.GetEnabledBmp():aP.GetDisabledBmp();if(aI==="ExecuteQuery"||aI==="NewQuery"||aI==="UndoQuery"||aI==="GetChart"||aI==="ShowQueryAssistant"||aI==="GotoPrevious"||aI==="GotoNext"||aI==="GotoDate"||aI==="GotoToday"||aI==="GotoWeekly"||aI==="GotoMonthly"||aI==="AddAppointment"||aI==="ToggleCycle"||aI==="EditViewLayout"||aI==="HideAllApplets"||aI==="MaximizeAllApplets"||aI==="MinimizeAllApplets"||aI==="ResetViewLayout"||aI==="ShowAllApplets"||aI==="ShowViewLayout"){}else{if(!aU&&(aY===null||(aY&&(aI==="GotoNextSet"||aI==="GotoPreviousSet")))){if(aI==="ShowMapLocations"&&typeof(google)!=="undefined"){$("#"+aR+"_Ctrl").button("enable");$("#"+aR+"_Ctrl").addClass("showMapLocations")}else{$("#"+aR+"_Ctrl").button("disable")}}}break;case c:SiebelAppFacade.ControlBuilder.Pick({target:$("[name='"+aP.GetInputName()+"']"),className:"applet-form-pick",scope:this,click:function(a3){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var a2=aP.GetMethodPropSet();var a0=a2.Clone();var a1={};a1.async=false;a1.mask=true;a1.target=SiebelApp.S_App.GetTargetViewContainer();a1.cb=function(){SiebelApp.S_App.uiStatus.Free()};this.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),a3,a0,a1)},control:aP});break;case x:if(this.GetPM().ExecuteMethod("CanUpdate",aP.GetName())){$("#"+aR).signaturePad({output:$("."+aR),clear:".siebui-ctrl"+aR+"-clearButton"})}else{try{$("#"+aR).signaturePad({displayOnly:true}).regenerate(aS)}catch(aT){if(aT.name==="SyntaxError"){if(aS===""||aS.match("Cancelled*")){$("#"+aR).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+aR).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(aT)}}}break}};ax.prototype.ConvertLocale=function(aK){if(SiebelApp.S_App.LocaleObject){var aR=SiebelApp.S_App.LocaleObject.GetTimeFormat();var aL=SiebelApp.S_App.LocaleObject.GetDateFormat();var aS=SiebelApp.S_App.LocaleObject.GetDispDateSeparator();var aO=SiebelApp.S_App.LocaleObject.GetDispTimeSeparator();var aV=SiebelApp.S_App.LocaleObject.GetDispTimeAM();var aQ=SiebelApp.S_App.LocaleObject.GetDispTimePM();var aJ=aR.indexOf("p")>-1?true:false;var aI=R.TokenizeString(aR," ");var aN=0;var aP="";var aU="";var aM="";var aW="";var aT=R.TokenizeString(aL,aS);for(aN=0;aN<aT.length;aN++){if(aT[aN].toLowerCase()==="m"){aP=aP.concat("m");aU=aU.concat("m")}else{if(aT[aN].toLowerCase()==="mm"){aP=aP.concat("mm");aU=aU.concat("mm")}else{if(aT[aN].toLowerCase()==="mmm"){aP=aP.concat("M");aU=aU.concat("M")}else{if(aT[aN].toLowerCase()==="mmmm"){aP=aP.concat("MM");aU=aU.concat("MM")}else{if(aT[aN].toLowerCase()==="d"){aP=aP.concat("d");aU=aU.concat("d")}else{if(aT[aN].toLowerCase()==="dd"){aP=aP.concat("dd");aU=aU.concat("dd")}else{if(aT[aN].toLowerCase()==="ddd"){aP=aP.concat("D");aU=aU.concat("D")}else{if(aT[aN].toLowerCase()==="dddd"){aP=aP.concat("DD");aU=aU.concat("DD")}else{if(aT[aN].toLowerCase()==="yy"){aP=aP.concat("y");aU=aU.concat("y")}else{if(aT[aN].toLowerCase()==="yyyy"){aP=aP.concat("yy");aU=aU.concat("yy")}}}}}}}}}}if(aN<aT.length-1){aP=aP.concat("/")}}if(aP!==""){aK.dFormat=aP}if(aU!==""){aK.dOrder=aU}if(aI.length>0){aT=R.TokenizeString(aI[0],aO);for(aN=0;aN<aT.length;aN++){if(aT[aN].toLowerCase()==="h"){aM=aJ?aM.concat("h"):aM.concat("H");aW=aJ?aW.concat("h"):aW.concat("H")}if(aT[aN].toLowerCase()==="hh"){aM=aJ?aM.concat("hh"):aM.concat("HH");aW=aJ?aW.concat("hh"):aW.concat("HH")}if(aT[aN].toLowerCase()==="m"){aM=aM.concat("i");aW=aW.concat("i")}if(aT[aN].toLowerCase()==="mm"){aM=aM.concat("ii");aW=aW.concat("ii")}if(aT[aN].toLowerCase()==="s"){aM=aM.concat("s");aW=aW.concat("s")}if(aT[aN].toLowerCase()==="ss"){aM=aM.concat("ss");aW=aW.concat("ss")}if(aN<aT.length-1){aM=aM.concat(":")}if(aN===aT.length-1&&aJ){aM=aM.concat(" A");aW=aW.concat("A")}}}if(aM!==""){aK.tFormat=aM}if(aW!==""){aK.tWheels=aW}}};function Y(aN,aM,aL){var aI="";var aO=SiebelApp.S_App.GetIconMap();var aK=aO[SiebelApp.S_App.LookupStringCache(aN.GetIconMap())];if(aK){for(var aJ=0;aJ<aK.length;aJ++){if(!R.IsEmpty(aM)&&aK[aJ].iconName===aM){return aK[aJ].iconImage}if(aK[aJ].iconName==="Default"){aI=aK[aJ].iconImage}}if(!R.IsEmpty(aI)){return aI}}return""}function T(aS,aQ,aR,aO,aJ,aP){var aK="<div id='"+aS+"_jqm' data-role='fieldcontain'>";var aN="<label for='"+aS+"' id='"+aS+"_label'>"+aQ+"</label>";switch(aO){case U:case M:case k:aK=aK.concat(aN);aK=aK.concat('<input type="text" id="'+aS+'" name="'+aS+'" class="mobiscroll" value="'+aR+'"/>');break;case ak:aK=aK.concat(aN);aK=aK.concat('<input type="'+aJ+'" id="'+aS+'" name="'+aS+'" value="'+aR+'"/>');break;case O:case an:aJ="text";aK=aK.concat(aN);aK=aK.concat('<input type="'+aJ+'" pattern="[0-9]*" id="'+aS+'" name="'+aS+'" value="'+aR+'"/>');break;case N:aK=aK.concat(aN);aK=aK.concat('<input type="'+aJ+'" id="'+aS+'" name="'+aS+'" value="'+aR+'"/>');break;case v:var aI="";if(aR!==""){if(aR.match("^http://")===null){aR="http://"+aR}aI='<a id="'+aS+'_url" href="'+aR+'" rel="external" target="foo" class="ui-link-inherit"></a>'}aK=aK.concat("<label for='"+aS+"' id='"+aS+"_label'>"+aQ+"</label>");aK=aK.concat("<input type='"+aJ+"' id='"+aS+"' name='"+aS+"'>"+aI+"</input>");break;case G:var aL="";if(aR!==""){aL='<a id="'+aS+'_tel" href="tel:'+aR+'"></a>'}aK=aK.concat("<label for='"+aS+"' id='"+aS+"_label'>"+aQ+"</label>");aK=aK.concat("<input type='"+aJ+"' id='"+aS+"' name='"+aS+"'>"+aL+"</input>");break;case az:var aM="";if(aR!==""){aM='<a id="'+aS+'_mailto" href="mailto:'+aR+'"></a>'}aK=aK.concat("<label for='"+aS+"' id='"+aS+"_label'>"+aQ+"</label>");aK=aK.concat("<input type='"+aJ+"' id='"+aS+"' name='"+aS+"'>"+aM+"</input>");break;case n:aK=aK.concat(aN);aK=aK.concat('<textarea type="textarea" id="'+aS+'" name="'+aS+'" value="'+aR+'"/>');break;case aw:aK=aK.concat("<fieldset class ='Checkbox_Label' data-role='controlgroup'><legend>"+aQ+"</legend><input type='checkbox' id='"+aS+"' name='"+aS+"' class='custom' value='"+aR+"'/><label for='"+aS+"' id='"+aS+"_label'></label></fieldset>");break;case B:if(!aP){aK=aK.concat('<label for="'+aS+'" class="select">'+aQ+'</label><select data-native-menu="false" class="custom_select" id="'+aS+'" name="'+aS+'" value="'+aR+'"><option value="'+aR+'">'+aR+"</option></select>")}else{aK=aK.concat('<label for="'+aS+'" class="select">'+aQ+'</label><select id="'+aS+'" class="select" name="'+aS+'" value="'+aR+'"><option value="'+aR+'">'+aR+"</option></select>")
}break;case c:aK=aK.concat("<label for='"+aS+"' id='"+aS+"_label'>"+aQ+"</label>");aK=aK.concat("<input type='"+aJ+"' id='"+aS+"' name='"+aS+"'></input>");break;case x:aK=aK.concat('<div id ="'+aS+'"name ="'+aS+'"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+aS+'-clearButton" style="display:none"></p><input class = "'+aS+'" style="display:none"></input></div>');break}aK=aK.concat("</div>");return aK}ax.prototype.EndLife=function(){$(".custom_select").unbind();$(".select").unbind();$("#s_"+this.GetPM().Get("GetFullId")+"_div").off("click");this._EndLife()};ax.prototype.BindEvents=function(){var aI=this.GetPM().Get("GetControls");for(var aJ in aI){if(aI.hasOwnProperty(aJ)){this.BindControlEvents(aI[aJ])}}$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(aL){var aK=aL.data.ctx;if(aK&&aK.GetPM()){aK.GetPM().OnControlEvent(h.get("PHYEVENTS_APPLET_FOCUS"))}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".sweButtonImageEnabled",{ctx:this},function(aM){var aK=aM.data.ctx.GetPM().Get("GetControls");var aL=this.id;for(var aO in aK){if(aK.hasOwnProperty(aO)){var aN=aK[aO];if(aN.GetInputName()===aL&&aN.GetInputName()!=="NewFileAttachment"){return a.call(aM.data.ctx,aN)}}}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-ctrl-drilldown",{ctx:this},function(aO){var aL=aO.data.ctx.GetPM().Get("GetControls");var aR=this.id.indexOf("_mb");var aN=this.id.substring(0,aR);var aM={};aM.async=false;aM.mask=true;aM.target=SiebelApp.S_App.GetTargetViewContainer();aM.cb=function(){var aS=Array.prototype.slice.call(arguments);if(aS[aS.length-1]===false){SiebelApp.S_App.uiStatus.Free()}};for(var aQ in aL){if(aL.hasOwnProperty(aQ)){var aP=aL[aQ];if(aP.GetInputName()===aN){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aK=CCFMiscUtil_CreatePropSet();aO.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_DRILLDOWN_FORM"),aP,aK,aM)}}}});aI=null};ax.prototype.IsValidClick=function(aI){return(R.IndexOf(["input","button","a","select","img"],aI.tagName.toLowerCase())===-1)};ax.prototype.BindControlEvents=function(aK){if(!aa(aK)){return}var aN=$("[name="+aK.GetInputName()+"]");var aO=aK.GetFieldName();var aJ=this.GetMapFieldArray();var aM=this.GetMapCtrl();switch(aK.GetUIType()){case Q:if(aK.GetMethodName()==="NewFileAttachment"){return false}else{if(aK.GetMethodName()==="ClearSignature"){$("#"+(aK.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aK},function(aP){var aR=aP.data.ctx.GetPM().Get("GetControls");for(var aQ in aR){if(aR[aQ].GetUIType()==="JInkData"){$(".siebui-ctrl"+aR[aQ].GetInputName()+"-clearButton").trigger("click");$("."+aR[aQ].GetInputName()).attr({value:""});$("#"+aR[aQ].GetInputName()).trigger("vmouseup")}}aR=null});break}}if(aK.GetMethodName()!=="ShowMapLocations"){$("#"+(aK.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aK},function(aP){setTimeout(function(){a.call(aP.data.ctx,aP.data.ctrl)},0);if(aP.data.ctrl.GetMethodName()==="Find"){return false}else{aP.preventDefault()}})}break;case B:if(!this.IsPopup()){aN=$("[id="+aK.GetInputName()+"-button]");aN.bind("touchend mouseup",{ctx:this,ctrl:aK},function(aR){var aP=$(window).height();var aQ;if(window.innerHeight>window.innerWidth){aQ=aP*0.6}else{aQ=aP*0.3}$(".ui-selectmenu").removeAttr("style");$(".ui-selectmenu").css("max-height",aQ+"px");$(this).next().focus();$(this).next().selectmenu("close")});aN.bind("click tap",{ctx:this,ctrl:aK},function(aQ){SiebelApp.S_App.uiStatus.Busy({});var aR=$(this).is(":focus");if(aR){return}if(aQ.data.ctx.GetPM().ExecuteMethod("CanUpdate",aQ.data.ctrl.GetName())){P.call(aQ.data.ctx,aQ.data.ctrl);var aP=$("[name="+aK.GetInputName()+"]");$("[name="+aK.GetInputName()+"]").selectmenu("refresh",true)}$(this).next().selectmenu("open");SiebelApp.S_App.uiStatus.Free()});aN.bind("focus",{ctx:this,ctrl:aK},function(aP){$("[name="+aK.GetInputName()+"]").selectmenu("refresh",true)});aN.bind("blur",{ctx:this,ctrl:aK},function(aP){var aQ=$(this).next().val();if(aP.data.ctx.GetPM().ExecuteMethod("CanUpdate",aP.data.ctrl.GetName())){aP.data.ctrl.GetApplet().SetActiveControl(aP.data.ctrl);aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).next().val())}});aN.bind("change",{ctx:this,ctrl:aK},function(aP){var aQ=$(this).next().val();aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).next().val())})}else{aN.bind("touchstart mousedown",{ctx:this,ctrl:aK},function(aP){var aQ=$(this).is(":focus");if(aQ){return}if(aP.data.ctx.GetPM().ExecuteMethod("CanUpdate",aP.data.ctrl.GetName())){P.call(aP.data.ctx,aP.data.ctrl)}});aN.bind("blur",{ctx:this,ctrl:aK},function(aP){if(aP.data.ctx.GetPM().ExecuteMethod("CanUpdate",aP.data.ctrl.GetName())){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).val())}});aN.bind("change",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).val())})}break;case aw:aN.bind("blur",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,($(this).prop("checked")?"Y":"N"))});aN.bind("click",{ctx:this,ctrl:aK},function(aP){$(this).focus();aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_FOCUS"),aP.data.ctrl,($(this).prop("checked")?"Y":"N"))});break;case U:case M:case k:aN.bind("change",{ctx:this,ctrl:aK},function(aP){var aQ=$(this).val();var aR=R.Trim(aQ);aR=R.toISOFormat(aR,(aP.data.ctrl.GetUIType()!==U))||aR;aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,aR)});aN.bind("focus",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_FOCUS"),aP.data.ctrl,$(this).val())});break;case c:var aI=false;var aL=("#s_S_A"+this.GetPM().Get("GetId")+"_div");$(aL+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aI=true;var aR=$(this).attr("class");if(aR!==null&&aR!==undefined){var aQ=aR.split(" ");for(var aP in aQ){if(aQ[aP]==="siebui_ServiceSignatureHeader"){aI=false}}}}});aN.bind("taphold",{ctx:this,ctrl:aK},function(aQ){if($(this).val()!==""){if(aQ.data.ctx.GetPM().ExecuteMethod("CanUpdate",aQ.data.ctrl.GetName())){aQ.data.ctx.gTaphold=true;var aP=this;var aR=new SiebelApp.UIStatus();aR.Busy({});setTimeout(function(){$(aP).val("");$(aP).blur();aR.Free()},0)}}});if(aI===false){aN.bind("click",{ctx:this,ctrl:aK},function(aT){if(aT.data.ctx.gTaphold===false){var aQ=aT.data.ctx;var aU=aT.data.ctrl;$(this).blur();SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aS=aK.GetMethodPropSet();var aP=aS.Clone();var aR={};aR.async=false;aR.mask=true;aR.target=SiebelApp.S_App.GetTargetViewContainer();aR.cb=function(){SiebelApp.S_App.uiStatus.Free()};setTimeout(function(){aQ.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),aU,aP,aR)},0)}aT.data.ctx.gTaphold=false})}aN.bind("blur",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).val())
});aN.bind("focus",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_FOCUS"),aP.data.ctrl,$(this).val());return false});break;case x:aN.bind("vmouseup",{ctx:this,ctrl:aK},function(aP){aP.data.ctrl.GetApplet().SetActiveControl(aP.data.ctrl);aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$("."+aP.data.ctrl.GetInputName()).attr("value"))});aN.bind("vmouseover",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_FOCUS"),aP.data.ctrl,$("."+aP.data.ctrl.GetInputName()).attr("value"))});break;case o:case ad:if(aK.GetMethodName()){aN=$("#"+aK.GetInputName());aN.bind("click",{ctx:this,ctrl:aK},function(aP){a.call(aP.data.ctx,aP.data.ctrl)})}break;default:aN.bind("blur",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_CHANGE"),aP.data.ctrl,$(this).val())});aN.bind("focus",{ctx:this,ctrl:aK},function(aP){aP.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_VALUE_FOCUS"),aP.data.ctrl,$(this).val())});if(this.IsPopup()&&aK.GetUIType()==="JText"){aN.bind("keydown",{ctx:this},function(aR){if(aR.which===$.ui.keyCode.ENTER){var aS=this.getAttribute("aria-labelledby");if(aS!==undefined&&aS==="PopupQuerySrchspec_Label"){var aQ=this;var aP=aR.data.ctx;setTimeout(function(){if(aP.findBtnName!==undefined){$(aQ).trigger("blur");$(aP.findBtnName).trigger("click")}},0);aR.preventDefault();aR.stopPropagation();return false}}})}break}if(typeof(google)!=="undefined"&&aJ!==null&&R.IndexOf(aJ,aO)>-1&&!R.IsEmpty(aO)){$(document).undelegate("#"+(aK.GetInputName()+"_maplink"),"click");$(document).delegate("#"+(aK.GetInputName()+"_maplink"),"click",{ctx:this},function(aP){var aQ=new SiebelApp.UIStatus();aQ.Busy({});setTimeout(function(){var aR=$("#"+(aK.GetInputName())).val();aP.preventDefault();aM.CreateURLForDirection(aR);aQ.Free()},0)})}aN=null};ax.prototype.BindData=function(){this.ShowSelection()};ax.prototype.ShowSelection=function(){if(this.inProgress){return false}var aJ=this.GetPM();var aR=aJ.Get("GetControls");var aP=aJ.Get("GetRecordSet");var aM=aJ.Get("GetRecordSet")[aJ.Get("GetSelection")];var aN=aJ.Get("IsInQueryMode");for(var aL in aR){if(aR.hasOwnProperty(aL)){var aK=aR[aL];var aQ=aK.GetFieldName();var aI=aJ.ExecuteMethod("IsPrivateField",aL);if(!R.IsEmpty(aQ)||aI||!aJ.Get("IsPure")){var aO=V(aJ,aK,aP[0]);if(aJ.Get("IsPure")||(!aJ.Get("IsPure")&&aK.GetUIType()!==Q)){this.EnableControl(aK,aJ.ExecuteMethod("CanUpdate",aK.GetName()));this.SetControlValue(aK,aO)}}}}};ax.prototype.SetControlValue=function(aV,a4){if(!aa(aV)){return}a4=HtmlEncode(a4);var aL=$("#"+aV.GetInputName())[0]||$("[name="+aV.GetInputName()+"]")[0];aL=$(aL);var aY=aV.GetInputName();var aO=aV.GetUIType();var aM=aV.GetFieldName();var a1="";var aW=false;var aI=this.GetPM().ExecuteMethod("CanNavigate",aV.GetName());var a6=this.GetPM().ExecuteMethod("CanUpdate",aV.GetName());if(aI&&!a6&&aO!==aB){aW=true}var a7=this.GetMapFieldArray();var aS;var aN;var a0;var aQ=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var bb=$(aQ).find("td.AppletTitle").text();if(!R.IsEmpty(aM)){var aK=this.GetPM().GetProxy().GetBusComp().GetField(aM);if(!R.IsEmpty(aK)&&aK.GetDataType()==="phone"){aO=G}}var ba=null;$(aQ+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){ba=true}});if(ba===true){var a3;aL.addClass("screen-cntrl-readonly");var a5=aL.parent().attr("class");$(aL).removeAttr("readOnly").attr("readOnly","true");switch(aO){case k:case c:case aB:case B:case ak:aL.html("").append("<span>"+a4+"</span>");break;case aw:var aZ=aV.GetInputName();var aT=$("[name="+aZ+"]");var aU=aT.parent();aT.remove();aT=null;if(a4==="undefined"||a4===""||a4==="N"){a3="<img src='images/No.png'  name = \""+aV.GetInputName()+'"/>'}else{a3="<img src='images/Yes.png'  name = \""+aV.GetInputName()+'"/>'}aU.append(a3);break;case n:aL.html("").append("<span>"+a4+"</span>");break}}switch(aO){case F:if(R.IsEmpty(a4)){aL.html("")}else{aL.html(HtmlDecode(a4))}break;case aw:aL.attr("checked",R.IsTrue(a4));aL.attr("value",a4);if(ba===null||ba===undefined){aL.checkboxradio("refresh")}break;case B:if(ba){return}a0=HtmlDecode(a4);aL.attr("value",a0);if(!R.IsEmpty(a0)){a0=HtmlDecode(a4).replace(/\"/g,'\\"')}if(aL.find('option[value="'+a0+'"]').length===0){aL.append('<option value="'+a4+'">'+a4+"</option>")}if(R.IsEmpty(aM)){aL.find("option").each(function(){if(R.IsEmpty($(this).val())){$(this).remove()}})}if(ba===null||ba===undefined){aL.selectmenu("refresh")}break;case az:if(ba===true){aL.html("").append("<span>"+a4+"</span>")}else{aL.attr("value",HtmlDecode(a4))}aS=$("#"+aY+"_mailto");if(aS.length===1){aS.remove()}if(a4&&a4!==""){a4=a4.concat("?subject="+bb);var a8='<a id="'+aY+'_mailto" href="mailto:'+a4+'"></a>';$("#"+aY).parent().prepend(a8);$("#"+aY+"_mailto").addClass("email")}break;case G:if(ba===true){aL.html("").append("<span>"+a4+"</span>")}else{aL.attr("value",a4)}aS=$("#"+aY+"_tel");if(aS.length===1){aS.remove()}if(a4&&a4!==""){var aJ='<a id="'+aY+'_tel" href="tel:'+a4+'"></a>';$("#"+aY).parent().prepend(aJ);$("#"+aY+"_tel").addClass("tel")}break;case v:if(ba===true){aL.html("").append("<span>"+a4+"</span>")}else{aL.attr("value",HtmlDecode(a4))}aS=$("#"+aY+"_url");if(aS.length===1){aS.remove()}if(a4&&a4!==""){if(a4.match("^http://")===null){a4="http://"+a4}var a2='<a id="'+aY+'_url" href="'+a4+'" rel="external" target="foo" class="ui-link-inherit"></a>';$("#"+aY).parent().prepend(a2);$("#"+aY+"_url").addClass("url")}if(aV.GetName()==="BookmarkURL"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){var aR=aL.replaceWith('<textarea name="'+aV.GetInputName()+'" rows="3" cols="40" value=\''+a4+"'>"+a4+"</textarea>")}break;default:if(ba===true&&aL.attr("type")==="controlType"){aL.html("").append("<span>"+a4+"</span>")}else{if(aV.GetShowBase()&&aV.GetUIType()!=="checkBoxCtrl"){aN=Y.call(this,aV,a4,aL);if(!R.IsEmpty(aN)){aL.html(aN)}else{if(t.test(this.GetPM().GetPMName())){aL.replaceWith('<div  tabindex="0" title="'+a4+'" name="'+aL.attr("name")+'" aria-label="'+aV.GetDisplayName()+'">'+a4+"</div>")}else{aL.attr("value",HtmlDecode(a4))}}}else{if(t.test(this.GetPM().GetPMName())){aL.replaceWith('<div  tabindex="0" title="'+a4+'" name="'+aL.attr("name")+'" aria-label="'+aV.GetDisplayName()+'">'+a4+"</div>")}else{aL.attr("value",HtmlDecode(a4))}}}break}if(typeof(google)!=="undefined"&&a7!==null&&(!R.IsEmpty(aM))&&R.IndexOf(a7,aM)>-1){if(ba===true){aL.html("").append("<span>"+a4+"</span>")}else{aL.attr("value",a4)}var aP=$("#"+aY+"_maplink");if(aP.length===1){aP.remove()}if(!R.IsEmpty(a4)){var a9=X(this.GetMapCtrl(),aY,a4);aL.parent().prepend(a9)}}if(aW){if(ba===true){aL.html("").append("<span>"+a4+"</span>")}else{aL.attr("value",a4)}aS=$("#"+aY+"_mb");if(aS.length===1){aS.remove()}if(a4&&a4!==""){var aX='<a  id ="'+aY+'_mb"  class = "siebui-ctrl-drilldown" href="javascript:void(0)" > </a>';$("#"+aY).parent().prepend(aX);$("#"+aY+"_mb").addClass("drilldown ui-icon-siebui-drilldown")}}};ax.prototype.EnableControl=function(aO,aR){if(!aa(aO)){return
}var aS=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aL=null;$(aS+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aL=true}});var aI=aO.GetUIType();var aU=$("[name="+aO.GetInputName()+"]");var aJ=aR?"enable":"disable";var aQ;var aV;var aK;if(aI===Q){if(aL===null||aL===undefined){aQ=aR?aO.GetEnabledBmp():aO.GetDisabledBmp();aK=aO.GetMethodName();if(aQ&&(aK!=="GotoNextSet"&&aK!=="GotoPreviousSet")){aV=$("#"+aO.GetInputName());aV.html(aQ).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(aR?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var aT=$("#"+(aO.GetInputName()+"_Ctrl"));try{aT.button(aJ)}catch(aM){SiebelJS.Log(aM);if(!aR){aT.attr("disabled","disabled");aT.attr("aria-disabled","true");aT.addClass("mobile-button-disabled");aT.addClass("ui-state-disabled");aT.parent().addClass("ui-disabled")}else{aT.removeAttr("disabled");aT.attr("aria-disabled","false");aT.removeClass("mobile-button-disabled");aT.removeClass("ui-state-disabled");aT.parent().removeClass("ui-disabled")}}}}else{aQ=aR?aO.GetEnabledBmp():aO.GetDisabledBmp();aK=aO.GetMethodName();if(aQ&&(aK!=="GotoNextSet"&&aK!=="GotoPreviousSet")){aV=$("#"+aO.GetInputName());aV.html(aQ).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(aR?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var aP=$("#"+(aO.GetInputName()+"_Ctrl"));if(!aR){aP.attr("disabled","disabled");aP.attr("aria-disabled","true");aP.addClass("mobile-button-disabled");aP.addClass("ui-state-disabled");aP.parent().addClass("ui-disabled")}else{aP.removeAttr("disabled");aP.attr("aria-disabled","false");aP.removeClass("mobile-button-disabled");aP.removeClass("ui-state-disabled");aP.parent().removeClass("ui-disabled")}}}}else{if(aI===U||aI===M||aI===k){aU.scroller(aJ);aU.prop("readonly",true)}else{if(aI===aw){if(aL===null||aL===undefined){aU.checkboxradio(aJ)}}else{if(aI===B){if(aL===null||aL===undefined){aU.selectmenu(aJ)}}else{var aN=$("#"+aO.GetInputName())[0]||$("[name="+aO.GetInputName()+"]")[0];$(aN).removeAttr("readOnly").attr("readOnly",!aR)}}}}aU=null};ax.prototype.UpdateUIControls=function(){var aI=this.GetPM().Get("GetControls");for(var aK in aI){if(aI.hasOwnProperty(aK)){var aJ=aI[aK];var aL=aJ.GetFieldName();if(!R.IsEmpty(aL)){this.EnableControl(aJ,this.GetPM().ExecuteMethod("CanUpdate",aJ.GetName()))}}}};ax.prototype.UpdateUIButtons=function(){var aI=this.GetPM().Get("GetControls");for(var aK in aI){if(aI.hasOwnProperty(aK)){var aJ=aI[aK];if(aJ.GetUIType()===Q){var aL=this.GetPM().ExecuteMethod("CanInvokeMethod",aJ.GetMethodName());this.EnableControl(aJ,aL)}}}aI=null};ax.prototype.SetFocusToControl=function(aK,aJ){var aI=this.GetPM().Get("GetControls");var aL=null;for(var aN in aI){if(aI.hasOwnProperty(aN)){var aM=aI[aN];if(aK===SiebelApp.S_App.LookupStringCache(aN)){if(!R.IsEmpty(aM.GetMethodName())){aL=$("#"+(aM.GetInputName()+"_Ctrl"))}else{aL=$("#"+aM.GetInputName())[0]||$("[name="+aM.GetInputName()+"]")[0]}if(aJ){aL.focus()}else{aL.blur()}return true}}}};ax.prototype.FocusFirstControl=function(){if(this.GetFirstControl()){this.GetFirstControl().focus();return}var aJ=this.GetPM().Get("GetControls");var aI=9999;for(var aM in aJ){if(aJ.hasOwnProperty(aM)){var aL=aJ[aM];var aN=aL.GetFieldName();if(!R.IsEmpty(aN)){if(aL.GetIndex()&&aL.GetIndex()<aI){var aK=this.GetPM().ExecuteMethod("CanUpdate",SiebelApp.S_App.LookupStringCache(aM));if(aK){aI=aL.GetIndex();this.SetFirstControl($("#"+aL.GetInputName())[0]||$("[name="+aL.GetInputName()+"]")[0]);break}}}}}if(this.GetFirstControl()){this.GetFirstControl().focus()}};ax.prototype.SetHighlightState=function(aK,aJ){var aI=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(aK){aI.addClass("Selected siebui-applet-active").removeClass("NotSelected siebui-applet-nonactive")}else{aI.removeClass("Selected siebui-applet-active").addClass("NotSelected siebui-applet-nonactive")}};ax.prototype.GetPhysicalControlValue=function(aK){var aJ,aI;if(aK){this.GetPM().AddProperty("PhysicalCtrlVal",aI);aJ=$("[name='"+aK.GetInputName()+"']");aI=aJ.val()||"";switch(aK.GetUIType()){case U:case M:case k:aI=R.toISOFormat(R.Trim(aI),(aK.GetUIType()!==U))||aI;break}this.GetPM().AddProperty("PhysicalCtrlVal",aI)}};ax.prototype.fixHeight=function(){};ax.prototype.fixWidth=function(aJ){if(this.IsPopup()){var aI=$(".siebui-popup-btm");if(aI!==undefined){}}};function P(aK){this.inProgress=true;var aJ=this.GetPM();aJ.GetProxy().SetActiveControl(aK);var aI=CCFMiscUtil_CreatePropSet();this.GetPM().ExecuteMethod("InvokeMethod","EditPopup",aI)}function aa(aI){return(typeof(aI.GetInputName)==="function")}function ac(aL,aK,aJ){var aI=this.GetPM().ExecuteMethod("NewFileAttachment");var aM=h.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(aJ).fileupload("option","formData",aI);$(aJ).fileupload("option","url",SiebelApp.S_App.GetPageURL()+h.get("SWE_ARG_START")+aM)}function e(aK,aJ){var aI;if(aJ.dataType==="iframe "){aI=$(aJ.result).find("body").html()}else{aI=aJ.result}if(!R.IsEmpty(aI)){SiebelApp.S_App.ProcessResponse(aI)}}function aD(aJ,aI){}return ax}())}if(typeof(SiebelAppFacade.PopupRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PopupRenderer");SiebelAppFacade.PopupRenderer=(function(){var h=SiebelJS.Dependency("SiebelApp.Utils");var f=SiebelJS.Dependency("SiebelApp.Constants");var b;var a;function c(m){var l=m;b=m;a=true;this.retryWaitForObjInfoProcessing=0;this.GetPM=function(){return l};this.GetPM().AttachPMBinding("state",g,{scope:this});this.GetPM().AttachPMBinding("url",d,{scope:this});this.GetPM().AttachPMBinding("OnLoadPopupContent",k,{scope:this});this.GetPM().AttachPMBinding("StandAlonePopup",this.ProcessStandAlonePopup,{scope:this})}function i(){var l=this;if(this.Get("CanProcessLayout")===false&&l.retryWaitForObjInfoProcessing<25){l.retryWaitForObjInfoProcessing++;setTimeout(function(){i.call(l)},100);return}l.retryWaitForObjInfoProcessing=0;this.ExecuteMethod("OnLoadPopupContent")}function d(){SiebelApp.contentUpdater.AddCallBack(this.GetPM().Get("url"),i,this.GetPM());var l=$("[name=popup]");l.attr("src",this.GetPM().Get("url"));SiebelApp.contentUpdater.loadContent(true)}function e(){if(a===false){a=true;b.OnControlEvent("ClosePopupByX",window.event)}}function k(){var n=this.GetPM().Get("currPopups");if(n&&n[0]){var l="<div class='jqmpopup_title'><span>"+SiebelApp.S_App.LookupStringCache(n[0].GetTitle())+"</span></div>";$("[name=popup]").prepend(l);j();var m=n[0].GetPModel().GetRenderer();m.fixHeight();m.fixWidth($(".ui-simpledialog-container").css("width"))}else{j()}}function j(){var m=$("[name=ShownItems]")[0];var l=$("[name=HiddenItems]")[0];if(m!==null&&m!==undefined){$(m).attr("data-native-menu","false")}if(l!==null&&l!==undefined){$(l).attr("data-native-menu","false")}$("[name=popup]").simpledialog({mode:"blank",prompt:false,forceInput:false,useModal:true,fullHTML:$("[name=popup]"),useDialogForceFalse:true,onClosed:e});$(".ui-simpledialog-container").trigger("create");a=false}function g(){var n=this.GetPM().Get("state");
if(n===f.get("POPUP_STATE_HIDDEN")){if(a===false){a=true;$("[name=popup]").simpledialog("close")}$("[name=popup]").children().remove();$("[class*=ui-dialog-buttonpane]").children().remove()}else{if(n===f.get("POPUP_STATE_VISIBLE")){var l=0;var m=0;$("[name=popup]").removeClass("popupContainer").addClass("popupContainer")}}}c.prototype.BindData=function(){};c.prototype.ShowUI=function(){if($("[name=popup]").length===0){var l=$('<div name="popup" id="popup"></div>');SiebelApp.S_App.GetTargetViewContainer().append(l);SiebelApp.S_App.uiStatus.LocalBusy({target:"[name=popup]",mask:false})}};c.prototype.BindEvents=function(){};c.prototype.ProcessStandAlonePopup=function(p,m){if((window.navigator.standalone!==undefined)&&window.navigator.standalone){var l=document.createElement("a");l.setAttribute("href",p);l.setAttribute("target","_blank");var n=document.createEvent("HTMLEvents");n.initEvent("click",true,true);l.dispatchEvent(n);l=null}else{var o=window.open(p,"subWind",m)}};return c}())};