if(typeof(SiebelAppFacade.ListRenderer)=="undefined"){Namespace("SiebelAppFacade.ListRenderer");SiebelAppFacade.ListRenderer=(function(){var b=SiebelApp.Utils;var d=SiebelAppFacade.FacadeConstants;var a=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i);function c(e){this.superclass.constructor.call(this,e);var f={};this.GetAttribute=function(g){return(b.IsEmpty(f[g])?null:f[g])};this.SetAttribute=function(g,h){f[g]=h}}c.prototype.ShowUI=function(){this.superclass.ShowUI.call(this)};c.prototype.OnControlEvent=function(i){var h;switch(i[0]){case"sr":var k=i[1];var l=i[2];var g=i[3];h=this.GetProxy().HandleRowSelect(k,l,g);break;case"vs":var e=i[1];h=this.GetProxy().OnVerticalScroll(e);break;case"st":var f=i[1];var j=i[2];h=this.GetProxy().OnClickSort(f,j);break;case"CellChange":this.GetProxy().OnLeaveColInput(i[1],i[2],i[3]);break;default:h=this.superclass.OnControlEvent.call(this,i);break}return(h)};c.prototype.CreateRenderer=function(){var f="JQGRID";var g=SiebelAppFacade.JQGridRenderer;if(a){f="JQMLIST"}switch(f){case"JQGRID":var e=b.InheritCtor(SiebelAppFacade.PhysicalRenderer,SiebelAppFacade.JQGridRenderer);this.SetConcreteRenderer(new e(this));break;case"JQMLIST":var h=b.InheritCtor(SiebelAppFacade.PhysicalRenderer,SiebelAppFacade.JQMListRenderer);this.SetConcreteRenderer(new h(this));break}};c.prototype.FocusFirstControl=function(){this.GetConcreteRenderer().FocusFirstControl()};c.prototype.SetFocusToControl=function(e){return(this.GetConcreteRenderer().SetFocusToControl(e))};c.prototype.SetCellValue=function(f,g,e){this.GetConcreteRenderer().SetCellValue(f,g,e)};c.prototype.SetCellEdit=function(e){this.GetConcreteRenderer().SetCellEdit(e)};c.prototype.ShowSelection=function(){this.GetConcreteRenderer().ClearSelection();var e=this.GetConcreteRenderer().GetRowCount();for(var f=0;f<e&&f<this.GetProxy().GetRowsSelectedArray().length;f++){this.GetConcreteRenderer().SelectRow(f+1,this.GetProxy().GetRowsSelectedArray()[f])}};c.prototype.ShowSearch=function(){if(a){this.GetSearchCtrl().SetContainer($("#"+this.GetPlaceholder()))}else{this.GetSearchCtrl().SetContainer($("#"+this.GetPlaceholder()).parents("div.NotSelected").parent().find("tr td[width='100%']")[0]||$("#"+this.GetPlaceholder()).parents("td.AppletStylePopup").find("tr td[width='100%']")[0])}var f=[];var h=this.GetListOfColumns();for(var e in h){f.push(h[e].control.GetDisplayName())}this.GetSearchCtrl().ShowUI(f,this.GetPlaceholder());if(this.GetProxy().GetAppletLabel()!=""){this.GetSearchCtrl().GetInputField().attr("title",this.GetProxy().GetAppletLabel()+":Search");this.GetSearchCtrl().GetSearchField().attr("title",this.GetProxy().GetAppletLabel()+":Search")}var g=this;this.GetSearchCtrl().GetInputField().result(function(j,l,k){var i={};i[g.GetSearchCtrl().GetSelectedField()]=l;g.Query(i)});this.GetSearchCtrl().GetInputField().bind("keypress",function(m){if(m.which==13){var n=g.GetSearchCtrl().GetInputField().attr("value");var j={};var l=g.GetListOfColumns();for(var k=0;k<l.length;k++){if(l[k].control.GetDisplayName()==(g.GetSearchCtrl().GetSelectedField())){var o=l[k].control.GetSpanPrefix()+"0";g.GetSearchCtrl().SetColumnId(o)}}j[g.GetSearchCtrl().GetSelectedField()]=n;g.Query(j);return false}})};c.prototype.BindData=function(e){if(e==true){this.GetConcreteRenderer().ClearData()}this.GetConcreteRenderer().BindData();this.BindSearchData({matchContains:false,multiple:false,mustMatch:false,autoFill:false,minChars:0})};c.prototype.GetRowIdentifier=function(){var e=this.GetProxy().GetRowIdentifier();if(e==""||typeof(e)=="undefined"||e==null){e=this.GetListOfColumns()[0].name}return e};c.prototype.GetAppletSummary=function(){var e=this.GetProxy().GetAppletSummary();return e};c.prototype.GetListOfColumns=function(){var h=this.GetProxy().GetListOfColumns();var g=[];for(var f in h){if(h.hasOwnProperty(f)){var j=h[f];var e=f;var i={name:e,controlType:j.GetUIType(),isLink:this.GetProxy().CanNavigate(e),index:Number(j.GetColNum())+1,bCanUpdate:this.GetProxy().CanUpdate(e),control:j};this.GetControlKeyMap()[e]=f;g.push(i)}}g.sort(function(l,k){return(l.index-k.index)});this.GetListOfColumns=function(){return g};return g};return c}())};