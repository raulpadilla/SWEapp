if(typeof(SiebelApp.S_App.NavigationRenderer)=="undefined"){Namespace("SiebelApp.S_App.NavigationRenderer");SiebelApp.S_App.NavigationRenderer=(function(){var a=SiebelApp.Utils;var d=SiebelApp.Constants;function c(h){this.screenTabInfo=null;this.selectedTabLinkInfo=null;this.selectedTabKey=null;this.selectedLinkKey=null;var f;var e;var g=false;this.m_containerQTPPS=null;this.m_tabViewLinkContainerQTPPS=null;this.m_navItemsQTP=[];this.m_tabViewLinkItemsQTP=[];this.GetConcreteRenderer=function(){return f};this.SetConcreteRenderer=function(i){f=i};this.GetType=function(){return h};this.SetPreviousSelection=function(i){e=i};this.GetPreviousSelection=function(){return e};this.GetDataReload=function(){return g};this.SetDataReload=function(i){g=i}}c.prototype.IsScreen=function(){return this.GetType()==d.get("SWE_PROP_NC_ID_SCREEN_CONTROL")};c.prototype.ProcessObjectInfo=function(e){if(e==null||e==undefined){return}var f=e.GetType();if(f==SiebelApp.Constants.get("SWE_PROP_NC_SCREENCTRL_INFO")){this.ProcessTabsObjectInfo(e)}else{if(f==SiebelApp.Constants.get("SWE_PROP_NC_FLOATING_TAB_INFO")){this.ProcessFloatingTabObjectInfo(e)}else{if(f==SiebelApp.Constants.get("SWE_PROP_NC_AGGREGATE_INFO")||f==SiebelApp.Constants.get("SWE_PROP_NC_SUBDETAIL_INFO")){this.ProcessLinksObjectInfo(e,false)}else{if(f==SiebelApp.Constants.get("SWE_PROP_NC_DETAIL_INFO")){this.ProcessLinksObjectInfo(e,true)}else{return}}}}};c.prototype.Show=function(){if(this.GetConcreteRenderer()==undefined){if(SiebelApp.S_App.IsMobileApplication()==="true"){var e=$("div.tier1Back").attr("data-navbartype");if(e=="simplenavbar"){this.SetConcreteRenderer(new SiebelAppFacade.JQMNavBarRenderer(this,this.GetType()))}else{this.SetConcreteRenderer(new SiebelAppFacade.JQMTreeRenderer(this,this.GetType()))}}else{this.SetConcreteRenderer(new SiebelAppFacade.JSTreeRenderer(this,this.GetType()))}}this.GetConcreteRenderer().Show(!this.IsScreen())};c.prototype.ProcessFloatingTabObjectInfo=function(j){if(a.IsEmpty(j)||j.GetType()!=SiebelApp.Constants.get("SWE_PROP_NC_FLOATING_TAB_INFO")){return}var g=j.GetChild(0);if(g.GetType()!=SiebelApp.Constants.get("SWE_PROP_NC_ITEM_INFO")){return}var f=false;var e=0;var i=g.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SCREEN_NAME"));for(var h in this.screenTabInfo){if(this.screenTabInfo[h]["screenName"]==i){i=inTabPropSet.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SELECTED_INDEX"));if(i){this.SetSelectedTabKey(i)}else{this.SetSelectedTab(h)}f=true}e++}if(f){return}this.screenTabInfo["tabScreen"+e]=b.call(this,g);this.SetSelectedTabKey(e);this.SetDataReload(true)};c.prototype.ProcessTabsObjectInfo=function(g){if(g==null||g==undefined){return}var k=g.GetChildCount();var j="";if(this.screenTabInfo==null||this.screenTabInfo==undefined){this.screenTabInfo={}}if(this.m_navItemsQTP==null){this.m_navItemsQTP=[]}for(var f=0,e=0;f<k;f++){var h=g.GetChild(f);type=h.GetType();if(type==SiebelApp.Constants.get("SWE_PST_QTP_INFO")){this.m_containerQTPPS=h;continue}else{if(type!=SiebelApp.Constants.get("SWE_PROP_NC_ITEM_INFO")){continue}}this.screenTabInfo["tabScreen"+e]=b.call(this,h);e++}j=g.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SELECTED_INDEX"));this.SetSelectedTabKey(j);this.SetDataReload(true)};function b(e){if(a.IsEmpty(e)){return}var f={};f.screenName=e.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SCREEN_NAME"));f.defaultViewName=e.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_VIEW_NAME"));f.captionName=e.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_CAPTION"));f.tabIcon=e.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SCREEN_TAB_ICON"));for(var g=0;g<e.GetChildCount();g++){if(e.GetChild(g).GetType()==SiebelApp.Constants.get("SWE_PST_QTP_INFO")){this.m_navItemsQTP.push(e.GetChild(g))}}return f}c.prototype.ProcessLinksObjectInfo=function(m,p){if(m==null||m==undefined){return}var k=m.GetChildCount();var o;if(!((k==1)&&(m.GetChild(0).GetType()==SiebelApp.Constants.get("SWE_PST_QTP_INFO")))){var g;if(p){g=this.screenTabInfo={};this.m_tabContainerQTPPS=null;this.m_tabItemsQTP=[]}else{g=this.selectedTabLinkInfo={};this.m_tabViewLinkContainerQTPPS=null;this.m_tabViewLinkItemsQTP=[]}for(var h=0,n=0;h<k;h++){var f={};var l=m.GetChild(h);type=l.GetType();if(type==SiebelApp.Constants.get("SWE_PST_QTP_INFO")){if(p){this.m_tabContainerQTPPS=l}else{this.m_tabViewLinkContainerQTPPS=l}continue}else{if(type!=SiebelApp.Constants.get("SWE_PROP_NC_ITEM_INFO")){continue}}o=l.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_VIEW_NAME"));f.viewName=o;o=l.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_CAPTION"));f.captionName=o;g[(p?"tabScreen":"tabView")+n]=f;for(var e=0;e<l.GetChildCount();e++){if(l.GetChild(e).GetType()==SiebelApp.Constants.get("SWE_PST_QTP_INFO")){if(p){this.m_tabItemsQTP.push(l.GetChild(e))}else{this.m_tabViewLinkItemsQTP.push(l.GetChild(e))}}}n++}}o=m.GetProperty(SiebelApp.Constants.get("SWE_PROP_NC_SELECTED_INDEX"));if(o!=undefined){p?this.SetSelectedTabKey(o):this.SetSelectedLinkKey(o)}this.SetDataReload(true)};c.prototype.GetTabInfo=function(){return this.screenTabInfo};c.prototype.GetTabContainerQTPInfo=function(){if(this.IsScreen()){return this.m_containerQTPPS}else{return this.m_tabContainerQTPPS}};c.prototype.GetTabItemsQTPInfo=function(){if(this.IsScreen()){return this.m_navItemsQTP}else{return this.m_tabItemsQTP}};c.prototype.GetTabViewLinkItemsQTPInfo=function(){return this.m_tabViewLinkItemsQTP};c.prototype.GetTabViewLinkContainerQTPInfo=function(){return this.m_tabViewLinkContainerQTPPS};c.prototype.GetSelectedTabLinkInfo=function(){return this.selectedTabLinkInfo};c.prototype.SetSelectedTab=function(e){this.selectedTab=e};c.prototype.SetSelectedTabKey=function(e){if(e){this.selectedTab="tabScreen"+e}};c.prototype.GetSelectedTabKey=function(){return this.selectedTab};c.prototype.SetSelectedLinkKey=function(e){if(e){this.selectedLinkKey="tabView"+e}};c.prototype.GetSelectedLinkKey=function(){return this.selectedLinkKey};return c}())};