if(typeof(SiebelAppFacade.DashboardPresentationModel)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.DashboardPresentationModel");SiebelAppFacade.DashboardPresentationModel=(function(){var f=SiebelJS.Dependency("SiebelApp.Constants");var c=SiebelJS.Dependency("SiebelApp.Utils");var h;var b;function e(){}SiebelJS.Extend(e,SiebelAppFacade.PresentationModel);e.prototype.Init=function(){SiebelAppFacade.DashboardPresentationModel.superclass.Init.call(this);this.AddProperty("UpdateNavigation",false);this.AddMethod("InvokeServiceMethod",function(j,k,l){var i=SiebelApp.S_App.GetService(f.get("NAME_DASHBOARDSVC"));if(i){l=i.InvokeMethod(j,k,true)}});this.AttachEventHandler(f.get("PHYEVENT_VALUE_FOCUS"),function(i){if(i.GetName()==="Quick Navigation"){this.GetProxy().SetActiveControl(i);return false}return true});this.AttachEventHandler(f.get("PHYEVENT_INVOKE_COMBO"),function(i){this.GetProxy().SetActiveControl(i);this.SetProperty("UpdateNavigation",true);return true});this.AttachEventHandler(f.get("DASHBOARD_CLOSE"),function(){var j=CCFMiscUtil_CreatePropSet();var i=CCFMiscUtil_CreatePropSet();this.ExecuteMethod("InvokeServiceMethod",f.get("METH_CLOSEDASHBOARD"),j,i);SiebelApp.S_App.UnregisterExtObject("Dashboard")})};e.prototype.SetProxy=function(i){SiebelAppFacade.DashboardPresentationModel.superclass.constructor.call(this,i)};e.prototype.Setup=function(i){d.call(this,i)};e.prototype.HandleNotify=function(i){d.call(this,i)};function d(t){if(c.IsEmpty(h)){h=new SiebelApp.S_App.BusObj()}if(c.IsEmpty(b)){b=new SiebelApp.S_App.View()}var m=t.EnumChildren(true);if(!m){return}var l=f.get("SWE_PST_BUSOBJ_INFO");var p=f.get("SWE_PST_VIEW_INFO");var u=f.get("SWE_PST_STR_CACHE");var j=f.get("SWE_GET_PICK_INFO");var n;var s=SiebelApp.S_App.GetActiveBusObj();var o=SiebelApp.S_App.GetActiveView();SiebelApp.S_App.SetActiveView(b);SiebelApp.S_App.SetActiveBusObj(h);do{var q=m.GetType();switch(q){case u:SiebelApp.S_App.AppendToStrCache(m.GetProperty(f.get("SWE_PROP_VALUE")));break;case l:h.ProcessObjectInfo(m);var v=h.GetBCMap();for(var r in v){if(v.hasOwnProperty(r)){v[r].SetBusObj(h)}}break;case p:a(m);b.GetFilesAndProcessObjectInfo(m);break;case j:n=m;break}}while((m=t.EnumChildren(false)));for(var i in b.GetAppletMap()){var k=b.GetAppletMap()[i];k.SetBusComp(b.GetBusObj().GetBusComp(k.GetBCId()));k.GetBusComp().Register(k);k.SetPModel(this);k.IsEditable=function(){return"1"};this.SetProxy(k)}SiebelApp.S_App.SetActiveView(o);SiebelApp.S_App.SetActiveBusObj(s);if(n){g.call(this,n)}t.SetProperty("SWE_OUI_RENDERER","DashboardPhyRenderer");SiebelAppFacade.DashboardPresentationModel.superclass.Setup.call(this,t)}function a(i){var k=i.EnumChildren(true);do{if(k){var j=k.EnumChildren(true);do{if(j){j.RemoveProperty(f.get("SWE_PST_CLIENT_DESCRIPTOR_INFO"))}}while((j=k.EnumChildren(false)))}}while((k=i.EnumChildren(false)))}function g(k){var i=[];var m=k.EnumChildren(true);if(!m){return}do{i.push(m.GetProperty("FieldValue"))}while((m=k.EnumChildren(false)));this.SetProperty("navigations",i);if(i.length>0){this.GetProxy().GetCanInvokeByName()["Quick Navigate"].bCanInvoke=true;var l=this.GetProxy().GetBusComp();var j=l.GetRawRecords();if(j[l.GetSelection()]&&!(l.WSGetFieldValue("Quick Navigate"))){j[l.GetSelection()][l.GetField("Quick Navigate").index]=i[0]}}}return e}())};