/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.JQMNavBaseRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMNavBaseRenderer");define("siebel/jqmnavbasepr",[],function(){SiebelAppFacade.JQMNavBaseRenderer=(function(){var e=SiebelApp.Constants;var c;var a;var b;var d=true;var g=false;function f(i){SiebelAppFacade.JQMNavBaseRenderer.superclass.constructor.call(this,i);var j=false;var h=false;this.GetTabClicked=function(){return j};this.SetTabClicked=function(k){j=k};this.GetViewClicked=function(){return h};this.SetViewClicked=function(k){h=k};SiebelApp.EventManager.addListner("refreshview",this.UnloadSitemap,this);SiebelApp.EventManager.addListner("refreshlayout",this.UnloadSitemap,this)}SiebelJS.Extend(f,SiebelAppFacade.BasePR);f.prototype.Init=function(){SiebelAppFacade.JQMNavBaseRenderer.superclass.Init.call(this)};f.prototype.SetRenderScrn=function(h){this.m_bRenderScrn=h};f.prototype.GetRenderScrn=function(){return this.m_bRenderScrn};f.prototype.ShowUI=function(){var j=this.GetPM();var i=j.Get("IsScreen");var h="";$("#back-button").empty();$("#back-button").removeAttr("href");var k='<button id="back-button" data-iconpos="center" data-corners="false" data-icon="arrow-l" data-theme ="a" onclick="history.back();"></button>';$("#back-button").append(k).trigger("create");$("#back-button").attr("title",_SWEgetMessage("IDS_SWE_MOBIIE_BACK"));$("#tbm_3").children("a").attr("title",_SWEgetMessage("IDS_SWE_MOBIIE_LOGOUT"));$("#_swescrnbar").addClass("simplenavBarStyle ui-body-a");if(!i){this.CreateViewTabs()}if(!i&&this.GetRenderScrn()){this.RefreshScreenIcon(h)}if(i){b=this;var l=$("#jqmNavbar");if(l.length===0||l===undefined){if(this.GetRenderScrn()){this.LoadTree()}$("#_swecontent").addClass("maxWidth");$("#_swecontent").show();$("#_swecontent").resize();$("#_swescrnbar").show();$("#_swescrnbar").resize()}else{if(this.GetTabClicked()){if(this.GetRenderScrn()){this.LoadTree()}this.SetTabClicked(false)}else{if(j.Get("GetDataReload")&&this.GetRenderScrn()){this.LoadTree()}}}}else{if(!$("#_swescrnbar").is(":visible")){$("#_swecontent").addClass("maxWidth");$("#_swecontent").show();$("#_swecontent").resize()}}};f.prototype.UnloadSitemap=function(){if($("#_sweclient").hasClass("siebui-showing-sitemap")){$("#_sweclient").removeClass("siebui-showing-sitemap")}};f.prototype.LoadTree=function(){var n=this.GetPM();var u=n.Get("placeholder");var k="";var q=navigator.userAgent.match(/(iPhone)|(iPod)|(Android.*Mobile)/i);if(q){$("#"+u).html("<div id='jqmNavbar' data-role='controlgroup'  data-type='horizontal'></div>")}else{$("#"+u).html("<div id='jqmNavbar' data-role='controlgroup'></div>")}var j=n.Get("GetTabInfo");var t=n.Get("GetSelectedTabLinkInfo");var s=n.Get("GetSelectedTabKey");for(var o in j){if(j.hasOwnProperty(o)){var i=j[o].captionName;var h=j[o].defaultViewName;var r=j[o].tabIcon;var l='ot="SiebScreen"';l=l+' rn="'+h+'"';l=l+' un="'+i+'" ';if(r!==undefined){k+="<a id='"+o+"' data-viewName='"+h+"' data-theme='a' data-role='button'"+l+"><img src='"+r+"' "+l+" alt=''><h5>"+i+"</h5></a>"}else{k+="<a class='siebui-navbar-noicon' id='"+o+"' data-viewName='"+h+"' data-theme='a' data-role='button'"+l+" ><h5>"+i+"</h5></a>"}if(o===s&&(j[o].tabIcon)!==undefined){var v=j[o].tabIcon;var p=v;var m=v.lastIndexOf(".");var w=v.slice(0,m)+"_Highlight"+v.slice(m);$("#"+s).find("img").attr("src",w)}}}$("#"+s+" img").error(function(){$(this).attr("src",p)});$("div[id='jqmNavbar']").append(k);$("div[id='jqmNavbar']").addClass("siebui-jqmNavbar");$("#"+u).trigger("create")};f.prototype.CreateViewTabs=function(){var l=this.GetPM();var s="";var m="";if(d){if(this.GetRenderScrn()){this.RefreshScreenIcon(s)}d=false}var r=l.Get("GetTabInfo");var q=l.Get("GetSelectedTabKey");var n=l.Get("placeholder");var t=b.GetPM().Get("GetTabInfo");var j=b.GetPM().Get("GetSelectedTabKey");c=t[j].defaultViewName;if(n!==undefined||n!==null){n.innerHTML="";for(var p in r){if(r.hasOwnProperty(p)){var w=r[p];var u=w.viewName;var o=u.valueOf();var i=w.captionName;var v=i.valueOf();if(o!==c){var k='ot="SiebViewLink"';k=k+' rn="'+o+'"';k=k+' un="'+v+'" ';m+="<a id='"+p+"' data-viewName='"+u+"' data-role='button' data-icon='arrow-r' data-iconpos='right'"+k+">"+w.captionName+"</a>"}}}$("#"+n).append(m);$("#"+n).trigger("create")}$("#_MobileViewTabContainer #"+q).addClass("selectedviewmobile");var h=$("#"+l.Get("GetType"));if(!h.hasClass("siebui-subview-navs")){h.addClass("siebui-subview-navs")}};f.prototype.RefreshScreenIcon=function(m){var h;var p=$("#"+b.GetPM().Get("SiteMapPlaceHolder")).find("#siebui-toolbar-sitemap-mobile");if(p.length>0){$(p).remove()}var n=b.GetPM().Get("GetTabInfo");if(m===""||typeof(m)==="undefined"){h=b.GetPM().Get("GetSelectedTabKey")}else{h=m}for(var j in n){if(n.hasOwnProperty(j)){var l=n[j].tabIcon;if(j===h&&(n[j].tabIcon)!==undefined){var o=n[h].tabIcon;var k=o;var i=o.lastIndexOf(".");var q=o.slice(0,i)+"_Highlight"+o.slice(i);$("#"+h).find("img").attr("src",q)}else{$("#"+j).find("img").attr("src",l)}}}$("#"+h+" img").error(function(){$(this).attr("src",k)})};f.prototype.BindEvents=function(){var i=this.GetPM();var h=this;var j=i.Get("placeholder");$("#"+j).undelegate(" a","click");$("#"+j).delegate(" a","click",function(){var l=$(this).attr("data-viewName");var k=$(this).attr("id");if(i.Get("GetType")===e.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){if(l===undefined){l=$(this).parent().parent().attr("data-viewName")}else{h.SetViewClicked(true)}if(l!==undefined){h.SetTabClicked(true);SiebelApp.S_App.GotoView(l)}if(h.GetRenderScrn()){h.RefreshScreenIcon(k)}}else{if(l!==undefined){h.SetTabClicked(true);SiebelApp.S_App.GotoView(l)}}})};f.prototype.BindData=function(){};return f}());return"SiebelAppFacade.JQMNavBaseRenderer"})};