/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.NavigationPresentationModel)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.NavigationPresentationModel");define("siebel/navigationpmodel",[],function(){SiebelAppFacade.NavigationPresentationModel=(function(){var k=SiebelJS.Dependency("SiebelApp.Constants");var l=SiebelJS.Dependency("SiebelApp.Utils");var i=k.get("SWE_SCREEN_NAV_CONTROL_STR");var j=k.get("SWE_AGGR_VIEW_NAV_CONTROL_STR");var d=k.get("SWE_DET_VIEW_NAV_CONTROL_STR");var g=k.get("SWE_DET_SUB_VIEW_NAV_CONTROL_STR");function f(o,p){this.type=p;SiebelAppFacade.NavigationPresentationModel.superclass.constructor.call(this,o)}SiebelJS.Extend(f,SiebelAppFacade.PresentationModel);f.prototype.Init=function(){this.AddProperty("LevelPlaceholder","");this.AddProperty("GetType",this.type);this.AddProperty("placeholder",this.type===k.get("SWE_PROP_NC_ID_SCREEN_CONTROL")?k.get("SWE_PROP_NC_ID_SCREEN_CONTROL"):k.get("SWE_PROP_NC_ID_VIEW_CONTROL"));this.AddProperty("SubPlaceholder",k.get("SWE_PROP_NC_ID_SUB_VIEW_CONTROL"));this.AddProperty("IsScreen",(this.Get("GetType")===k.get("SWE_PROP_NC_ID_SCREEN_CONTROL")));this.AddProperty("GetTitle",SiebelApp.S_App.GetScreenNavTitle());this.AddProperty("SiteMapPlaceHolder",k.get("SWE_PROP_NC_ID_APP_MENU"));if(this.Get("GetType")===k.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){this.AttachPSHandler(k.get("SWE_PROP_NC_SCREENCTRL_INFO"),function(o){c.call(this,o)});this.AttachPSHandler(k.get("SWE_PROP_NC_FLOATING_TAB_INFO"),function(o){b.call(this,o);c.call(this,o)});this.AttachPSHandler(k.get("SWE_PROP_NC_AGGREGATE_INFO"),function(o){b.call(this,o);c.call(this,o)})}else{this.AttachPSHandler(k.get("SWE_PROP_NC_SUBDETAIL_INFO"),function(o){b.call(this,o);c.call(this,o)});this.AttachPSHandler(k.get("SWE_PROP_NC_DETAIL_INFO"),function(o){b.call(this,o);c.call(this,o)})}this.AddMethod("Refresh",null,{core:true});this.AttachEventHandler("OnClick",function(o){return n.call(this,o)})};function n(o){var p="",q="";switch(o.level){case i:p=o.defaultViewName;q=q+"&SWECmd=GotoView&SWEView="+p+"&SWEKeepContext=0&SWENeedContext=false";break;case j:case d:case g:p=o.viewName;q=q+"&SWECmd=GotoView&SWEView="+p+"&SWEKeepContext=1&SWENeedContext=false";break}return SiebelApp.S_App.GotoView(p,"",q,null)}f.prototype.Setup=function(o){SiebelAppFacade.NavigationPresentationModel.superclass.Setup.call(this,o);if(this.Get("GetType")===k.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){c.call(this,o)}};function c(o){var p=o.GetType();if(p===k.get("SWE_PROP_NC_SCREENCTRL_INFO")){m.call(this,o)}else{if(p===k.get("SWE_PROP_NC_FLOATING_TAB_INFO")){h.call(this,o)}else{if(p===k.get("SWE_PROP_NC_AGGREGATE_INFO")||p===SiebelApp.Constants.get("SWE_PROP_NC_SUBDETAIL_INFO")){e.call(this,o,false)}else{if(p===k.get("SWE_PROP_NC_DETAIL_INFO")){e.call(this,o,true)}else{return}}}}}function m(r){var s=r.GetChildCount();var v="";var u;var o=k.get("SWE_PST_QTP_INFO");var w=k.get("SWE_PROP_NC_ITEM_INFO");if(this.Get("GetTabInfo")===null||this.Get("GetTabInfo")===undefined){this.AddProperty("GetTabInfo",{})}if(this.Get("GetTabItemsQTPInfo")===undefined){this.AddProperty("GetTabItemsQTPInfo",[])}for(var q=0,p=0;q<s;q++){var t=r.GetChild(q);u=t.GetType();if(u===o){this.AddProperty("GetTabContainerQTPInfo",t);continue}else{if(u!==w){continue}}this.Get("GetTabInfo")["tabScreen"+p]=a.call(this,t);p++}v=r.GetProperty(k.get("SWE_PROP_NC_SELECTED_INDEX"));this.AddProperty("GetSelectedTabKey","tabScreen"+v);this.AddProperty("GetDataReload",true)}function a(o){if(l.IsEmpty(o)){return}var p={};p.screenName=o.GetProperty(k.get("SWE_PROP_NC_SCREEN_NAME"));p.defaultViewName=o.GetProperty(k.get("SWE_PROP_NC_VIEW_NAME"));p.captionName=o.GetProperty(k.get("SWE_PROP_NC_CAPTION"));p.tabIcon=o.GetProperty(k.get("SWE_PROP_NC_SCREEN_TAB_ICON"));var r=k.get("SWE_PST_QTP_INFO");for(var q=0;q<o.GetChildCount();q++){if(o.GetChild(q).GetType()===r){this.Get("GetTabItemsQTPInfo").push(o.GetChild(q))}}return p}function h(o){if(l.IsEmpty(o)||o.GetType()!==k.get("SWE_PROP_NC_FLOATING_TAB_INFO")){return}var s=o.GetChild(0);if(s.GetType()!==k.get("SWE_PROP_NC_ITEM_INFO")){return}var v=false;var t=0;var u=s.GetProperty(k.get("SWE_PROP_NC_SCREEN_NAME"));var r=k.get("SWE_PROP_NC_SELECTED_INDEX");var q;var p=this.Get("GetTabInfo");for(var w in p){if(p.hasOwnProperty(w)){if(this.Get("GetTabInfo")[w].screenName===u){u=q.GetProperty(r);if(u){this.AddProperty("GetSelectedTabKey","tabScreen"+u)}else{this.AddProperty("GetSelectedTabKey",w)}v=true}t++}}if(v){return}this.Get("GetTabInfo")["tabScreen"+t]=a.call(this,s);this.AddProperty("GetSelectedTabKey","tabScreen"+t);this.AddProperty("GetDataReload",true)}function e(w,z){if(z){this.AddProperty("GetTabInfo",{});this.AddProperty("GetTabContainerQTPInfo",null);this.AddProperty("GetTabItemsQTPInfo",[])}else{var p={};this.AddProperty("GetSelectedTabLinkInfo",p);this.AddProperty("GetTabViewLinkContainerQTPInfo",null);this.AddProperty("GetTabViewLinkItemsQTPInfo",[])}var t=w.GetChildCount();var y;var o=k.get("SWE_PST_QTP_INFO");var A=k.get("SWE_PROP_NC_ITEM_INFO");if(!((t===1)&&(w.GetChild(0).GetType()===o))){for(var s=0,x=0;s<t;s++){var r={};var u=w.GetChild(s);var v=u.GetType();if(v===o){if(z){this.AddProperty("GetTabContainerQTPInfo",u)}else{this.AddProperty("GetTabViewLinkContainerQTPInfo",u)}continue}else{if(v===k.get("SWE_QTP_JUMP_TAB_INFO")){if(u.GetChild(0).GetType()===o){this.AddProperty("GetJumpTabQTPInfo",u.GetChild(0))}continue}else{if(v!==A){continue}}}y=u.GetProperty(k.get("SWE_PROP_NC_VIEW_NAME"));r.viewName=y;y=u.GetProperty(k.get("SWE_PROP_NC_CAPTION"));r.captionName=y;if(z){this.Get("GetTabInfo")["tabScreen"+x]=r}else{this.Get("GetSelectedTabLinkInfo")["tabView"+x]=r}for(var q=0;q<u.GetChildCount();q++){if(u.GetChild(q).GetType()===o){if(z){this.Get("GetTabItemsQTPInfo").push(u.GetChild(q))}else{this.Get("GetTabViewLinkItemsQTPInfo").push(u.GetChild(q))}}}x++}}y=w.GetProperty(k.get("SWE_PROP_NC_SELECTED_INDEX"));if(y!==undefined){z?this.AddProperty("GetSelectedTabKey","tabScreen"+y):this.AddProperty("GetSelectedLinkKey","tabView"+y)}this.AddProperty("GetDataReload",true)}function b(t){var p=true;var w=null;var v=null;var r=SiebelApp.S_App;var s=k.get("SWE_PROP_NC_SELECTED_INDEX");var o=k.get("SWE_PST_QTP_INFO");v=t.GetType();if((v===k.get("SWE_PROP_NC_PDQ_INFO"))||(v===k.get("SWE_PST_QTP_INFO"))){return}for(p=true;(w=t.EnumProperties(p))!==null;p=false){if(w!==s){v=t.GetProperty(w);if(r===null||r===undefined){break}else{var u=r.LookupStringCache(v);if(u===null||u===undefined){continue}t.SetProperty(w,u)}}}for(var q=0;q<t.GetChildCount();q++){if(t.GetType()!==o){b.call(this,t.GetChild(q))}}}return f}());return"SiebelAppFacade.NavigationPresentationModel"})};