/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.GanttDateBar)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.GanttDateBar");SiebelAppFacade.GanttDateBar=(function(){var s=SiebelJS.Dependency("SiebelApp.Constants"),c=s.get("SWE_GANTT_START_DATE"),o=s.get("SWE_GANTT_TIME_SCALE"),g="MM/dd/yyyy",u="MM/DD/YYYY",h=SiebelApp.S_App.LocaleObject,b=h.GetLocalString("IDS_TNT_DATE_INPUT_TOOLTIP"),e=h.GetLocalString("IDS_TNT_DATE_CAL_TOOLTIP"),j=h.GetDateFormat(),p=h.GetLocalString("IDS_SWE_DATEPICKER_CURRENT_TEXT"),t=h.GetLocalString("IDS_TNT_PREV_DAY_TOOLTIP"),v=h.GetLocalString("IDS_TNT_NEXT_DAY_TOOLTIP"),n=h.GetLocalString("IDS_TNT_PREV_WEEK_TOOLTIP"),q=h.GetLocalString("IDS_TNT_NEXT_WEEK_TOOLTIP"),d=h.GetLocalString("IDS_CALENDAR_PREVIOUS_MONTH_STRING"),r=h.GetLocalString("IDS_CALENDAR_NEXT_MONTH_STRING"),a=h.GetLocalString("IDS_TNT_PREV_DAY_TOOLTIP"),l=h.GetLocalString("IDS_CALENDAR_NEXT_YEAR_STRING"),k=h.GetLocalString("IDS_CALENDAR_PREVIOUS_YEAR_STRING"),f={7:n,1:a,30:d,31:d,365:k,35:d},i={7:q,1:v,30:r,31:r,365:l,35:r};function m(){}m.prototype.ShowUI=function(y,x){var z,w,A;this.pm=y;A=this.pm.Get("GetFullId");if(x){z='<div class = "siebui-buttonBar"><input type="button" class = "siebui-todayButton appletButton" name = "'+A+'todayButton" id="'+A+'todayButton" title = "'+p+'" aria-labelledby = "'+p+'" ot = "button" rn = "'+p+'" un = "'+p+'" value= "'+p+'" /><a class="siebui-buttonBar-button siebui-prevSetButton" id="'+A+'prevSetButton" aria-labelledby="Previous Set" ot = "a" rn = "Previous Set" un = "Previous Set" title="Previous Set"><span></span></a><a class="siebui-buttonBar-button siebui-prevButton" id="'+A+'prevButton" aria-labelledby="Previous Day" ot = "a" rn = "Previous Day" un = "Previous Day" title="Previous Day"><span></span></a><span class="siebui-ganttDate"><label class="siebui-dateRange" id="ganttDateLbl" ot = "label" rn = "DateLabel" un = "DateLabel">'+y.ExecuteMethod("getDateRange","")+'</label><input type="text" value = "'+y.Get(c)+'" id="ganttdatePicker" class="siebui-dateInput siebui-input-popup" title="Click to Enter Date" aria-labelledby="Click to Enter Date" ot = "text" rn = "Start Date" un = "Start Date"></span><a class="siebui-buttonBar-button siebui-nextButton" id="'+A+'nextButton" aria-labelledby="Next Day" title="Next Day" ot = "a" rn = "Next Day" un = "Next Day" ><span></span></a><a class="siebui-buttonBar-button siebui-nextSetButton" id="'+A+'nextSetButton" aria-labelledby="Next Set" title="Next Set" ot = "a" rn = "Next Set" un = "Next Set" ><span></span></a></div>';x.append(z);$("#s_"+A+"_div").find("#ganttdatePicker").hide()}};m.prototype.BindEvents=function(){var B=this,z=B.pm,A=z.Get("GetFullId"),w,y,E,x="Click to Enter Date",C=z.Get("RTL Mode"),D={mask:true};$("#s_"+A+"_div").find("#ganttDateLbl").bind("click",{ctx:this},function(G){var F=h.GetStringFromDateTime(z.Get(c),u,j);$(this).hide();$("#s_"+A+"_div").find("#ganttdatePicker").val(F).show().focus()});$("#s_"+A+"_div").find("#ganttdatePicker").datepicker({showOn:"button",buttonImage:"images/calPicker_icon.gif",buttonImageOnly:true,buttonText:e,isRTL:z.Get("RTL Mode")==="Y",changeMonth:true,changeYear:true,onSelect:function(){z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",$(this).val());$(this).datepicker("hide")}}).bind("blur",{ctx:this},function(F){$(this).hide();$("#s_"+A+"_div").find("#ganttDateLbl").show()}).bind("change",{ctx:this},function(F){w=h.GetStringFromDateTime($(this).val(),j,u);y=h.GetDispDateSeparator();while(y!="/"&&w.indexOf(y)!=-1){w=w.replace(y,"/")}if(w===""&&$(this).val()!==""){SiebelApp.S_App.ErrorObject.SetErrorMsg("LocaleErrFormattedToString",$(this).val());SiebelApp.S_App.ErrorObject.ProcessError()}else{z.ExecuteMethod("RefreshGanttChart",w);$(this).hide();$("#s_"+A+"_div").find("#ganttDateLbl").show()}});$("#s_"+A+"_div").find("#"+A+"todayButton").bind("click",{ctx:this},function(F){w=new Date();z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",0,null,D)});$("#s_"+A+"_div").find("#"+A+"nextButton").bind("click",{ctx:this},function(F){w=new Date(z.Get(c));w.setDate(w.getDate()+B.NextPrev);z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",w.format(g),null,D)});$("#s_"+A+"_div").find("#"+A+"nextSetButton").bind("click",{ctx:this},function(F){w=new Date(z.Get(c));w.setDate(w.getDate()+B.NextPrevSet);z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",w.format(g),null,D)});$("#s_"+A+"_div").find("#"+A+"prevButton").bind("click",{ctx:this},function(F){w=new Date(z.Get(c));w.setDate(w.getDate()-B.NextPrev);z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",w.format(g),null,D)});$("#s_"+A+"_div").find("#"+A+"prevSetButton").bind("click",{ctx:this},function(F){w=new Date(z.Get(c));w.setDate(w.getDate()-B.NextPrevSet);z.SetProperty("InEvent",true);z.ExecuteMethod("RefreshGanttChart",w.format(g),null,D)})};m.prototype.setNavigationValues=function(){var y=this.pm.Get("TST"),x=this.pm.Get("DateBar Navigation TS"),z=this.pm.Get("GetFullId"),w;if(x&&y){x=";"+x;y=";"+y+":";w=x.substring(x.indexOf(y)+y.length,x.indexOf(";",x.indexOf(y)+y.length));this.NextPrev=w?Number(w.substring(0,w.indexOf(","))):"";this.NextPrevSet=w?Number(w.substring(w.indexOf(",")+1,w.length)):""}$("#s_"+z+"_div").find("#"+z+"prevSetButton").attr("aria-labelledby",f[this.NextPrevSet]).attr("title",f[this.NextPrevSet]);$("#s_"+z+"_div").find("#"+z+"prevButton").attr("aria-labelledby",f[this.NextPrev]).attr("title",f[this.NextPrev]);$("#s_"+z+"_div").find("#"+z+"nextSetButton").attr("aria-labelledby",i[this.NextPrevSet]).attr("title",i[this.NextPrevSet]);$("#s_"+z+"_div").find("#"+z+"nextButton").attr("aria-labelledby",i[this.NextPrev]).attr("title",i[this.NextPrev])};return m}())};