/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
require.onError=function(a){SiebelJS.Log("Error in downloading file "+a.requireType+":"+a.requireModules)};if(typeof(SiebelApp.S_App)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App");SiebelApp.S_App=(function(){var O=SiebelJS.Dependency("SiebelApp.Utils");var A=SiebelJS.Dependency("SiebelApp.Constants");var V=A.get("SWE_PST_APP_INFO");var l;var ae;var ak;var T=A.get("SWE_FIELD_STR");var P=A.get("SWE_RPC_PROP_URL");var L=A.get("SWE_ARG_START");var Z=A.get("SWE_RPC_PROP_FILEDOWNLOADSAVE");var aa=A.get("SWE_METHOD_SAVE_QUERY");var c=A.get("SWE_METHOD_SAVE_QUERY_AS");var S=A.get("SWE_METHOD_POST_CHANGES");var j=A.get("SWE_TARGET_TOP");var s=[];var at=[];var k;var al;var B={};var F=[];var D;var a=[];var J={};var ag;var au=false;var q=null;var f;var N={};var ad=false;var X={};var i={};var x=null;var b;var g=true;var w={};var o=false;var Q="";var H="";var y="";var U="";var t=false;var K=null;var G={};var ap=function(){var av;ap=function(){return av};ap.prototype=this;av=new ap();av.uiStatus=new SiebelApp.UIStatus();av.constructor=ap;var aw=new SiebelApp.CommandManager(av);ap.prototype.GetCmdMgr=function(){return aw};SiebelAppFacade.ComponentMgr.RegisterLevel(av);return av};l=new ap();function d(){b=new SiebelApp.PopupPModel({GetName:function(){return"PopupPxy"}})}ap.prototype.SetExternalActiveApplet=function(av){K=av};ap.prototype.GetExternalActiveApplet=function(av){return K};ap.prototype.GetRowCounterTemplateMap=function(av){return w[av]};function h(av,aw){w[av]=aw}ap.prototype.IsExternalApplet=function(av){return !O.IsEmpty(i[av.GetName()])};ap.prototype.RemoveApplet=function(aw){delete i[aw.GetName()];if(!!aw.GetBusComp()){if(aw.GetBusComp().GetNotifyObject().GetAppletRegistry().length===1){delete aw.GetBusComp().GetNotifyObject();delete aw.GetBusComp()}else{aw.GetBusComp().GetNotifyObject().DeRegister(aw)}}var av=SiebelAppFacade.ComponentMgr.FindComponent({id:aw.GetName()});if(av){SiebelAppFacade.ComponentMgr.DeleteComponent(av,this)}if(aw.EndLife){aw.EndLife()}delete aw};ap.prototype.GetPopupPM=function(){return b};ap.prototype.GetMsgBarPM=function(){return x};ap.prototype.GetIconMap=function(){return X};ap.prototype.PushPostBack=function(aw,av){F.push({callBack:aw,object:av})};ap.prototype.DefineAccessor=function(az,av,ay,ax,aA){ax=A.get(ax);var aw=null;if(av.PropertyExists(ax)){aw=av.GetProperty(ax)}if(aA===true){aw=SiebelApp.S_App.LookupStringCache(aw)}if(!O.IsEmpty(aw)||(typeof az[ay]!=="function")){az[ay]=function(){return aw}}av=null};ap.prototype.GetActiveBusObj=function(){return ae};ap.prototype.SetActiveBusObj=function(av){ae=av};ap.prototype.GetActiveView=function(){return ak};ap.prototype.SetActiveView=function(av){ak=av};ap.prototype.SetLayoutLoaded=function(ax,aw,av,ay){};ap.prototype.SetLayoutUnloaded=function(){};ap.prototype.SetThreadbarSpan=function(){};ap.prototype.ViewUINotLoaded=function(){};ap.prototype.ProcessRPCInfo=function(av){};ap.prototype.OnUnload=function(){SiebelJS.Log("On Unload")};function ah(aO){ap.prototype.GetAppPropertySet=function(){return aO.Clone()};var ax=aO.GetChild(0);if(ax.GetType()!==V){throw new Error("Wrong propSet type in Application Context")}this.SetSelfProps(ax);var aL=SiebelApp.Environment;if(aL!==undefined){m.call(this,ax)}var aV=ax.GetChildCount();var aw=A.get("SWE_PST_LOADURL"),aW=A.get("SWE_PST_STR_CACHE"),aX=A.get("SWE_PST_NEW_NAV_CTRL_MGR"),aN=A.get("SWE_PST_SERVICE_SHADOWS"),aA=A.get("SWE_PST_QTP_INFO"),aF=A.get("SWE_PST_ACCESSIBILITY_INFO"),aT=A.get("SWE_PST_NEW_TIMER"),aY=A.get("SWE_PST_NEW_LOCALE"),aK=A.get("SWE_PST_STYLESHEET"),aJ=A.get("SWE_UIDEF_THEME_INFO"),aZ=A.get("SWE_UIDEF_PAGE_TRANSITION_INFO"),aD=A.get("SWE_PST_MSG"),aH=A.get("SWE_PST_ROW_CNT_TMPL"),a2=A.get("SWE_PROP_SEARCH_BAR"),a1=A.get("SWE_PST_PORTLET_APP"),aB=A.get("SWE_PROP_VALUE"),aI=A.get("SWE_PROP_NAME");for(var aC=0;aC<aV;aC++){var aE=ax.GetChild(aC);var az=aE.GetType();var aM=O.Curry(ap.prototype.DefineAccessor,SiebelApp.Environment.constructor.prototype,aE);switch(az){case aw:aM("GetClientFrameName","SWE_PROP_NAME");aM("GetClientURL","SWE_PROP_VALUE");SiebelApp.Environment.constructor.prototype.GetClientFrame=function(){return $('[name="'+SiebelApp.Environment.GetClientFrameName()+'"]')[0]};break;case aK:aM("GetStyleSheetName","SWE_PROP_VALUE");break;case aW:var aP=aE.GetProperty(aB);if(aP){this.AppendToStrCache(aP)}break;case aX:var aS=aE.GetChildCount();if(aS>0){k.Initialize(aE.GetChild(0));k.ProcessObjectInfo(aE.GetChild(0))}break;case aJ:var aP=aE.GetProperty(aB);if(aP){SiebelApp.ThemeManager.flipTheme(aP)}break;case aZ:var aP=aE.GetProperty(aB);if(aP){SiebelApp.LayoutTransitionsMgr.setTransition(aP)}break;case aF:aM("GetScreenNavTitle","SWE_PROP_SCREEN_NAV_TITLE");aM("GetDetailCategoryTitle","SWE_PROP_DETAIL_CATEGORY_TITLE");break;case aA:if(aE.PropertyExists(A.get("SWE_PROP_QTP_OT"))){aM("GetObjectType","SWE_PROP_QTP_OT")}if(aE.PropertyExists(A.get("SWE_PROP_QTP_RN"))){aM("GetRepstrName","SWE_PROP_QTP_RN")}if(aE.PropertyExists(A.get("SWE_PROP_QTP_UN"))){aM("GetUIName","SWE_PROP_QTP_UN")}break;case aN:var aG=aE.EnumProperties(true);do{J[aG]=aE.GetProperty(aG)}while((aG=aE.EnumProperties(false)));break;case aT:aj.call(this,aE);break;case aY:var ay=aE.GetChildCount();if(ay>0){SiebelApp.S_App.LocaleObject.InitLocale(aE.GetChild(0))}break;case aD:var av=aE.GetProperty(aI);var aP=aE.GetProperty(aB);if(av&&aP){am.call(this,av,aP)}break;case a1:var aQ=new SiebelApp.S_App.PortletSessionMgr();aQ.ProcessPortletInfo(aE);break;case aH:var a0=aE.GetProperty(aI);var aR=aE.GetProperty(aB);if(a0&&aR){h.call(this,a0,aR)}break;case a2:var aU=CCFMiscUtil_CreatePropSet();aU.SetProperty(A.get("SWE_UIDEF_PR_CTR"),"SiebelAppFacade.SearchLookinPhyRenderer");al=new SiebelAppFacade.SearchLookinPresentationModel({GetName:function(){return"SearchPxy"}});al.Setup(aU);break;default:SiebelJS.Log("[SetProtoAPIs] : Missing handler for type ["+az+"]");break}}if(aL!==undefined){af()}ax=null}function aj(aw){var av=new SiebelApp.S_App.SweTimer();SiebelApp.S_App.SetTimer(av);SiebelApp.S_App.GetTimer().CreateTimerHookMap(aw);SiebelApp.S_App.SetEnablePerfHooks(true);SiebelApp.S_App.GetTimer().SetSessionID()}function af(){var av=SiebelApp.S_App.constructor.prototype;var aw=SiebelApp.Environment.constructor.prototype;for(var ax in aw){if(typeof aw[ax]==="function"){av[ax]=aw[ax]}}}ap.prototype.SetSelfProps=function(aw){var aA=O.Curry(ap.prototype.DefineAccessor,ap.prototype,aw);aA("GetUserName","SWE_PROP_USER_ID");aA("GetName","SWE_PROP_NAME");aA("GetCookieName","SWE_PROP_COOKIE_NAME");aA("GetSessionId","SWE_RPC_PROP_SESSION_NUMBER");aA("GetSRN","SWE_PROP_SESSION_RANDOM_NUMBER");aA("UseCookie","SWE_RPC_PROP_USE_COOKIE");aA("UseSecureCookie","SWE_RPC_PROP_USE_SECURE_COOKIE");aA("GetPageURL","SWE_PROP_PAGEURL");aA("GetLoginTimeStamp","SWE_PROP_LOGIN_TIMESTAMP");aA("GetScriptDir","SWE_PROP_SCRIPT_DIR");aA("GetSWEReqCount","SWE_PROP_REQ_COUNT");aA("GetSWEReqCount","SWE_COUNT_STR");aA("GetStandAloneClient","SWE_PROP_STANDALONE_CLIENT");aA("GetAccessibilityEnhanced","SWE_PROP_ACCESSIBILITY_ENHANCED");
aA("GetHtmlPopupName","SWE_PROP_HTML_POPUP_NAME");aA("GetPopupHDBrowser","SWE_PROP_POPUP_HDBrowser");aA("GetCheckSum","SWE_PROP_CHECKSUM");aA("GetCancelQueryTimeout","SWE_PROP_CANCEL_QUERY_TIME_OUT");aA("GetPopupConSize","SWE_PROP_POPUP_CON_SIZE");aA("GetStrictDate","SWE_PROP_STRICT_DATE");aA("IsUIEnableDateError","SWE_PROP_IS_ENABLE_UI_DATE_ERROR_DETECT");aA("UseAnsiCtrls","SWE_PROP_USE_ANSI_CONTROLS");aA("IsMobileApplication","SWE_IS_MOBILE_APPLICATION");ap.prototype.GetScreenNavTitle=function(){return""};ap.prototype.GetDetailCategoryTitle=function(){return""};var aB=aw.GetProperty(A.get("SWE_PROP_PHONE_LEADING_ZERO"));if(aB){var ay;var aC=" ";ay=aB.toString().split(",");for(var ax=0,az=ay.length;ax<az;ax++){var av=ay[ax];if(av&&av[0]!=="+"){av="+"+av}G[av]=aC}}};ap.prototype.IsPhoneLeadingZeroAllowed=function(av){return G[av]?true:false};ap.prototype.AppendToStrCache=function(aw){if(aw&&aw!==""){var av=[];CCFMiscUtil_StringToArray(aw,av);at=at.concat(av)}};ap.prototype.LookupStringCache=function(av){var aw="";if(av>=0&&av<at.length){aw=at[av]}return aw};ap.prototype.GetStringCache=function(){return at};ap.prototype.SetStringCache=function(av){at=av};ap.prototype.SetDiscardUserState=function(av){ad=av};ap.prototype.GetDiscardUserState=function(){return ad};ap.prototype.GotoView=function(aA,aB,aw,aD,az,aC){var ay;this.uiStatus.Busy({target:this.GetTargetViewContainer(),mask:true});SiebelApp.S_App.NotifyTimer("TimeGoToView",[aA,"Start GotoView"]);var ax=true;if(!O.IsEmpty(aw)){ay=O.DecodeFromQueryString(aw,true)}else{ay=CCFMiscUtil_CreatePropSet()}if(this.GetDiscardUserState()){if(this.GetPopupPM().Get("state")===A.get("POPUP_STATE_VISIBLE")){this.GetPopupPM().ExecuteMethod("SetPopupVisible",false)}}else{if(!az&&!this.CanLeaveMainView()){ax=false;this.uiStatus.Free();return ax}}SiebelApp.S_App.NotifyTimer("TimeGoToView",[aA,"View Cache Ready"]);if(O.IsEmpty(ay.GetProperty(A.get("SWE_CMD_ARG")))){ay.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_GOTO_VIEW"))}if(!ay.GetProperty(A.get("SWE_ARG_KEEP_CONTEXT"))){ay.SetProperty(A.get("SWE_ARG_KEEP_CONTEXT"),"1")}this.SetDefaultArgs(ay);if(!O.IsEmpty(aA)){aA=aA.split("&").join("%26");ay.SetProperty(A.get("SWE_VIEW_ARG"),aA)}if(O.IsEmpty(ay.GetProperty(A.get("SWE_COUNT_STR")))){ay.SetProperty(A.get("SWE_COUNT_STR"),this.GetSWEReqCount())}else{ap.prototype.GetSWEReqCount=function(){return ay.GetProperty(A.get("SWE_COUNT_STR"))}}var aE=O.EncodeToQueryString(ay,O.IsEmpty(aw));var av={};av.url=this.GetPageURL();av.data=aE.split(" ").join("%20");av.type="POST";av.contentType="application/x-www-form-urlencoded";av.async=!aC;av.context=this;av.successfncallback=function(){var aG=new $.Deferred();var aF=this.ProcessResponse.apply(this,arguments);aF.done(function(){SiebelApp.S_App.ProcessError();aG.resolve()});return aG.promise()};SiebelApp.AjaxRequestMgr.Ajax(av);av=null;return ax};function C(){$("#_sweview").addClass("siebui-indent-content")}function Y(){$("#_sweview").addClass("siebui-dashboard-content-indent")}function ac(){$("#_sweview").addClass("siebui-chatpane-content-indent");$("#SS_ChatUI").addClass("siebui-chat-pane");if(SiebelApp.S_App.GetDirection()){$("#SS_ChatUI").addClass("siebui-rtl-element-left")}}ap.prototype.HideLayout=function(av){$("#"+av).html("");if(typeof(av)==="string"){if(av.match(/SS_OpenUIReportPane/)||av.match(/SS_TaskUIPane/)){$("#_sweview").removeClass("siebui-indent-content")}else{if(av.match(/Dashboard/)){$("#_sweview").removeClass("siebui-dashboard-content-indent")}else{if(av.match(/SS_ChatUI/)){$("#_sweview").removeClass("siebui-chatpane-content-indent");$("#SS_ChatUI").removeClass("siebui-chat-pane");if(SiebelApp.S_App.GetDirection()){$("#SS_ChatUI").removeClass("siebui-rtl-element-left")}}}}}};ap.prototype.GenerateSrvrReq=function(ax){var av=CCFMiscUtil_CreatePropSet();av.SetProperty(A.get("SWE_CMD_ARG"),ax);av.SetProperty(A.get("SWE_ARG_KEEP_CONTEXT"),"1");this.SetDefaultArgs(av);av.SetProperty(A.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());SiebelApp.S_App.OfflineCallMethod("GetSRN",av);var aw=O.EncodeToQueryString(av,false);var ay=SiebelApp.S_App.GetPageURL()+A.get("SWE_ARG_START")+aw;return ay};ap.prototype.CanLeaveMainView=function(){var av=true;var aw=this.GetActiveView();if(aw&&!aw.SetActiveApplet(null)){av=false}return av};ap.prototype.GetSWEReqCount=function(){return"1"};ap.prototype.GetRequestDefault=function(){var av=CCFMiscUtil_CreatePropSet();this.SetDefaultArgs(av);av.SetProperty(A.get("SWE_VIEW_ID_ARG"),"");return av};ap.prototype.SetDefaultArgs=function(ay){ay.SetProperty(A.get("SWE_VIEW_RPC_ARG"),"1");if(!O.IsTrue(this.UseCookie())){ay.SetProperty(A.get("SWE_RPC_PROP_SESSION_NUMBER"),this.GetSessionId())}ay.SetProperty(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"),this.GetSRN());var aw=this.GetSWEReqCount();if(!isNaN(aw)){ay.SetProperty(A.get("SWE_COUNT_STR"),aw)}if(!this.GetPopupPM().IsPopupStarted()&&this.GetActiveView()&&this.GetActiveView().GetActiveApplet()&&!this.GetPopupPM().Get("isCurrencyOpen")&&!O.IsTrue(ay.GetProperty(A.get("SWE_BUSINESS_SERVICE")))){if(O.IsEmpty(ay.GetProperty(A.get("SWE_ACTIVE_APPLET_STR")))){ay.SetProperty(A.get("SWE_ACTIVE_APPLET_STR"),this.GetActiveView().GetActiveApplet().GetName())}var av=ay.GetProperty(A.get("SWE_APPLET_STR"));var ax=!O.IsEmpty(i[av]);if(O.IsEmpty(ay.GetProperty(A.get("SWE_ACTIVE_VIEW_STR")))&&!ax){ay.SetProperty(A.get("SWE_ACTIVE_VIEW_STR"),this.GetActiveView().GetName())}}else{if(K&&!O.IsTrue(ay.GetProperty(A.get("SWE_BUSINESS_SERVICE")))){ay.SetProperty(A.get("SWE_ACTIVE_APPLET_STR"),K.GetName())}}};ap.prototype.OnLoadViewContent=function(){try{SiebelApp.EventManager.cleanListners("gridresize");SiebelApp.EventManager.fireEvent("preload");var ay=this.GetActiveView();if(!O.IsEmpty(ay)){ay.Initialize();if(O.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){$("[name= _sweview]").attr({role:"main",title:ak.GetViewSummary()})}if(typeof ay.GetRepstrName==="function"){$("[name=_sweview]").attr("rn",ay.GetRepstrName())}if(typeof ay.GetUIName==="function"){$("[name=_sweview]").attr("un",ay.GetUIName())}}else{SiebelApp.S_App.NavCtrlMgr.Show(true)}if(SiebelApp.S_App.IsMobileApplication()!=="true"){if($("#_swescrnbar").hasClass("addshowactivated")){}else{var az;var ax=SiebelApp.S_App.GetDirection();az='<a href="#" id="openSidebarButton" title="Open Sidebar" class="hidden">&raquo;</a>';$("#_swescrnbar").prepend(az);$("#_swescrnbar").addClass(ax?"siebui-rtl-screenbar addshowactivated":"addshowactivated");$("#_swecontent").removeClass("maxWidth");var av;av='<a href="#" class="sidebarNavButton" id="sidebarCloseButton" title="Close Sidebar">&laquo;</a>';$("#s_sctrl").prepend(av);$("#sidebarCloseButton").click(function(){$("#_swescrnbar").addClass("treeClosed");$("#_swecontent").addClass("maxWidth");$("#openSidebarButton").removeClass("hidden");$("#sidebarCloseButton").css("Display","none");$("[id^='gview_s']").resize()});$("#openSidebarButton").click(function(){$("#s_sctrl").css("display","");$("#_swescrnbar").removeClass("treeClosed");$("#openSidebarButton").addClass("hidden");
$("#_swecontent").removeClass("maxWidth").addClass(ax?"siebui-rtl-content":"");$("[id^='gview_s']").resize()})}}if(SiebelApp.S_App.CommToolbar&&!SiebelApp.S_App.CommToolbar.HasShown()){SiebelApp.S_App.CommToolbar.Show()}}catch(aw){SiebelJS.Log(aw)}finally{SiebelApp.EventManager.fireEvent("postload");this.uiStatus.Free()}};ap.prototype.OnLoadExternalObject=function(aw){try{switch(aw){case"SS_TaskUIPane":if($("#taskList").hasClass("tasklist1")){var ax=SiebelApp.S_App.getExtObject("TaskUIPane");if(ax){C.call(this);ax.Show()}}break;case"Dashboard":var ax=SiebelApp.S_App.getExtObject("Dashboard");if(ax){Y.call(this);ax.Show()}break;case"SS_OpenUIReportPane":if($("#reportList").hasClass("reportlist1")){var ax=SiebelApp.S_App.getExtObject("ReportPane");if(ax){C.call(this);ax.Show()}}break;case"SS_ChatUI":var ax=SiebelApp.S_App.getExtObject("ChatPane");if(ax){ac.call(this);ax.Show()}break}}catch(av){SiebelJS.Log(av)}finally{SiebelApp.EventManager.fireEvent("posteoiload");this.uiStatus.Free()}};ap.prototype.RegisterExtObject=function(av){var aw=av.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"));var ay=this.getExtObject(aw);if(ay){return ay.Object}ay={};switch(aw){case"TaskUIPane":var ax=new SiebelAppFacade.TaskPresentationModel();ay.TYPE=aw;ay.Object=ax;break;case"Dashboard":var az=new SiebelAppFacade.DashboardPresentationModel();ay.TYPE=aw;ay.Object=az;break;case"ReportPane":var aB=new SiebelAppFacade.ReportPresentationModel();ay.TYPE=aw;ay.Object=aB;break;case"ChatPane":var aA=new SiebelAppFacade.ChatPresentationModel();ay.TYPE=aw;ay.Object=aA;break}a.push(ay);return ay.Object};ap.prototype.getExtObject=function(aw){for(var av=0;av<a.length;av++){if(a[av].TYPE===aw){return a[av].Object}}return null};ap.prototype.UnregisterExtObject=function(aw){for(var av=0;av<a.length;av++){if(a[av].TYPE===aw){a.splice(av,1);return}}};ap.prototype.CanInvokeMethod=function(av){return true};ap.prototype.LogOff=function(){var ax=this.GetActiveView();if(ax){if(!ax.SetActiveApplet(null)){return false}}if(SiebelApp.S_App.GetTimer()){var ay=this;var aB={};aB.type="POST";var aA=SiebelApp.S_App.GetTimer().GetLogBuffer();var aw=SiebelApp.S_App.GetPageURL();var az=SiebelApp.S_App.GetSRN();aw=aw+"?SWECmd=InvokeMethod&SWEMethod=WritePerfLog&SRN="+az;var av=""+A.get("SWE_PERF_LOG_DATA")+"="+URLEncode(aA);$.ajax({type:"POST",url:aw,data:av,processData:false,complete:ay.OnUnLoadApp})}else{this.OnUnLoadApp();return true}};ap.prototype.OnUnLoadApp=function(){var ay="";var av="1";var aw=new Date();var ax=SiebelApp.S_App.GetSRN();ay=ay+SiebelApp.S_App.GetPageURL()+"?SWECmd=Logoff&SWETS="+aw.valueOf()+"&SWEPreLd="+av+"&SRN="+ax;if(!O.IsTrue(SiebelApp.S_App.UseCookie())){ay=ay+"&"+A.get("SWE_RPC_PROP_SESSION_NUMBER")+"="+SiebelApp.S_App.GetSessionId()}window.location.replace(ay)};ap.prototype.InvokeMethod=function(aH,aD,aB){var aw=true;aD=aD||CCFMiscUtil_CreatePropSet();var ay=aD.Clone();var aF=this.GetMainView();aw=u.call(this,aH,ay);if(!aw){return false}var aE={};var aA=this;if(typeof(aB)==="object"||aB===true||aB===false){aE.scope=this;aE.args=[];aE.args.push(aH);aE.args.push(ay);aE.async=(typeof(aB.async)==="boolean")?aB.async:aB;aE.selfbusy=aB.selfbusy||false;aE.mask=aB.mask||false;aE.cb=function(){var aL=Array.prototype.slice.call(arguments);aL.push(aA.PostExecute.apply(aA,arguments));if(typeof(aB.scope)!=="undefined"&&typeof(aB.scope.cb)==="function"){aB.scope.cb.apply(aB.scope||null,aL)}}}else{aE=undefined}switch(aH){case"Query":var ax=aD.Applet;delete aD.Applet;ax.GetBusComp().HandleQuery(aD);ar.call(this,aH,ay);break;case"ExecuteNamedQuery":var aG=CCFMiscUtil_CreatePropSet();ay.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));ay.SetProperty(A.get("SWE_METHOD_STR"),aH);ay.SetProperty(A.get("SWE_INPUT_PROP_SET_STR"),ay.EncodeAsString());ay.SetProperty(A.get("SWE_VIEW_RPC_ARG"),"1");SiebelApp.S_App.CallServer(ay,aG,true,aE);if(typeof(aB)==="undefined"){SiebelApp.S_App.uiStatus.Free()}break;case"CanLeaveMainView":aw=this.CanLeaveMainView();ar.call(this,aH,ay);break;case"NextApplet":if(aF){aF.CycleActiveApplet(false)}ar.call(this,aH,ay);break;case"PrevApplet":if(aF){aF.CycleActiveApplet(true)}ar.call(this,aH,ay);break;case"GotoAppletMenu":if(aF){var aK=aF.GetActiveApplet();if(aK.GetMenu()){aK.GetMenu().OnMenuInvoke(A.get("APPLET_NAME"),A.get("SWE_PREPARE_APPLET_MENU"),A.get("SWE_MENU_APPLET"))}}ar.call(this,aH,ay);break;case"GotoApplicationMenu":if(q){var az=q.GetPM().Get("GetPlaceHolder");$("#"+az).children().eq(0).children().eq(0).focus()}ar.call(this,aH,ay);break;case"GotoCTIToolBar":if(SiebelApp.S_App.CommToolbar){SiebelApp.S_App.CommToolbar.HandleGotoCTIToolbar()}ar.call(this,aH,ay);break;case"GotoChatPane":var av=SiebelApp.S_App.getExtObject("ChatPane");if(av){av.ExecuteMethod("SetFocus")}ar.call(this,aH,ay);break;case"GotoSelectedTreeNode":if(this.CanLeaveMainView()&&aF){aF.GotoSelectedTreeNode()}break;case"ViewList":SiebelApp.S_App.NavCtrlMgr.GetVisPM().GetRenderer().SetFocus();ar.call(this,aH,ay);break;case"Logoff":aw=this.LogOff();break;case"GotoScrnTab":$("#s_sctrl div ul  li ").children().eq(0).focus();break;case"GotoViewTab":$("#s_vctrl_div div ul  li ").children().eq(0).focus();break;case"GotoSubViewTab":$("#s_vctrl_div_tabView ul  li ").children().eq(0).focus();break;default:if(aH===aa||aH===c){var aJ;if(aF){aJ=aF.GetActiveApplet()}if(aJ&&aJ.GetBusComp()&&aJ.GetBusComp().IsInQueryState()){var aC=CCFMiscUtil_CreatePropSet();aJ.InvokeMethod(S,aC)}}var aI;aI=this.CallServerApp(aH,ay,aE);if(typeof(aB)==="undefined"){var aD=[];aD.push(aH);aD.push(ay);aD.push(aI);aw=this.PostExecute.apply(this,aD);SiebelApp.S_App.uiStatus.Free();return aw}break}return aw};ap.prototype.PostExecute=function(ax,az,ay){if(ay===null){return false}else{if(ax=="GetProfileAttr"){var aw;aw=az.GetPropertyAsStr("attrName");if(aw=="GetJSAddBarDisable"){if(strResult=="FALSE"||strResult=="False"){return false}}}}var av=ar.call(this,ax,az);return av};ap.prototype.SWECount=0;ap.prototype.OnLoadViewContainer=function(ay){(function(){var az=$("[name="+ay+"]");ap.prototype.GetTargetViewContainer=function(){return az};ap.prototype.SetNextTargetViewContainer=function(aA){az=$("[name="+aA+"]")};ap.prototype.updateTargetViewContainer=function(aC,aA){var aB=new $.Deferred();SiebelApp.contentUpdater.AddCallBack(aC,function(){aB.resolveWith(this,["LayoutDone"]);if(aA===true){this.OnLoadViewContent()}if(SiebelApp.LayoutTransitionsMgr&&typeof(SiebelApp.LayoutTransitionsMgr.ShowTransition)==="function"){SiebelApp.LayoutTransitionsMgr.ShowTransition(this.GetTargetViewContainer().attr("id"))}},this);if(SiebelApp.LayoutTransitionsMgr&&typeof(SiebelApp.LayoutTransitionsMgr.Setup)==="function"){SiebelApp.LayoutTransitionsMgr.Setup(this.GetTargetViewContainer().attr("id"))}this.GetTargetViewContainer().attr("src",aC);SiebelApp.contentUpdater.loadContent();return aB.promise()}}());if(x===null){var aw=function(){};var ax=new aw();ax.GetName=function(){return"MsgBarPxy"};x=new SiebelAppFacade.MsgBrdCstPresentationModel(ax);var av=CCFMiscUtil_CreatePropSet();
av.SetProperty("SWE_OUI_RENDERER","MsgBrdCstPhyRenderer");x.Setup(av.Clone());x.Show()}if(al){al.Show()}};ap.prototype.GetLayoutURL=function(aE,az,aA,aD,av){var ax=A.get("SWE_RPC_PROP_NEW_LAYOUT");var aC=A.get("SWE_ARG_EQUAL");var aw=A.get("SWE_ARG_DELIM");var aB=aD.GetProperty(A.get("SWE_LAYOUT_IDENTIFIER"))||"";aB=URLEncode(aB);if(aE===ax){var ay;ay=this.GetPageURL()+A.get("SWE_ARG_START")+A.get("SWE_CMD_ARG")+aC+(!O.IsEmpty(av)?A.get("SWE_GET_APPLET_LAYOUT"):A.get("SWE_GET_VIEW_LAYOUT"))+aw+A.get("SWE_VIEW_ARG")+aC+az+aw+A.get("SWE_VIEW_ID_ARG")+aC+aA+aw+A.get("SWE_PROP_SESSION_RANDOM_NUMBER")+aC+this.GetSRN()+aw+A.get("SWE_VIEW_CHK_SUM_ARG")+aC+this.GetCheckSum()+aw+A.get("SWE_APPLET_STR")+aC+av+aw+A.get("SWE_LAYOUT_IDENTIFIER")+aC+aB;if(!O.IsTrue(this.UseCookie())){ay=ay+aw+A.get("SWE_RPC_PROP_SESSION_NUMBER")+aC+this.GetSessionId()}return ay}};ap.prototype.NavCtrlMngr=function(){return k};ap.prototype.GetDrilldownURL=function(av){this.SetDefaultArgs(av);av.SetProperty(A.get("SWE_COUNT_STR"),this.GetSWEReqCount());av.SetProperty(A.get("SWE_VIEW_ID_ARG"),"");av.SetProperty(A.get("SWE_METHOD_STR"),A.get("SWE_CMD_DRILLDOWN_STR"));av.SetProperty(A.get("SWE_REQ_ROW_ID_STR"),"1");av.SetProperty(A.get("SWE_ACTIVE_VIEW_STR"),this.GetActiveView().GetName());av.SetProperty(A.get("SWE_VIEW_ARG"),this.GetActiveView().GetName());av.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));av.SetProperty(A.get("SWE_POPUP_VECTOR_STR"),"");var aw=O.EncodeToQueryString(av);return"start.swe?"+aw};ap.prototype.DelegateResponse=function(a2,av){var aV=new $.Deferred();var a5=[];var aA=[];var aR=null;if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","Have Object Info");SiebelApp.S_App.GetTimer().TimeServerNotification("Received Server Notifications");SiebelApp.S_App.GetTimer().TimePopupApplet("","Have Object Info")}var aS=A.get("SWE_RPC_PROP_NEW_LAYOUT");var a4=A.get("SWE_RPC_PROP_NEW_APPLET_LAYOUT");var aK=A.get("SWE_RPC_PROP_REFRESH_LAYOUT");var aI=A.get("SWE_RPC_PROP_CONFIRM_DIALOG");var ay=A.get("SWE_RPC_PROP_NEW_PAGE");var aQ=A.get("SWE_RPC_PROP_NEW_POPUP");var aC=A.get("SWE_RPC_PROP_CLOSE_POPUP");var aG=A.get("SWE_PST_NAV_CTRL_INFO");var aD=A.get("SWE_RPC_PROP_NOTIFICATION");var aM=A.get("SWE_PST_EXT_OBJ_INFO");var aL=A.get("SWE_RPC_PROP_COMMAND_MGR");var aB=A.get("SWE_HIST_OUI_UPDATE_INFO");var aE=A.get("SWE_RPC_PROP_TOGGLE_LAYOUT");var aH=A.get("SWE_RPC_PROP_STATUS_ERROR");var a0=A.get("SWE_RPC_PROP_TARGET");var aW=CCFMiscUtil_CreatePropSet();aW.DecodeFromString(a2);if(O.IsTrue(aW.GetProperty(A.get("SWERESPONSE_ERROR_STR")))){alert(aW.GetProperty(A.get("SWERESPONSE_ERROR_MSG")));this.uiStatus.Free();aV.resolve();return aV.promise()}if(!O.IsEmpty(aW.GetProperty(A.get("SWE_RPC_PROP_ALERT_MSG")))){alert(HtmlDecode(aW.GetProperty(A.get("SWE_RPC_PROP_ALERT_MSG"))))}var aP=aW.GetProperty(A.get("SWE_RPC_PROP_STATUS"));if(aP===aC){this.GetPopupPM().ExecuteMethod("ProcessClearPopup",aW)}var aF=aW.GetProperty(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"));if(aF&&aP===aH&&this.GetSRN&&O.IsEmpty(this.GetSRN())){ap.prototype.GetSRN=function(){return aF}}var az=null;var aZ=aW.GetChildCount();for(var aY=0;aY<aZ;aY++){var aO=aW.GetChild(aY);var aN=aO.GetType();switch(aN){case aD:ao.call(this,aO);break;case V:az=aO;if(az!==null){var aU=az.GetChildByType(A.get("SWE_PST_EXT_OBJ_INFO"),true);var aw=aU.GetChildCount();if(aw>0){for(var aX=0;aX<aw;aX++){var a6=aU.GetChild(aX);if(a6.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"))==="Dashboard"){var aJ=a6.GetChild(0).GetChildByType(A.get("SWE_PST_STR_CACHE"));if(aJ!==null){this.AppendToStrCache(aJ.GetProperty(A.get("SWE_PROP_VALUE")));a6.GetChild(0).RemoveChild(0)}}}}var aT=az.GetChildByType(A.get("SWE_PST_STR_CACHE"));if(aT!==null){this.AppendToStrCache(aT.GetProperty(A.get("SWE_PROP_VALUE")))}}break;case aG:k.HandleResponsePS(aO.Clone());k.ProcessObjectInfo(aO);break;case aM:var a3=this.getExtObject(aO.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO")));if(a3){a3.HandleNotify(aO.GetChild(0))}else{a3=this.RegisterExtObject(aO);if(a3){a3.Setup(aO.GetChild(0))}}break;case aL:this.GetCmdMgr().ProcessNotifications(aO);break;case aB:f.ProcessObjectInfo(aO);break}}var a1,ax;switch(aP){case aS:a1=ab.call(this,aW.GetProperty(a0),aA);a5.push(this.ProcessNewLayout(aW,a1));aR="refreshview";break;case a4:a1=ab.call(this,aW.GetProperty(a0),aA,aW.GetProperty(A.get("SWE_APPLET_STR")));a5.push(this.ProcessNewAppletLayout(aW,a1));aR="newappletlayout";break;case aE:this.GetActiveView().HandleRefreshLayout(aW);break;case aK:a1=ab.call(this,aW.GetProperty(a0),aA);ax=this.ProcessRefreshLayout(aW,a1);if(ax!==false){a5.push(ax);aR="refreshlayout"}else{aA.pop()}break;case aI:ai.call(this,aW);break;case ay:a1=ab.call(this,aW.GetProperty(a0),aA);ax=this.ProcessNewPage(aW,a1);if(ax!==false){a5.push(ax);aR="refreshpage"}else{aA.pop()}break;case aQ:this.GetPopupPM().SetProperty("CanProcessLayout",false);this.GetPopupPM().ExecuteMethod("ProcessNewPopup",aW);aR="refreshpopup";break;case aH:e.call(this,aW,av);break;default:break}if(O.IsEmpty(az)||aP===aE){v.call(this)}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeServerNotification("Processed Server Notifications")}a5.push(this.GetFilesAndProcessObjectInfo(aW));this.InvokeCallBack();if(!O.IsEmpty(f)){f.ManipulateHistoryState()}if(SiebelApp.S_App.OUIPerfReporter){SiebelApp.S_App.OUIPerfReporter.RefreshData(a2)}if(aP===aC){z(aW)}aW=null;if(a5.length>0){$.when.apply($,a5).done(function(){if(aR==="refreshpopup"){SiebelApp.S_App.GetPopupPM().SetProperty("CanProcessLayout",true)}if(aR!=="newappletlayout"){SiebelApp.S_App.NavCtrlMgr.Show(true)}for(var a8=0,a7=aA.length;a8<a7;a8++){aA[a8]["func"].call(SiebelApp.S_App,aA[a8]["tgt"],aA[a8]["applet"])}SiebelApp.EventManager.fireEvent(aR);aV.resolve()})}else{SiebelApp.S_App.NavCtrlMgr.Show(true);aV.resolve()}if(O.IsEmpty(az)){an.call(this)}return aV.promise()};function e(aI,aF){var aC;var aH;var aw=A.get("SWE_RPC_PROP_ERROR_CODE");var aB=A.get("SWE_RPC_PROP_ERROR_MSG");var av=A.get("SWE_RPC_PROP_ERRORS");var aD=aI.GetChildCount();if(!(aF&&typeof(aF.AddErrorMsgText)==="function")){aF=this}if(aD>0){for(var aE=0;aE<aD;aE++){var ay=aI.GetChild(aE);var az=ay.GetType();if(az==av){for(var aA=0,aG=ay.GetChildCount();aA<aG;aA++){var ax=ay.GetChild(aA);aC=ax.GetProperty(aw);aH=ax.GetProperty(aB);if(aC&&aH&&SiebelApp.S_App.ErrorObject){aF.AddErrorMsgText(aC,aH,true)}}break}}}}ap.prototype.ProcessResponse=function(av,aw){return this.DelegateResponse(av,aw)};function z(ax){var aA=ax.GetProperty(A.get("SWE_RPC_PROP_URL"));var aw="";var av="";var az=false;var ay=ax.GetProperty(A.get("PROP_TARGET"));if(!O.IsEmpty(aA)&&!O.IsEmpty(ay)){aw=ax.GetProperty(A.get("SWE_RPC_PROP_VIEW"));av=ax.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));if(SiebelApp.S_App.GetActiveView()&&SiebelApp.S_App.GetActiveView().GetName()==aw){az=true}if(az){SiebelApp.S_App.RefreshView(aw,av,aA,ay)}else{SiebelApp.S_App.GotoView(aw,av,aA,ay)
}}}ap.prototype.SetURLToGo=function(aw,ay,ax,aA,av,az){if(ax||!o){o=true;Q=aw;H=ay;y=aA;U=av;t=az}};function an(){if(o){o=false;if(y){if(t){this.RefreshView(y,U,Q,H)}else{this.GotoView(y,U,Q,H);if(SiebelApp.S_App.uiStatus.m_gbusy>1){SiebelApp.S_App.uiStatus.Free()}}}else{this.GotoURL(Q,H)}}}ap.prototype.RefreshView=function(ax,aw,aA,az){var av=null;var ay=CCFMiscUtil_CreatePropSet();if(O.IsEmpty(aw)){av=O.DecodeFromQueryString(aA);SiebelApp.S_App.CallServer(av,ay,true);this.ProcessError()}else{SiebelApp.S_App.GotoURL(aA,az)}};ap.prototype.GotoURL=function(ax,aw){var av=this.GetPageURL()+ax.split("start.swe")[1];if(aw===j){if(av.indexOf(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"))===-1){av+=A.get("SWE_ARG_DELIM")+A.get("SWE_PROP_SESSION_RANDOM_NUMBER")+A.get("SWE_ARG_EQUAL")+this.GetSRN()}window.location.replace(av)}else{return this.updateTargetViewContainer(av)}};function ab(ax,aw,av){ax=ax.split(".");if(ax[ax.length-1]==="_sweview"){ax="_svf0";aw.push({func:this.OnLoadViewContent,tgt:ax})}else{if(ax[ax.length-1]==="_sweclient"){aw.push({func:this.OnLoadAppletContent,tgt:ax,applet:av});var ay=$("[name="+ax[ax.length-1]+"]");ap.prototype.GetTargetViewContainer=function(){return ay};ap.prototype.SetNextTargetViewContainer=function(az){ay=$("[name="+az+"]")}}else{ax=ax[ax.length-1];aw.push({func:this.OnLoadExternalObject,tgt:ax})}}this.SetNextTargetViewContainer(ax);return ax}ap.prototype.OnLoadAppletContent=function(ax,aw){SiebelAppFacade.ComponentMgr.FindComponent({id:aw}).Show();var av=i[aw];av.ShowOnly();av.ShowSelection();this.ClearErrorMsg();if(av.HasCustomShadow()&&av.shadow&&typeof(av.shadow.OnLoad)==="function"){av.shadow.OnLoad()}this.uiStatus.Busy();this.uiStatus.Free()};ap.prototype.ProcessNewLayout=function(ay,az){if(this.GetPopupPM().Get("state")!==A.get("POPUP_STATE_UNLOADED")){this.GetPopupPM().ExecuteMethod("ClearPopup")}var aA=ay.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var ax=ay.GetProperty(A.get("SWE_RPC_PROP_APPLET"))||ay.GetProperty(A.get("SWE_APPLET_STR"));var av=ay.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));aA=aA.split(" ").join("%20").split("&").join("%26");var aw=this.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),aA,av,ay,ax);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView(aA,"Call GetViewLayout")}return this.updateTargetViewContainer(aw)};ap.prototype.ProcessNewAppletLayout=function(ax,ay){SiebelApp.S_App.uiStatus.ShowOnLoadIndicator();var aw=ax.GetProperty(A.get("SWE_RPC_PROP_APPLET"))||ax.GetProperty(A.get("SWE_APPLET_STR"));var av=this.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),"","",ax,aw);return p.call(this,av)};function p(aw){var av=new $.Deferred();SiebelApp.contentUpdater.AddCallBack(aw,function(){av.resolveWith(this,["AppletLayoutDone"])},this);this.GetTargetViewContainer().attr("src",aw);SiebelApp.contentUpdater.loadContent();return av.promise()}ap.prototype.ProcessRefreshLayout=function(av,ax){if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeRefreshView("","","Start RefreshView")}var ay=av.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var az=av.GetProperty(A.get("SWE_VIEW_ID_STR"))||"";if(ay!==this.GetActiveView().GetName()||O.IsEmpty(ay)){return false}ay=ay.split(" ").join("%20").split("&").join("%26");var aw=SiebelApp.S_App.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),ay,az,av);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","View Cache Ready")}return this.updateTargetViewContainer(aw)};function ai(aB){var aC;var aI;var az;var aA;var aF;var aE;var av;var aG;var aD;var ax;var aH=null;var ay=null;var aw=false;aD=aB.GetProperty(A.get("SWE_RPC_PROP_STATUS"));if(aD===A.get("SWE_RPC_PROP_CONFIRM_DIALOG")){aC=aB.GetProperty(A.get("SWE_CONFIRM_TEXT_STR"));az=confirm(aC);if(az){aI=aB.GetProperty(A.get("SWE_OK_METHOD_STR"))}else{aI=aB.GetProperty(A.get("SWE_CANCEL_METHOD_STR"))}if(aI){aF=aB.GetProperty(A.get("SWE_VIEW_ID_STR"));av=aB.GetProperty(A.get("SWE_APPLET_STR"));if(az){aG=aB.GetChildByType(A.get("SWE_OK_METHOD_ARGS_STR"))}else{aG=aB.GetChildByType(A.get("SWE_CANCEL_METHOD_ARGS_STR"))}aG=aG||CCFMiscUtil_CreatePropSet();if(O.IsEmpty(aF)){aH=this.GetMainView()}if(aH&&(ay=aH.GetApplet(av))){aw=ay.InvokeMethod(aI,aG)}else{aA=aB.GetProperty(A.get("SWE_SERVICE"));if(aA){aG.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));aG.SetProperty(A.get("SWE_SERVICE"),aA);aG.SetProperty(A.get("SWE_METHOD_STR"),aI)}else{aE=aB.GetProperty(A.get("SWE_VIEW_ARG"));aG.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));aG.SetProperty(A.get("SWE_VIEW_ID_STR"),aF);aG.SetProperty(A.get("SWE_VIEW_ARG"),aE);aG.SetProperty(A.get("SWE_APPLET_STR"),av);aG.SetProperty(A.get("SWE_METHOD_STR"),aI)}ax=CCFMiscUtil_CreatePropSet();SiebelApp.S_App.CallServer(aG,ax,true)}}aw=true}return aw}ap.prototype.ProcessNewPage=function(aC,aA){var az=false;var av=aC.GetProperty(A.get("SWE_RPC_PROP_URL"));var ax=aC.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var aw=aC.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));var ay=aC.GetProperty(A.get("SWE_RPC_PROP_TARGET"));var aB=aC.GetProperty(A.get("SWE_RPC_PROP_TIMEOUT"));if(!O.IsEmpty(ax)&&O.IsEmpty(aw)){var aD=this.GetActiveView();if(!O.IsEmpty(aD)&&(aD.GetName()!==ax)&&(av.match("SWECmd=GotoPostedAction"))){this.GotoView(ax,"",av,ay);SiebelApp.S_App.uiStatus.Free();return false}}else{if(aB&&SiebelApp.S_App.PortletSessionMgr&&av.indexOf("SWECmd=Login")!=-1){window.location.replace(this.GetPageURL()+"?"+SiebelApp.S_App.PortletSessionMgr.GetInstance().GetAction());return false}else{if(aB&&ay.indexOf("top")!=-1&av.indexOf("SWECmd=Login")!=-1){window.location.replace(av);return false}}}this.SetURLToGo(av,ay,false,ax,aw,az);return false};ap.prototype.InvokeCallBack=function(){while(F.length>0){var av={};av=F.pop();av.callBack.call(av.object)}};function v(){if(this.GetCmdMgr().GetRefreshTB()){this.GetCmdMgr().UpdateUIControls()}var aw=this.GetActiveView();if(!O.IsEmpty(aw)){aw.ExecuteUIUpdate()}for(var ax in i){if(i.hasOwnProperty(ax)){var av=i[ax];av.ExecuteUIUpdate()}}}function ao(aE){if(aE.GetType()!==A.get("SWE_RPC_PROP_NOTIFICATION")){return false}var aw=this.GetActiveView();var aB=this.GetActiveBusObj();var aH=!O.IsEmpty(aw)?aw.GetAppletMap():{};var aA=aE.GetChildCount();for(var az=0;az<aA;az++){var aF=aE.GetChild(az);var aG=aF.GetProperty(A.get("SWE_PROP_BC"));var aD=aF.GetProperty(A.get("SWE_PROP_BC_NOTI_ZONE"));var av=!O.IsEmpty(aB)?aB.GetBusComp(aG):null;if(av&&(!aD||aD==aB.GetZone())){av.HandleServerNotifications(aF);for(var ax in aH){if(!O.IsEmpty(aH[ax].GetBusComp())&&aH[ax].GetBusComp().GetVarName()===aG&&!(aH[ax].GetPModel() instanceof JSSPropertySet)){if(aH[ax].GetPModel()){aH[ax].GetPModel().HandleNotify(aF)}}}}else{for(var aC in i){if(i.hasOwnProperty(aC)){var ay=i[aC];if(!O.IsEmpty(ay.GetBusComp())&&ay.GetBusComp().GetVarName()===aG){av=ay.GetBusComp();av.HandleServerNotifications(aF);ay.GetPModel().HandleNotify(aF)}}}}}}ap.prototype.GetFilesAndProcessObjectInfo=function(ax){var aw=new $.Deferred();
var az=null;var av=ax.GetChildByType("api");var aB=O.Curry(ap.prototype.DefineAccessor,ap.prototype,ax);aB("GetSWEReqCount","SWE_PROP_REQ_COUNT");aB("GetSWEReqCount","SWE_COUNT_STR");if(av!==null){var ay=O.GetFileInfoFromPropSet(ax);if(ay.length>0){var aA=this;require(ay,function(){try{az=E.call(aA,ax)}catch(aC){SiebelJS.Log(aC)}av=null;az.done(function(){aw.resolveWith(this,["Process Object"])})})}else{az=E.call(this,ax);av=null;az.done(function(){aw.resolveWith(this,["Process Object"])})}ay=null}else{av=null;aw.resolveWith(this,["Process Object"])}return aw.promise()};function E(a3){var a2=new $.Deferred();var aN=[];this.SetSelfProps(a3);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Process Object Info Start")}var aL=SiebelApp.Environment;if(aL){m.call(this,a3)}var ax=a3.GetChildByType("api");var aS=a3.GetProperty(A.get("SWE_RPC_PROP_STATUS"));var aQ=A.get("SWE_RPC_PROP_NEW_APPLET_LAYOUT");if(ax!==null){var aK=ax.EnumChildren(true);if(aK!==null){var aZ=A.get("SWE_PST_NEW_VIEW");var aX=A.get("SWE_PST_NEW_BUSOBJ");var aw=A.get("SWE_PST_STR_CACHE");var aO=A.get("SWE_PST_NEW_NAV_CTRL_MGR");var aB=A.get("SWE_PST_NAV_CTRL_INFO");var aC=A.get("SWE_PROP_VALUE");var aW=A.get("SWE_PST_BUSOBJ_INFO");var a0=A.get("SWE_PST_VIEW_INFO");var aF=A.get("SWE_PST_CLEAR_MV");var aI=A.get("SWE_PST_EXT_OBJ_INFO");var aJ=A.get("SWE_PST_ICON_LIST");var ay=A.get("SWE_PST_NEW_BUSCOMP");var aT=SiebelApp.S_App.BusComp;var aV=SiebelApp.S_App.Applet;var aA=SiebelApp.S_App.ListApplet;var av=SiebelApp.S_App.Playbarapplet;var aE;var aG=A.get("SWE_PST_NEW_APPLET");var aM=A.get("SWE_PST_NEW_LIST_APPLET");var az=A.get("SWE_PST_NEW_TREEAPPLET");var a1=null;do{var aP=aK.GetType();switch(aP){case ay:aE=new aT();aE.ProcessObjectInfo(aK.GetChild(0));break;case aG:case aM:case az:var aY=O.PrepareModuleInfo(aK);(function(){var a6=aK;var a5=aE;if(aS===aQ){var a4=new $.Deferred();aN.push(a4.promise())}require(aY,function(){try{if(aS!==aQ){W.call(SiebelApp.S_App,a6,a5)}else{aq.call(SiebelApp.S_App,a6,a5);a4.resolveWith(SiebelApp.S_App,["SA Applet Object Info"])}}catch(a7){SiebelJS.Log(a7)}a6=aK=null})})();break;case aX:if(!O.IsEmpty(ae)&&!O.IsEmpty(ak)&&ak.GetBusObj()===ae){this.ClearMainView()}ae=new SiebelApp.S_App.BusObj();ae.ProcessObjectInfo(aK.GetChild(0));break;case aF:this.ClearMainView();break;case aW:ae.ProcessObjectInfo(aK);break;case aZ:ak=SiebelAppFacade.ProxyFactory.MakeObject(aP);SiebelAppFacade.ComponentMgr.RegisterLevel(ak,this);aN.push(ak.GetFilesAndProcessObjectInfo(aK.GetChild(0)));break;case a0:if(!O.IsEmpty(ak)){aN.push(ak.GetFilesAndProcessObjectInfo(aK))}break;case aO:var aU=aK.GetChildCount();if(aU>0){k.ProcessObjectInfo(aK.GetChild(0))}break;case aB:k.HandleResponsePS(aK.Clone());k.ProcessObjectInfo(aK);break;case aI:var aR=aK.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"));var aH=SiebelApp.S_App.getExtObject(aR);if(aH){aH.HandleNotify(aK.GetChild(0))}else{aH=SiebelApp.S_App.RegisterExtObject(aK);if(aH){aH.Setup(aK.GetChild(0));if(aR==="Dashboard"){Y.call(this)}else{if(aR==="ChatPane"){ac.call(this)}else{C.call(this)}}aH.Show()}}break;case aJ:r.call(this,aK);break;default:break}}while((aK=ax.EnumChildren(false)))}}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","Processed Object Info");SiebelApp.S_App.GetTimer().TimePopupApplet("","Processed Object Info")}var aD=this;if(aN.length>0){$.when.apply($,aN).done(function(){a2.resolveWith(aD,["API "])})}else{a2.resolveWith(aD,["API "])}return a2.promise()}function am(av,aw){if(SiebelApp.S_App.LocaleObject){SiebelApp.S_App.LocaleObject.AddLocalString(av,aw)}}function aq(ax,ay){var aw;var av=ax.GetChild(0).Clone();aw=SiebelAppFacade.ProxyFactory.MakeObject(ax.GetType());if(aw){if(ay){aw.SetBusComp(ay)}aw.ProcessObjectInfo(av);if(O.IsTrue(ax.GetProperty(A.get("SWE_PST_STANDALONE_APPLET")))){i[aw.GetName()]=aw;aw.SetIsStandAlone(true)}aw.Initialize();SiebelAppFacade.ComponentMgr.MakeComponent(this,av,aw)}}function W(ax,ay){var aw;var av=ax.GetChild(0).Clone();aw=SiebelAppFacade.ProxyFactory.MakeObject(ax.GetType());if(aw){if(ay){aw.SetBusComp(ay)}aw.ProcessObjectInfo(av);if(O.IsTrue(ax.GetProperty(A.get("SWE_PST_STANDALONE_APPLET")))){i[aw.GetName()]=aw;aw.SetIsStandAlone(true)}SiebelAppFacade.ComponentMgr.MakeComponent(this,av,aw);if(SiebelApp.S_App.GetPopupPM().Get("state")!==A.get("POPUP_STATE_VISIBLE")){aw.Initialize();SiebelAppFacade.ComponentMgr.FindComponent({id:aw.GetName()}).Show();aw.ShowOnly();aw.ShowSelection();this.ClearErrorMsg();if(aw.HasCustomShadow()&&aw.shadow&&typeof(aw.shadow.OnLoad)==="function"){aw.shadow.OnLoad()}}}}function r(az){var aB;var av=[];var ax=az.GetType();if(ax!=A.get("SWE_PST_ICON_LIST")){return}aB=az.GetProperty(A.get("SWE_PROP_NAME"));if(aB){for(var aw=0;aw<az.GetChildCount();aw++){var aC=az.GetChild(aw);var aA=aC.GetType();if(aA==A.get("SWE_PST_ICON")){var ay=n.call(this,aC);av.push(ay)}}X[aB]=av}}function n(aw){if(O.IsEmpty(aw)){return}var av={};av.iconName=aw.GetProperty(A.get("SWE_PROP_NAME"));av.iconImage=aw.GetProperty(A.get("SWE_PROP_ICON_IMG"));return av}function m(av){SiebelApp.Environment.SetProtoAPIs(av)}ap.prototype.GetFilesAndInitExecContext=function(ay,aA){var aB=CCFMiscUtil_CreatePropSet();aB.DecodeFromString(ay);var aw=O.GetFileInfoFromPropSet(aB);var av=aB.GetChildByType(V);if(aw.length>0){var ax=av.GetProperty(A.get("SWE_PROP_PAGEURL")).split("start.swe")[0]+SIEBEL_BUILD;require.config({baseUrl:ax,waitSeconds:30});var az=this;require(aw,function(){try{az.InitExecContext(aB,aA)}catch(aC){SiebelJS.Log(aC)}aB=null})}else{this.InitExecContext(aB,aA);aB=null}av=aw=null};ap.prototype.InitExecContext=function(aw,av){SiebelApp.S_App.ErrorObject.DecorateErrorCapability(this);d();f=new SiebelApp.S_App.HistoryMgr();k=SiebelApp.S_App.NavCtrlMgr;ah.call(this,aw);if(av){this.ProcessResponse(av)}else{this.LoadClientContainer()}};ap.prototype.LoadClientContainer=function(){SiebelApp.contentUpdater.updateSrc(this.GetClientFrame(),this.GetPageURL()+this.GetClientURL().split("start.swe")[1])};function M(){if(!q){q=new SiebelApp.S_App.Menu(this);q.CreatePM("AppMenuPR",SiebelAppFacade.AppMenuPM);q.ShowMenuControl()}}ap.prototype.InitializeGlobalMenu=function(){if(!this.GetTargetViewContainer){SiebelApp.EventManager.addListner("AppInit",M,this)}else{M.call(this)}};ap.prototype.GetLabel=function(){return""};ap.prototype.RegisterControl=function(av,aw){if(B){B[av]=aw}};ap.prototype.GetControlClassInstance=function(av){if(B){return B[av]}};ap.prototype.RegisterConstructorAgainstKey=function(av,aw){if(N){N[av]=aw}};ap.prototype.GetConstructorFromKey=function(av){if(N){return N[av]}};ap.prototype.CallServer=function(av,aC,ay,ax){ax=$.extend({selfbusy:false,mask:true,async:false,opdecode:true},ax);if(!ax.selfbusy){var aB={};if(ax.target){aB.target=ax.target}if(ax.mask){aB.mask=ax.mask}this.uiStatus.Busy(aB)}aC=aC||CCFMiscUtil_CreatePropSet();this.SetDefaultArgs(av);var aA=O.EncodeToQueryString(av),aw=new Date(),az=null;
aA=aA+"&"+A.get("SWE_TIME_STAMP")+"="+aw.getTime();this.SetInputPS(av);az={url:this.GetPageURL(),data:aA.split(" ").join("%20"),type:"POST",async:ax.async,contentType:"application/x-www-form-urlencoded",successfncallback:this.OnSuccessCallServer,errfncb:R,context:{scope:this,lp:ax,outputPS:aC,nPR:ay}};SiebelApp.AjaxRequestMgr.Ajax(az);az=null};ap.prototype.OnSuccessCallServer=function(ay,ax,aC){var aA=this.lp,aB=this.outputPS,aE=this.scope,az=this.nPR,av=new $.Deferred();if(!O.IsEmpty(ay)){if(az===true){var aD=(aA&&aA.scope)||this;var aw=aE.ProcessResponse(ay,aD);aw.done(function(){av.resolve()})}else{av.resolve()}if(aA.opdecode===true){aB.DecodeFromString(ay);if(SiebelApp.S_App.OUIPerfReporter){SiebelApp.S_App.OUIPerfReporter.RefreshData(ay)}}if(typeof(aA.cb)==="function"){aA.args=aA.args||[];if(aA.opdecode===true){aA.args.push(aB)}else{aA.args.push(ay)}aA.cb.apply(aA.scope||null,aA.args)}else{if(typeof(aA.scope)!=="undefined"&&typeof(aA.scope.PostExecute)==="function"){aA.args=aA.args||[];aA.args.push(aB);aA.scope.PostExecute.apply(aA.scope||null,aA.args)}}}else{av.resolve()}if((aA&&!aA.selfbusy)||!aA){aE.uiStatus.Free()}return av.promise()};function R(ay,aA,ax){var aw=this.lp,az=this.outputPS,av=this.scope;if(typeof(aw.errcb)==="function"){aw.args=aw.args||[];aw.errcb.apply(aw.scope||null,aw.args)}else{if(aw.scope!=="undefined"&&typeof(aw.scope.PostExecute)==="function"){aw.args=aw.args||[];az.SetProperty(A.get("AJAX_FAIL_ERR"),aA);aw.args.push(az);aw.scope.PostExecute.apply(aw.scope||null,aw.args)}}if((aw&&!aw.selfbusy)||!aw){av.uiStatus.Free()}}ap.prototype.GetSessionCookie=function(){var av;if(!O.IsTrue(this.UseCookie())){av=this.GetCookieName()+A.get("SWE_ARG_EQUAL")+this.GetSessionId()}else{if(document.cookie){av=document.cookie}}return av};ap.prototype.SetStaticPickValues=function(aw,av){s[aw]=av};ap.prototype.GetStaticPickValues=function(av){return s[av]};ap.prototype.SetActiveView=function(av){ak=av};ap.prototype.SetActiveBO=function(av){ae=av};ap.prototype.ClearMainView=function(){if(ak&&typeof(ak.EndLife)==="function"){var av=SiebelAppFacade.ComponentMgr.FindComponent({id:ak.GetName()});ak.EndLife();if(av){if(av.GetPM&&av.GetPM()){av.GetPM().EndLife()}SiebelAppFacade.ComponentMgr.DeleteComponent(av,this)}}if(ae&&typeof(ae.EndLife)==="function"){ae.EndLife()}SiebelApp.S_App.ErrorObject.DeleteErrorObj(this);ak=null;ae=null};ap.prototype.SeblTrace=function(av,aw){};ap.prototype.GetBusObj=function(av){var aw=this.GetActiveView();if(!av){if(aw){return aw.GetBusObj()}}if(aw&&aw.GetBusObj().GetName()===av){return aw.GetBusObj()}return null};ap.prototype.GetProfileAttr=function(aw){var av;var ax;if(!aw){this.SetErrorMsg("AppErrInvalidAttrName");return null}av=CCFMiscUtil_CreatePropSet();av.SetType("GetProfileAttr");av.SetProperty("attrName",aw);ax=this.CallServerApp("GetProfileAttr",av);if(ax===null){return null}else{if(this.HasErrorMsg()){this.ProcessError();return false}}return ax};ap.prototype.SetProfileAttr=function(aw,ax){if(!aw){this.SetErrorMsg("AppErrInvalidAttrName");return false}ax=ax||"";var av=CCFMiscUtil_CreatePropSet();av.SetType("SetProfileAttr");av.SetProperty("attrName",aw);av.SetProperty("value",ax);ax=this.CallServerApp("SetProfileAttr",av);if(ax===null){return null}else{if(this.HasErrorMsg()){this.ProcessError();return false}}return true};ap.prototype.GetMainView=function(){return this.GetActiveView()};ap.prototype.CallServerApp=function(aB,aA,ax){var az;var aw=CCFMiscUtil_CreatePropSet();var av;var ay;ay=aA.EncodeAsString();az=CCFMiscUtil_CreatePropSet();az.SetProperty("SWECmd","InvokeMethod");az.SetProperty("SWEMethod",aB);az.SetProperty("SWEIPS",ay);SiebelApp.S_App.CallServer(az,aw,true);av=aw.GetProperty("Result");return av};ap.prototype.NewPropertySet=function(){return(CCFMiscUtil_CreatePropSet())};var I={};ap.prototype.RemoveService=function(av){if(I[av.GetName()]){delete I[av.GetName()]}};ap.prototype.GetService=function(aw){if(O.IsEmpty(aw)){return false}var av=I[aw];if(!O.IsEmpty(av)){av.AddRef();return av}else{av=new SiebelApp.Service();av.SetName(aw);I[av.GetName()]=av}if(J[aw]){if(typeof(window[J[aw]])==="function"){new window[J[aw]](av)}}return av};ap.prototype.ShowModalDialog=function(av,aw,ax){return window.showModalDialog(av,aw,ax)};function u(ax,aw){var av;if(this.shadow&&typeof(this.shadow.OnPreInvokeMethod)==="function"){av=this.shadow.OnPreInvokeMethod(ax,aw);if(av==="CancelOperation"){return false}return true}return true}function ar(aw,av){if(this.shadow&&typeof(this.shadow.OnInvokeMethod)==="function"){this.shadow.OnInvokeMethod(aw,av)}}ap.prototype.CreateJSShadow=function(aw,az){if(!az){return false}var ay=[];CCFMiscUtil_StringToArray(az,ay);if(ay.length<2){return false}$.ajaxSetup({async:false});var ax=function(aA,aB){};for(var av=1;av<ay.length;av++){$.getScript(ay[av],ax)}$.ajaxSetup({async:true});if(typeof(window[ay[0]])==="function"){new window[ay[0]](aw);return true}return false};ap.prototype.DownloadFile=function(aE){var aA=aE.GetProperty(P);var aD=aA.split(L);var aF=aE.GetProperty(Z);var ax=this.GetPageURL()+L;var aH=aD[1];if(ax&&aH){var aB="";var aw=aH.split("&");for(var az=0;az<aw.length;az++){var ay=aw[az].split("=");aB+='<input type="hidden" name="'+ay[0]+'" value="'+ay[1]+'" />'}if((SiebelApp.S_App.IsMobileApplication()==="true")&&(window.navigator.standalone!==undefined)&&window.navigator.standalone){var av=ax+aH;var aG=document.createElement("a");aG.setAttribute("href",av);var aC=document.createEvent("HTMLEvents");aC.initEvent("click",true,true);aG.dispatchEvent(aC);aG=null}else{jQuery('<form action="'+ax+'" method="post"'+(aF?"":' target="_blank"')+">"+aB+"</form>").appendTo("body").submit().remove()}}};ap.prototype.GetAppletControlInstance=function(ay,aw,ax,az,av){var aA=new SiebelApp.S_App.AppletControl();var aB=CCFMiscUtil_CreatePropSet();aB.SetType(A.get("SWE_PST_CNTRL"));aA.ProcessObjectInfo(aB);aA.GetName=function(){return ay};aA.GetUIType=function(){return aw};aA.GetDisplayName=function(){return ax};aA.GetWidth=function(){return az};aA.GetHeight=function(){return av};aA.GetMaxSize=function(){return 1000};aA.IsSortable=function(){return true};aA.GetFieldName=function(){return""};aA.GetIconMap=function(){return""};aA.GetDisplayFormat=function(){return""};aA.GetInputName=function(){return""};aA.GetDefaultMethod=function(){return""};aA.GetSpanPrefix=function(){return""};aA.GetValue=function(){return""};return aA};ap.prototype.GetInputPS=function(){return D};ap.prototype.SetInputPS=function(av){D=av};ap.prototype.GetCSParam=function(){var av={};av.async=true;return av};ap.prototype.SetEnablePerfHooks=function(av){au=av};ap.prototype.GetEnablePerfHooks=function(){return au};ap.prototype.GetTimer=function(){return ag};ap.prototype.SetTimer=function(av){ag=av};ap.prototype.NotifyTimer=function(aw,av){if(au&&ag){ag[aw].apply(ag,av)}};ap.prototype.OfflineCallMethod=function(){};ap.prototype.Drilldown=function(ay){var av=ay||window.event;if(av.preventDefault){av.preventDefault()}av.returnValue=false;if(ay.stopPropagation){ay.stopPropagation()
}else{ay.cancelBubble=true}var ax=new Date();var az=av.currentTarget||av.srcElement;var aw=az.href+"&"+A.get("SWE_TIME_STAMP")+"="+ax.getTime();this.GotoView("","",aw,"");return false};return l}())}SiebelApp.MvgBeautifier={Initialize:function(){this.availableApplet=null;this.selectedApplet=null;var b=$("div[name=popup]").width();var i=$("div[name=popup]").height();var l=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SHOW_AVAILABLE");var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SHOW_SELECTED");var f=l;var e=c;$("div[name=popup]").width(b).height(i).dialog("option","buttons",[{text:l,click:function(m){var p=$(m.currentTarget);var o=p.children(".ui-button-text");if(p.text()===c){o.text(l).end().attr("title",f);n=SiebelApp.MvgBeautifier.getSelected();if(!!n&&typeof(n.GetObjectType)=="function"){o.attr("un",l)}SiebelApp.MvgBeautifier.resizeSelected()}else{if(p.text()===l){o.text(c).end().attr("title",e);var n=SiebelApp.MvgBeautifier.getAvailable();if(!!n&&typeof(n.GetObjectType)=="function"){o.attr("un",c)}SiebelApp.MvgBeautifier.resizeAvailable()}}}}]).find(".siebui-mvg-btn-modifier button").detach().appendTo($("div[name=popup]").parent().find("div.ui-dialog-buttonset"));$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").each(function(){$(this).html($(this).val()||$(this).attr("data-display"))});var d=SiebelApp.S_App.GetActiveView();var j=d.GetAppletMap();var a;for(var h in j){if(j.hasOwnProperty(h)){if(typeof(j[h].GetMvgAssocAppletName)==="function"){a=d.GetApplet(j[h].GetMvgAssocAppletName());if(!!a){this.availableApplet=a;e=a.GetAppletLabel()||"";e=e?(e+":"+c):c;a.GetPModel().AttachPostProxyExecuteBinding("ALL",function(n,m,o){if(!$("#a_"+this.Get("GetId")).is(":visible")){$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0).click()}})}}if(typeof(j[h].GetMvgSelectedAppletName)==="function"){a=d.GetApplet(j[h].GetMvgSelectedAppletName());if(!!a){this.selectedApplet=a;f=a.GetAppletLabel()||"";f=f?(f+":"+l):l;a.GetPModel().AttachPostProxyExecuteBinding("ALL",function(n,m,o){if(!$("#a_"+this.Get("GetId")).is(":visible")){$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0).click()}})}}}}a=null;SiebelApp.MvgBeautifier.resizeSelected();var g=$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0);g.removeClass().addClass("appletButtons").attr("title",f);var k=SiebelApp.MvgBeautifier.getSelected();if(k&&typeof(k.GetObjectType)=="function"){g.children("span").eq(0).attr("ot","Button").attr("rn","").attr("un",l)}$("div[name=popup]").find("form").submit(function(m){m.preventDefault();return false})},getAvailable:function(){if(!this.availableApplet){var c=SiebelApp.S_App.GetActiveView();var a=c.GetAppletMap();for(var b in a){if(a.hasOwnProperty(b)){if(typeof(a[b].GetMvgAssocAppletName)==="function"){this.availableApplet=c.GetApplet(a[b].GetMvgAssocAppletName())}}}}return this.availableApplet},getSelected:function(){if(!this.selectedApplet){var c=SiebelApp.S_App.GetActiveView();var a=c.GetAppletMap();for(var b in a){if(a.hasOwnProperty(b)){if(typeof(a[b].GetMvgSelectedAppletName)==="function"){this.selectedApplet=c.GetApplet(a[b].GetMvgSelectedAppletName())}}}}return this.selectedApplet},resizeAvailable:function(){$("div[name=popup]").find("td.AppletStylePopup").eq(0).show();var a=this.getSelected();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).hide()}a=this.getAvailable();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).show();if(a.GetPModel&&!(a.GetPModel() instanceof JSSPropertySet)){a.GetPModel().OnControlEvent(SiebelApp.Constants.get("PHYEVENT_APPLET_FOCUS"));if(a.GetPModel().GetRenderer()&&a.GetPModel().GetRenderer().resize){a.GetPModel().GetRenderer().resize()}}}},resizeSelected:function(){$("div[name=popup]").find("td.AppletStylePopup").eq(0).hide();var a=this.getAvailable();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).hide()}a=this.getSelected();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).show();if(a.GetPModel&&!(a.GetPModel() instanceof JSSPropertySet)){a.GetPModel().OnControlEvent(SiebelApp.Constants.get("PHYEVENT_APPLET_FOCUS"));if(a.GetPModel().GetRenderer()&&a.GetPModel().GetRenderer().resize){a.GetPModel().GetRenderer().resize()}}}}};