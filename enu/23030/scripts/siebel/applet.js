/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.S_App.Applet)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App.Applet");SiebelApp.S_App.Applet=(function(){var x=SiebelJS.Dependency("SiebelApp.Utils");var q=SiebelJS.Dependency("SiebelApp.Constants");var a=SiebelJS.Dependency("SiebelApp.S_App");var m=q.get("SWE_PST_CAN_NAV_STATE");var g=q.get("SWE_ROW_STR");var j=q.get("SWE_REQ_ROW_ID_STR");var v=q.get("SWE_ROW_IDS_STR");var u=q.get("SWE_PST_BUTTON_CTRL");var l=q.get("SWE_FIELD_STR");var f=q.get("SWE_RPC_PROP_RETURN_STATUS");var z=q.get("SWE_RPC_PROP_STATUS_COMPLETED");var p=q.get("SWE_RPC_PROP_STATUS_ERROR");var i=q.get("SWE_DISPLAY_NAME_STR");var A=q.get("SWE_FIELD_VALUE_STR");var r=q.get("SWE_CTRL_PICK");function s(){var ag=null;var ak=null;var L=null;var Q=null;var ab=null;var C=null;var ah=null;var F=false;var B={};var I={};var T;var W;var R={};var S=false;var an=null;var ae=0;var U=null;var N=null;var Z;var P=false;var K=null;var ad=null;var al=null;var V=false;var G=null;var M=null;var H=null;var D=false;var X=null;var am="Base";var J=null;var aj=false;var af=[];var ai=false;var O=null;var aa=false;this.HasPickError=function(){return aa};this.SetHasPickError=function(ao){aa=ao};this.GetScrollDir=function(){return an};this.GetScrollAmount=function(){return ae};this.SetScrollDir=function(ao){an=ao};this.SetScrollAmount=function(ao){ae=ao};var Y=["ExecuteQuery","RunQuery","ExecuteAlphaTabQuery"];var ac=null;this.SetCancelQryTimeoutObj=function(ao){ac=ao};this.GetCancelQryTimeoutObj=function(){return ac};this.GetCancelableMethodArray=function(){return Y};this.SetUpdateConditionals=function(ao){ai=ao};this.GetUpdateConditionals=function(){return ai};this.GetUIEventMap=function(){return af};this.SetUIEventMap=function(ao){af.push(ao)};this.SetIsStandAlone=function(ao){F=ao};this.GetIsStandAlone=function(){return F};this.GetQuerySubMode=function(){return am};this.SetQuerySubMode=function(ao){am=ao};this.GetPopupControl=function(){return M};this.SetPopupControl=function(ao){M=ao};this.GetPopupMethod=function(){return G};this.SetPopupMethod=function(ao){G=ao};this.IsPopupClosed=function(){return V};this.SetPopupClosed=function(ao){V=ao};this.GetPopupApplet=function(){return al};this.SetPopupApplet=function(ao){al=ao};this.GetCurrencyApplet=function(){return X};this.SetCurrencyApplet=function(){if(X===undefined||X===null){X=new SiebelApp.S_App.Currency(this)}};this.GetToggleApplet=function(){return O};this.SetToggleApplet=function(){if(!O){O=new SiebelApp.S_App.ToggleApplet(this)}};this.GetParentApplet=function(){return ad};this.SetParentApplet=function(ao){ad=ao};this.GetVarName=function(){return K};this.SetVarName=function(ao){K=ao};this.SetActiveControl=function(ao){U=ao};this.GetActiveControl=function(ao){return U};this.SetPrsrvControl=function(ao){N=ao};this.GetPrsrvControl=function(ao){return N};this.SetBusComp=function(ao){ah=ao};this.GetBusComp=function(){return ah};this.SetFocusDefaultControl=function(ao){P=ao};this.GetFocusDefaultControl=function(ao){return P};this.SetDoPopulate=function(ao){S=ao;return(true)};this.GetControls=function(){return B};this.ClearControls=function(){B=null;B={}};this.SetView=function(ao){T=ao};this.GetView=function(){return T};this.SetPModel=function(ao){W=ao};this.GetPModel=function(){return W};this.SetMenu=function(ao){J=ao};this.GetMenu=function(){return J};this.GetCanNavigateMap=function(){return R};this.GetConfirmMessageMap=function(){return I};this.GetPrivateFieldMap=function(){return ag};this.SetPrivateFieldMap=function(){ag=[]};this.GetMapFieldsArray=function(){return C};this.SetMapFieldsArray=function(ao){C=ao};this.GetPopBookMark=function(){return H};this.SetPopBookMark=function(ao){H=ao};this.GetCanUpdateByName=function(){return ak};this.SetCanUpdateByName=function(){ak=[]};this.GetCanUpdateArray=function(){return L};this.SetCanUpdateArray=function(){L=[]};this.GetCanInvokeByName=function(){return ab};this.SetCanInvokeByName=function(){ab=[]};this.GetCanInvokeArray=function(){return Q};this.SetCanInvokeArray=function(){Q=[]};this.SetEnableUIUpdate=function(ao){D=ao};this.GetEnableUIUpdate=function(){return D};this.HasCustomShadow=function(){return aj};this.SetCustomShadow=function(ao){aj=ao};this.GetRowListRowCount=function(){return Number("1")};this.GetNumRows=function(){return this.GetBusComp().GetNumRows()};this.IsNumRowsKnown=function(){return this.GetBusComp().IsNumRowsKnown()};this.WSHome=function(){var ao=this.GetBusComp();if(ao){return(ao.WSHome(this.GetName()))}};this.WSNextRecord=function(){var ao=this.GetBusComp();if(ao){return(ao.WSNextRecord(this.GetName()))}};this.SetCurRow=function(ap){var ao=this.GetBusComp();if(ao){return(ao.SetCurRow(this.GetName(),ap))}};this.IsCurWSRecActive=function(ap){var ao=this.GetBusComp();if(!ao){return false}return(ao.IsCurWSRecActive(this.GetName()))};var E=SiebelApp.S_App.GetPopupPM();if(E.Get("state")===q.get("POPUP_STATE_VISIBLE")){E.Get("currPopups").push(this)}SiebelApp.S_App.ErrorObject.DecorateErrorCapability(this)}s.prototype.IsPure=function(){return !!this.GetBusComp()};s.prototype.ResetAppletState=function(){};s.prototype.EndLife=function(){if(this.GetMenu()){var E=this.GetMenu().GetPM();if(E&&E.EndLife){E.EndLife()}this.GetMenu().SetPM(null);this.SetMenu(null)}var C=this.GetPModel();if(C&&C.EndLife){C.EndLife()}C=null;var B=this.GetControls();for(var D in B){if(B.hasOwnProperty(D)){B[D].SetApplet(null);delete B[D]}}B=null;this.SetPModel(C);this.SetView(null);this.SetBusComp(null);SiebelApp.S_App.ErrorObject.DeleteErrorObj(this)};s.prototype.CanProcessError=function(B){var I=B.length;var J=false;var E=false;var K=false;var D=false;var L=q.get("SSAELErrUserDefinedError");var M=q.get("SSAELErrGetFieldNotActive");var H=q.get("SSAOMErrBoundedPick");var C=this.GetActiveControl();if(SiebelApp.S_App.ErrorObject&&I>0){for(var G=0;G<I;G++){if(B[G].errCode===L){J=true;break}if(B[G].errCode===M){E=true;break}}if(!J&&!E){for(var F=0;F<I;F++){if(B[F].errCode===H){K=true;break}}}if(K){if(C){if(C.GetUIType()===q.get("SWE_CTRL_COMBOBOX")){this.ShowPopup(C);D=true}if(C.GetUIType()===q.get("SWE_CTRL_PICK")&&C.IsEditEnabled()){this.FieldPopup();this.SetHasPickError(true);D=true}}}}return(!D)};s.prototype.AddControl=function(B){this.GetControls()[B.GetName()]=B};s.prototype.RemoveControls=function(){this.ClearControls()};s.prototype.IsActive=function(){return this.GetView()?this.GetView().IsAppletActive(this):true};s.prototype.GetPropArray=function(){return["GetName","GetId","GetVarName","GetFullId","GetTitle","GetControls","GetActiveControl","GetSelection","GetRecordSet","GetDefaultFocusOnNew","GetAppletSummary","GetAppletLabel","IsInQueryMode","GetQueryModePrompt","GetDefaultFocusOnQuery","GetMapFields","GetPrsrvControl","GetUIEventMap","IsPure","GetScrollDir","GetScrollAmount","GetMode","GetBusComp","GetRowListRowCount","GetWSEndRowNum","GetNumRows","IsNumRowsKnown","GetObjectType","GetRepstrName","GetUIName","GetRawRecordSet","GetParentApplet","IsActive","IsEditable","HasPickError"]};s.prototype.GetMethodArray=function(){return["CanNavigate","CanUpdate","CanInvokeMethod","InvokeMethod","GetControl","LeaveField","ShowSelection","InvokeMethod","RefreshData","FieldChange","UpdateStateChange","UpdateCSQueryMsg","InvokeStateChange","SetFocusToCtrl","FocusFirstControl","SetHighlightState","UpdateQuickPickInfo","GetFieldValue","GetFormattedFieldValue","IsPrivateField","NewFileAttachment","UpdateAppletMessage","PostExecute","SetFocusDefaultControl","ShowPickPopup","NotifyClosePopup","UpdateCurrencyCalcInfo","GetCurrencyApplet","GetCurrencyCalInfo","CurrencyPostChanges","ExecuteUIUpdate","UpdateConditionals","SetUpdateConditionals","ProcessCancelQueryPopup","GetControlId","ShowPopup","ProcessError","GetPhysicalControlValue","ResetAppletState","FocusSelectedTreeNode","NavigateState","HandleCtrlDefChange","RepopulateField","IsMethodDefault","SetCanInvokeState","GetFieldDataType","BeginQueryState","EndQueryState","FocusOnApplet","UpdateRowCounter","GetWSStartRowNum","SetCurRow","IsCurWSRecActive","WSNextRecord","WSHome","SetActiveControl","SetFormattedValue","ChangeSelectionInPopup","SetHasPickError","ForceProcessResponse"]
};s.prototype.IsMethodDefault=function(B){return this.GetCanInvokeByName()&&this.GetCanInvokeByName()[B]};s.prototype.GetControlId=function(){if(this.GetToggleApplet()){return this.GetToggleApplet().GetControlId()}return};s.prototype.GetCurrencyCalInfo=function(){return this.GetCurrencyApplet().GetCurrencyCalInfo()};s.prototype.NotifyClosePopup=function(){return this.GetCurrencyApplet().NotifyClosePopup()};s.prototype.ShowPickPopup=function(){return this.GetCurrencyApplet().ShowPickPopup(this)};s.prototype.GetSelection=function(){return !!this.GetBusComp()?this.GetBusComp().GetSelection():-1};s.prototype.GetControl=function(B){return this.GetControls()[B]};s.prototype.GetRawRecordSet=function(){return !!this.GetBusComp()?this.GetBusComp().GetRecordSet():[]};s.prototype.GetRecordSet=function(){var B=[];if(!!this.GetBusComp()){if(this.IsInQueryMode()){B[0]=this.GetEmptyRecordForQuery()}else{B=this.GetBusComp().GetRecordSet()}}return B};s.prototype.GetRowIds=function(I){var D=this.GetBaseLevelApplet();var J=!x.IsEmpty(this.GetParentApplet());var G;var F="";var E=[];var C;if(!this.GetView()||!this.GetBusComp()){}else{if(J){G=D.GetBusComp()}else{G=D.GetBusComp().GetParentBusComp()}while(G){E.push(G);C=G.GetIdValue();if(!C){G.ClearErrorMsg();if(!J){I.SetProperty(v,F);return}}G=G.GetParentBusComp()}}E.reverse();var H=0;for(H=0;H<=E.length-1;H++){if(!x.IsEmpty(F)){F+=","}var B=E[H];F+=(q.get("SWE_ROW_ID_STR")+H.toString()+"="+B.GetIdValue())}I.SetProperty(v,F)};s.prototype.GetMapFields=function(B){return this.GetMapFieldsArray()};s.prototype.GetBaseLevelApplet=function(){var B=this;while(!x.IsEmpty(B.GetParentApplet())){B=B.GetParentApplet()}return B};s.prototype.GetAllFieldValues=function(B,C){};s.prototype.GetFieldDataType=function(C){if(!!this.GetBusComp()){var B=this.GetBusComp().GetField(C);if(!x.IsEmpty(B)){return B.GetDataType()}else{return""}}else{return""}};s.prototype.IsEditableApplet=function(){return(this.IsEditable()==="1")?true:false};s.prototype.IsPrivateField=function(B){if(this.GetPrivateFieldMap()&&this.GetPrivateFieldMap()[B]){return true}return false};s.prototype.CanUpdateUI=function(){return this.GetEnableUIUpdate()};s.prototype.CanNavigate=function(B){var F=this.GetBusComp();if(!F){return false}var D=this.GetCanNavigateMap();var G=D.hasOwnProperty(B);var E=D[B];var C=F.GetCurRow(this.GetName());if(G&&E instanceof Array&&C>=0&&C<E.length){return x.IsTrue(E[C])}return false};s.prototype.CanUpdate=function(B){var C=true;if(this.IsEditableApplet()===false&&this.IsPrivateField(B)===false){C=false;return C}if(this.GetCanUpdateByName()[B]){C=this.GetCanUpdateByName()[B].bCanUpdate;if(!x.IsEmpty(C)){return C}}if(this.IsPrivateField(B)===false&&this.IsInQueryMode()===false&&!!this.GetBusComp()&&this.GetBusComp().CanUpdate()===false){C=false;return C}return C};s.prototype.CanInvokeMethod=function(D){var C=true;if(D==="OnFocus"){return C}else{if(D==="ShowContextMenu"){return C}else{if(D==="OnEnterKey"){return C}else{if(D==="OnEscapeKey"){return C}else{if(D==="UndoRecord"){if(this.IsInQueryMode()===false&&!!this.GetBusComp()&&(this.GetBusComp().GetCommitPending()||this.GetBusComp().IsCommitPending())){return C}}else{if(D==="EditPopup"){return C}else{if(D==="Find"){if(this.IsInQueryMode()===true){C=false;return C}}else{if(D==="ImplicitCommit"){return C}else{if(D==="FocusDefaultControl"){return C}else{if(D==="ExecuteAlphaTabQuery"){return C}else{if(!D){return false}}}}}}}}}}}if(this.GetCanInvokeByName()!==null&&this.GetCanInvokeByName()[D]){SiebelApp.S_App.OfflineCallMethod("AppletCanInvokeMethod",D,this);C=this.GetCanInvokeByName()[D].bCanInvoke;if(C!==undefined||C!==null){return C}}var G=CCFMiscUtil_CreatePropSet();var B=CCFMiscUtil_CreatePropSet();B.SetProperty(q.get("SWE_CMD_ARG"),"CanInvokeMethod");if(!x.IsEmpty(this.GetView())){B.SetProperty(q.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());B.SetProperty(q.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(B.GetProperty(q.get("SWE_APPLET_STR"))===undefined||B.GetProperty(q.get("SWE_APPLET_STR")===null)){B.SetProperty(q.get("SWE_APPLET_STR"),this.GetName())}if(this.GetPopBookMark()){B.SetProperty(q.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}B.SetProperty(q.get("SWE_METHOD_STR"),D);var E={};E.async=false;E.scope=this;E.cb=function(){};SiebelApp.S_App.CallServer(B,G,true,E);if(0===G.GetPropertyCount()){return(C=false)}var F=G.GetProperty(q.get("SWE_RPC_PROP_STATUS"));if(F&&F.toLowerCase()!==q.get("SWE_RPC_PROP_STATUS_OK").toLowerCase()){return(C=false)}F=G.GetProperty("Result");if(F){C=(F.toLowerCase()===q.get("SWE_PROP_RESULT_TRUE").toLowerCase())?true:false}return C};s.prototype.ProcessObjectInfo=function(B){if(B.GetType()!==q.get("SWE_PST_APPLET_INFO")){return}var F=B.GetValue();if(!this.GetVarName()){this.SetVarName(F)}else{if(this.GetVarName()!==F){return}}var E=B.GetProperty("MAP_LOCATION_FIELDS");if(E!==undefined&&E!==null){var D=E.split(",");for(var C=0;C<D.length;C++){D[C]=D[C].replace(/^\s+|\s+$/g,"")}this.SetMapFieldsArray(D)}this.ProcessSelfProps(B);this.DoProcessObjectProperties(B);var G=B.EnumChildren(true);if(!G){return}do{this.ProcessChildrenProps(G)}while((G=B.EnumChildren(false)))};s.prototype.ProcessSelfProps=function(C){var D=x.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,C);if(C.PropertyExists(q.get("SWE_PROP_POPUP_APPLET_NAME"))){D("GetPopupAppletName","SWE_PROP_POPUP_APPLET_NAME")}if(C.PropertyExists(q.get("SWE_PROP_POPUP_PICK_APPLET_NAME"))){D("GetPickAppletName","SWE_PROP_POPUP_PICK_APPLET_NAME")}if(C.PropertyExists(q.get("SWE_PROP_POPUP_ASSOC_APPLET_NAME"))){D("GetAssocAppletName","SWE_PROP_POPUP_ASSOC_APPLET_NAME")}if(C.PropertyExists(q.get("SWE_PROP_POPUP_MVG_ASSOC_APPLET_NAME"))){D("GetMvgAssocAppletName","SWE_PROP_POPUP_MVG_ASSOC_APPLET_NAME")}if(C.PropertyExists(q.get("SWE_PROP_POPUP_MVG_SELECTED_APPLET_NAME"))){D("GetMvgSelectedAppletName","SWE_PROP_POPUP_MVG_SELECTED_APPLET_NAME")}D("GetName","SWE_PROP_NAME");D("GetMode","SWE_PST_APPLET_MODE");D("GetVarName","SWE_PROP_VAR_NAME");D("GetId","SWE_PROP_ID");D("GetTitle","SWE_PROP_TITLE");D("GetBCId","SWE_PST_BUSCOMP_INFO");D("IsEditable","SWE_PROP_IS_EDIT");D("GetDefaultFocusOnEdit","SWE_PROP_CTRL_FOCUS_EDIT");D("GetDefaultFocusOnNew","SWE_PROP_CTRL_FOCUS_NEW");D("GetDefaultFocusOnQuery","SWE_PROP_CTRL_FOCUS_QUERY");D("IsNoUpdate","SWE_PROP_IS_NO_UPDATE");D("IsCancelQueryDisabled","SWE_PROP_DISABLE_CANCEL_QUERY");D("GetDefaultMethod","SWE_PROP_DEF_METHOD",true);D("GetDefaultQryMethod","SWE_PROP_DEF_METHOD_QRY_MODE",true);var B=C.GetValue();this.GetFullId=function(){return B};if(!x.IsEmpty(this.GetView())&&!!this.GetBCId()){this.SetBusComp(this.GetView().GetBusObj().GetBusComp(this.GetBCId()))}if(!!this.GetBusComp()){this.GetBusComp().Register(this)}SiebelApp.S_App.OfflineCallMethod("ProcessAppletSelfProps",this);C=null};s.prototype.DoProcessObjectProperties=function(C){var B=C.GetProperty(q.get("SWE_PROP_CAN_UPDATE"));if(typeof(B)==="string"){this.SetCanUpdateState(B)}B=C.GetProperty(q.get("SWE_PROP_CAN_INVOKE"));
if(typeof(B)==="string"){this.SetCanInvokeState(B)}B=C.GetProperty(q.get("SWE_PROP_POP_BKMARK"));if(typeof(B)==="string"){this.SetPopBookMark(B)}B=C.GetProperty(q.get("SWE_PROP_SHADOW"));if(B!=null&&B!=undefined){if(SiebelApp.S_App.CreateJSShadow(this,B)){this.SetCustomShadow(true)}}B=Number(C.GetProperty(q.get("SWE_PROP_BEGIN_ROW")));if(this.GetBusComp()&&B!==-1){this.GetBusComp().GetNotifyObject().SetBegRow(this.GetName(),B)}};s.prototype.ProcessControlInfo=function(B,C){var D=new SiebelApp.S_App.AppletControl();D.SetApplet(this);D.ProcessObjectInfo(B);D.SetIndex(C);this.AddControl(D)};s.prototype.ProcessPickInfo=function(F){var C;var E=q.get("SWE_PROP_POP_METHOD");var B=q.get("SWE_PROP_POP_CTRL");if(!this.GetParentApplet()){C=F.GetValue();if(C){if(this.GetView()){var D=this.GetView().GetAppletById(C)}if(D){this.SetParentApplet(D)}}if(!this.GetParentApplet()){return(false)}this.GetParentApplet().SetPopupApplet(this)}C=F.GetProperty(E);if(C){this.SetPopupMethod(C)}C=F.GetProperty(B);if(C){this.SetPopupControl(C)}return true};s.prototype.ProcessChildrenProps=function(K){var O=x.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,K);var F=K.GetType();var I=q.get("SWE_PST_CNTRL_LIST");var V=q.get("SWE_PST_REMOVE_CONTROL_LIST");var E=q.get("SWE_PST_CONFIRM_MSGS");var M=q.get("SWE_PST_PRIV_CNTRL_LIST");var G=q.get("SWE_PROP_CAN_INVOKE");var N=q.get("SWE_PST_PARENT_INFO");var J=q.get("SWE_PST_ACCESSIBILITY_INFO");var T=q.get("SWE_PST_PMODEL_FILE_INFO");var X=q.get("SWE_PST_PRENDERER_FILE_INFO");var U=q.get("SWE_PROP_GET_PMODEL_FILE");var P=q.get("SWE_PROP_GET_PRENDERER_FILE");var H=q.get("SWE_PST_NEW_TOGGLE_CTRL");var C=SiebelApp.S_App.GetPageURL().split("start.swe")[0]+SiebelApp.S_App.GetScriptDir();var S=q.get("SWE_PST_QTP_INFO");switch(F){case I:var R=K.EnumChildren(true);var Q=0;do{this.ProcessControlInfo(R,Q);Q++}while((R=K.EnumChildren(false)));break;case m:var B=K.EnumProperties(true);do{var Y=[];CCFMiscUtil_StringToArray(K.GetProperty(B),Y);this.GetCanNavigateMap()[B]=Y}while((B=K.EnumProperties(false)));break;case V:this.RemoveControls();break;case E:var D=K.EnumProperties(true);do{this.GetConfirmMessageMap()[D]=K.GetProperty(D)}while((D=K.EnumProperties(false)));break;case M:this.SetPrivateFields(K);break;case N:var W=this.ProcessPickInfo(K);if(!W){return(false)}break;case J:O("GetAppletLabel","SWE_APPLET_LABEL");O("GetAppletSummary","SWE_APPLET_SUMMARY");if(this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}break;case S:var L=x.Curry(SiebelApp.S_App.constructor.prototype.DefineAccessor,this,K);L("GetObjectType","SWE_PROP_QTP_OT");L("GetRepstrName","SWE_PROP_QTP_RN");L("GetUIName","SWE_PROP_QTP_UN");break;case H:this.SetToggleApplet();if(K.GetChildCount()>0){this.GetToggleApplet().ProcessObjectInfo(K.GetChild(0))}break}if(this.GetAppletLabel==undefined||this.GetAppletLabel()==undefined){this.GetAppletLabel=function(){return""}}if(this.GetAppletSummary==undefined||this.GetAppletSummary()==undefined){this.GetAppletSummary=function(){return""}}K=null};s.prototype.SetCanUpdateState=function(D){var C=[];var H;CCFMiscUtil_StringToArray(D,C);this.SetCanUpdateArray();if(!this.GetCanUpdateByName()){this.SetCanUpdateByName()}if(C.length>=2){for(var F=0,B=C.length;F<B;F+=2){var E=a.LookupStringCache(C[F]);var G=C[F+1];if(!E){return false}H=(G==="1")?true:false;this.GetCanUpdateArray().push(E);this.GetCanUpdateByName()[E]={bCanUpdate:H}}}};s.prototype.SetCanInvokeState=function(D){var G=[];var C=true;CCFMiscUtil_StringToArray(D,G);if(!this.GetCanInvokeByName()){this.SetCanInvokeByName()}this.SetCanInvokeArray();if(G.length>=2){for(var F=0,B=G.length;F<B;F+=2){var E=a.LookupStringCache(G[F]);var H=G[F+1];if(!E){return false}C=(H==="1")?true:false;this.GetCanInvokeArray().push(E);this.GetCanInvokeByName()[E]={bCanInvoke:C}}}};s.prototype.SetPrivateFields=function(G){if(!G){return}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}var J=q.get("SWE_PST_PRIV_CNTRL");var B=q.get("SWE_PST_PRIV_COL");var D;var K;var F;var C;var L=[];for(var E=0,H=G.GetChildCount();E<H;E++){var I=G.GetChild(E).GetType();if(I===J){D=true;K=null;C=G.GetChild(E);for(D=true;(K=C.EnumProperties(D))!==null;D=false){if(!this.GetPrivateFieldMap()[K]){L=[];L.push(C.GetProperty(K));this.GetPrivateFieldMap()[K]={bDirty:false,bInList:false,valueArray:L};F=C.EncodeAsString()}}}else{if(I===B){D=true;K=null;C=G.GetChild(E);for(D=true;(K=C.EnumProperties(D))!==null;D=false){if(!this.GetPrivateFieldMap()[K]){L=[];CCFMiscUtil_StringToArray(C.GetProperty(K),L);this.GetPrivateFieldMap()[K]={bDirty:false,bInList:true,valueArray:L};F=C.EncodeAsString()}}}}}return};s.prototype.Initialize=function(){this.InitializeRenderer();c.call(this,true);k.call(this);if(this.GetToggleApplet()){this.GetToggleApplet().Initialize()}this.ClearErrorMsg()};s.prototype.GetLabel=function(){return this.GetAppletLabel()};s.prototype.InitializeRenderer=function(){};function c(B){this.SetEnableUIUpdate(B);var C;if(!this.GetBusComp()){return}C=this.GetBusComp().GetNotifyObject();if(C){C.SetEnableUIUpdate(this.GetName(),B)}}function k(){var C="#"+q.get("SWE_MENU_IDENTIFIER")+this.GetId();if($(C).length==0){return}var B=new SiebelApp.S_App.Menu(this);this.SetMenu(B);B.CreatePM("MBMenuRenderer",SiebelAppFacade.AppletMenuPresentationModel)}function n(){var D=this.GetPModel();if(D instanceof JSSPropertySet){var J=D;var E=J.GetProperty(q.get("SWE_PROP_OUI_PMODEL"));var C=SiebelApp.S_App.GetConstructorFromKey(E)+".";var B="";var I=0;var F=C.indexOf(".");while(F!=-1){var H=C.substring(I,F);B=(B=="")?window[H]:B[H];I=F+1;F=C.indexOf(".",I)}var G=B||SiebelAppFacade.PresentationModel;this.SetPModel(new G(this));this.GetPModel().Setup(J.Clone())}this.GetPModel().Show()}s.prototype.Show=function(){this.ShowSelection();this.ClearErrorMsg();this.UpdateConditionals();if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnLoad)==="function"){this.shadow.OnLoad()}};s.prototype.ShowOnly=function(){var B=this.GetMenu();if(x.IsEmpty(B)){k.call(this)}B=this.GetMenu();if(!x.IsEmpty(B)){this.GetMenu().ShowMenuControl()}this.UpdateConditionals();this.FocusDefaultControl()};s.prototype.Query=function(B){B.Applet=this;SiebelApp.S_App.InvokeMethod("Query",B)};s.prototype.ShouldPopulateUItype=function(B){return(B==="Link")?false:true};s.prototype.UpdateAppletMessage=function(D,C){D=!x.IsEmpty(D)?D:null;C=C||0;var E=false;var F=this.GetQuerySubMode();var B="";switch(D){case"bInQueryState":if(C==1){E=true;this.SetQuerySubMode(q.get("QUERY_SUB_MODE_QUERY"));B=a.LocaleObject.GetLocalString("Query Mode Prompt")}else{if(F==q.get("QUERY_SUB_MODE_QUERY")){this.SetQuerySubMode(q.get("QUERY_SUB_MODE_EXIT_QUERY"));E=true}}break;case"bExecuted":if(C==1&&F==q.get("QUERY_SUB_MODE_EXIT_QUERY")){E=true;B=a.LocaleObject.GetLocalString("Query Result Prompt")}break;case null:if(F===q.get("QUERY_SUB_MODE_EXIT_QUERY")){this.SetQuerySubMode(q.get("QUERY_SUB_MODE_BASE"));E=true
}break}this.GetQueryModePrompt=function(){if(E){return B}else{return null}};if(!this.GetBusComp()){return}if(E&&this.GetBusComp().GetNotifyObject().GetEnableUIUpdate(this.GetName())){}};s.prototype.GetQueryModePrompt=function(){};s.prototype.RepopulateField=function(B){return this.DoRepopulateField(B)};s.prototype.DoRepopulateField=function(G){var B=this.GetControls();for(var E in B){if(B.hasOwnProperty(E)){var D=B[E];var F=D.GetFieldName();if(F===G){if(!this.ShouldPopulateUItype(D.GetUIType())){continue}var C=(this.IsInQueryMode())?this.GetBusComp().GetFieldSearchSpec(G):this.GetFormattedFieldValue(D);this.FieldChange(D,C)}}}return};s.prototype.GetFieldValue=function(E){var C="";var D=E.GetName();var F=E.GetFieldName();if(this.IsPrivateField(D)){var B=this.GetPrivateFieldMap()[D];if(B!==null){if(B.valueArray.length>0){C=B.valueArray[0]}}}else{C=this.GetBusComp().GetFieldValue(F)}return C};s.prototype.ConfirmMethod=function(C){var B=[];var E=this.GetConfirmMessageMap()[C];if(a.LocaleObject&&E){var D=SiebelApp.S_App.LocaleObject.GetLocalString(E);var F=a.LookupStringCache(this.GetTitle());if(!F){F=a.LookupStringCache(this.GetName())}B.push(F);D=x.FormatString(D,B);return confirm(D)}return true};s.prototype.SetCancelableRPCInfo=function(D,B){var C=this.GetCancelableMethodArray();if(C&&(x.IndexOf(C,D)>=0)&&!x.IsTrue(this.IsCancelQueryDisabled())){B.SetProperty(q.get("SWE_PROP_CANCELABLE_RPC"),"1")}};s.prototype.InvokeMethod=function(N,F,J){if(!N){return false}var L=true;var R=false;F=F||CCFMiscUtil_CreatePropSet();var M=F.Clone();var I;this.SetCancelableRPCInfo(N,M);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),N,"Begin InvokeMethod")}L=this.FirePreInvokeMethod(N,M);if(!L){SiebelApp.S_App.uiStatus.Free();return false}var H=this.GetActiveControl();if(this.ConfirmMethod(N)===false){SiebelApp.S_App.uiStatus.Free();if(H){this.SetFocusToCtrl(H.GetName(),true)}else{this.FocusFirstControl()}return true}if(N==="Drilldown"&&!F.GetProperty(l)){var Q=this.GetActiveControl();if(!Q||this.IsInQueryMode()||!this.CanNavigate(Q.GetFieldName())){return}var K=this.GetBusComp().GetSelection();var C;if(typeof(Q.GetSpanPrefix)==="function"){C=Q.GetSpanPrefix();if(!x.IsEmpty(K)){C+=K+1}}else{C=Q.GetInputName()}M.SetProperty(g,K+1);M.SetProperty(l,C)}if(N==="EditPopup"){w.call(this,J);this.FireInvokeMethod(N,F);return}if(N==="OnFocus"){if(!x.IsEmpty(this.GetView())){var P=true;if(!this.GetView().IsAppletActive(this)){P=false}var T=this.GetView().SetActiveApplet(this);if(T&&!P){this.SetFocusDefaultControl(true);this.FocusDefaultControl()}this.FireInvokeMethod(N,F)}else{if(SiebelApp.S_App.GetActiveView()){SiebelApp.S_App.GetActiveView().SetActiveApplet(null)}this.SetAppletActive(true,this)}return true}if(N==="FocusDefaultControl"){this.SetFocusDefaultControl(true);this.FocusDefaultControl();this.FireInvokeMethod(N,F);return true}if(N==="UndoQuery"||N==="ExecuteQuery"||N==="UndoRecord"){this.SetFocusDefaultControl(true)}if(N==="OnEnterKey"){I=o.call(this);if(I===true){this.FireInvokeMethod(N,F)}return I}if(N==="OnEscapeKey"){I=e.call(this);if(I===true){this.FireInvokeMethod(N,F)}return I}if(N==="ImplicitCommit"){return(this.PostChangesToBC(true,null))}if((N==="GetQuickPickInfo")&&(this.GetCachedCtrlQuickPick(M)===true)){SiebelApp.S_App.InvokeCallBack();this.FireInvokeMethod(N,F);return true}if(N=="GotoLastSet"){var D=-1;this.GetBusComp().SetCurRowNum(D)}if(N!=="GetQuickPickInfo"&&N!=="EditField"&&N!=="UndoRecord"){var Q=this.GetActiveControl();if(Q&&false===this.LeaveField(Q,this.GetControlValueFromUI(Q),true)){this.EnterField(Q);return false}}if(N!=="PositionOnRow"){this.CollectFieldValues(M)}var G={};if(typeof(J)==="object"||J===true||J===false){G.scope=this;G.args=[];G.args.push(N);G.args.push(M);G.async=(typeof(J.async)==="boolean")?J.async:J;G.target=J.target;G.selfbusy=J.selfbusy||false;G.mask=J.mask||false;G.cb=function(){var V=Array.prototype.slice.call(arguments),U=O.GetProperty("Status"),W=SiebelApp.S_App.ErrorObject.GetErrorSuppressState();V.push(this.PostExecute.apply(this,arguments));if(typeof(J.cb)==="function"){J.cb.apply(J.scope||null,V)}if((!W)||(U===q.get("SWE_RPC_PROP_STATUS_ERROR"))){SiebelApp.S_App.ErrorObject.SetErrorSuppressState(true);this.ProcessError()}}}else{G={scope:this,cb:function(){}}}var S=M.GetProperty(q.get("SWE_PROP_CANCELABLE_RPC"));if(x.IsTrue(S)){that=this;var B=setTimeout(function(){that.ProcessCancelQueryPopup();that=null},1000*parseInt(SiebelApp.S_App.GetCancelQueryTimeout(),10));this.SetCancelQryTimeoutObj(B)}var O=CCFMiscUtil_CreatePropSet();this.CallServerApplet(N,M,O,G);if(typeof(J)==="undefined"){var E=[];E.push(N);E.push(M);E.push(O);return(this.PostExecute.apply(this,E))}};function o(){if(SiebelApp.S_App.GetPopupPM().Get("state")===q.get("POPUP_STATE_VISIBLE")&&SiebelApp.S_App.GetPopupPM().Get("isPopupSI")===true){return true}var F=this.GetActiveControl();if(x.IsEmpty(F)){return false}var B=CCFMiscUtil_CreatePropSet();var D=this.GetDefaultMethod();var C=this.GetDefaultQryMethod();if(this.IsInQueryMode()===true){if(C&&this.CanInvokeMethod(C)){return this.InvokeMethod(C,B)}else{return this.InvokeMethod("ExecuteQuery",B)}}else{if(D&&this.CanInvokeMethod(D)){return this.InvokeMethod(D,B)}else{if(false===this.LeaveField(F,this.GetControlValueFromUI(F),true)){this.EnterField(F);return false}var E=this.GetBusComp();if(E&&E.IsCommitPending()){return this.InvokeMethod("WriteRecord",B)}}}this.ClearErrorMsg()}function e(){var B=CCFMiscUtil_CreatePropSet();if(SiebelApp.S_App.GetPopupPM().Get("isCurrencyOpen")){return false}if(this.IsInQueryMode()===true){return this.InvokeMethod("UndoQuery",B)}if(this.GetBusComp()&&this.GetBusComp().IsCommitPending()){return this.InvokeMethod("UndoRecord",B)}else{return false}this.ClearErrorMsg()}s.prototype.PostExecute=function(D,I,G){var H=this.GetCancelQryTimeoutObj();var B=true;var C=arguments[2].GetProperty(f);var E=I.GetProperty(q.get("SWE_PROP_CANCELABLE_RPC"));if(x.IsTrue(E)&&!x.IsEmpty(H)){clearTimeout(H)}if(x.IndexOf(["timeout","error","abort","parsererror"],arguments[2].GetProperty(q.get("AJAX_FAIL_ERR")))!==-1){B=false}else{if(arguments[0]==="CanInvokeMethod"){var F=arguments[2].GetProperty("Result");B=(F==="true")?true:false}else{if(C===p||!C){B=false}else{if(C===z){B=true}}}}if(B===true){this.FireInvokeMethod(arguments[0],arguments[1])}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeInvokeMethod("",this.GetName(),D,"Finished InvokeMethod")}if(C==="DownloadFile"){SiebelApp.S_App.DownloadFile(arguments[2])}return B};s.prototype.ProcessCancelQueryPopup=function(){};s.prototype.CallServerApplet=function(C,D,H,E){var F=true;if(typeof(E)!=="undefined"){if(E.psresp===true||E.psresp===false){F=E.psresp}}var B=D.Clone();B.SetProperty(q.get("SWE_CMD_ARG"),q.get("SWE_CMD_INVOKE_METHOD_STR"));if(!x.IsEmpty(this.GetView())){B.SetProperty(q.get("SWE_VIEW_ID_ARG"),this.GetView().GetBusObj().GetZone());
B.SetProperty(q.get("SWE_VIEW_ARG"),this.GetView().GetName())}if(B.GetProperty(q.get("SWE_APPLET_STR"))===undefined||B.GetProperty(q.get("SWE_APPLET_STR")===null)){B.SetProperty(q.get("SWE_APPLET_STR"),this.GetName())}B.SetProperty(q.get("SWE_METHOD_STR"),C);if(C!="CollapseTreeItem"&&C!="ExpandTreeItem"&&C!="NextTreeItem"&&C!="PreviousTreeItem"&&C!="SelectTreeItem"){var G;if(!!this.GetBusComp()){G=this.GetBusComp().GetIdValue();B.SetProperty(q.get("SWE_ROW_ID_STR"),G)}if(G!==""){B.SetProperty(q.get("SWE_REQ_ROW_ID_STR"),"1")}else{B.SetProperty(q.get("SWE_REQ_ROW_ID_STR"),"0")}if(!!this.GetBusComp()){this.GetRowIds(B)}}if(B.GetProperty(q.get("SWE_ROW_IDS_STR"))===undefined||B.GetProperty(q.get("SWE_ROW_IDS_STR")===null)){this.GetRowIds(B)}if(B.GetProperty(q.get("SWE_ACTIVE_APPLET_STR"))===undefined||B.GetProperty(q.get("SWE_ACTIVE_APPLET_STR")===null)){B.SetProperty(q.get("SWE_ACTIVE_APPLET_STR"),this.GetName())}if(B.GetProperty(q.get("SWE_NEED_CONTEXT_STR"))===undefined||B.GetProperty(q.get("SWE_NEED_CONTEXT_STR")===null)){B.SetProperty(q.get("SWE_NEED_CONTEXT_STR"),"true")}B.SetProperty(q.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());if(this.GetPopBookMark()){B.SetProperty(q.get("SWE_POPUP_VECTOR_STR"),this.GetPopBookMark())}if(C===q.get("SWE_EDIT_FIELD")||C===q.get("SWE_GET_PICK_INFO")){B.SetProperty(q.get("SWE_JS_EXTRA_INFO"),"false")}SiebelApp.S_App.OfflineCallMethod("SetNewRecord",this,B);SiebelApp.S_App.CallServer(B,H,F,E)};s.prototype.ExecuteUIUpdate=function(){this.DoExecuteUIUpdate()};s.prototype.DoExecuteUIUpdate=function(){var B;if(!this.GetBusComp()){return}B=this.GetBusComp().GetNotifyObject();if(!B||!B.Get_EnableUIUpdate(this.GetName())){return}if(B.Get_DoPopulate(this.GetName())){this.ShowSelection();if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopulateApplet(this.GetName(),"Finished Populate Applet")}}if(this.GetUpdateConditionals()){this.UpdateConditionals()}this.InvokeStateChange();B.Set_DoPopulate(this.GetName(),false);this.SetScrollDir(null);this.SetScrollAmount(0)};s.prototype.UpdateQuickPickInfoSrvr=function(D){var C;var E;var B=6;var H;var G=D[3];C=(D[4]==="false")?false:true;H=D[5];if(H.length!==0&&C&&D.length>B){var F=[];for(E=B;E<D.length;E++){F.push(D[E])}a.SetStaticPickValues(H,F)}this.UpdateQuickPickInfo(G,C,D,B)};s.prototype.UpdateQuickPickInfo=function(G,C,F,B){var D=[];for(var E=B;E<F.length;E++){D.push(F[E])}return D};s.prototype.GetCachedCtrlQuickPick=function(E){var B=this.GetControls();var H=E.GetProperty(q.get("SWE_FIELD_STR"));var D=this.GetSelection();if(H){for(var G in B){if(B.hasOwnProperty(G)){var F=B[G];var C=(typeof(F.GetInputName)==="function")?F.GetInputName():F.GetSpanPrefix()+D+1;if(C===String(H)){return this.GetCachedQuickPick(E,H,F)}}}}return false};s.prototype.GetCachedQuickPick=function(C,B,E){var D=[];if(E.GetPickApplet().length===0){return(false)}D=SiebelApp.S_App.GetStaticPickValues(E.GetPickApplet());if(x.IsEmpty(D)||D.length===0){return(false)}this.UpdateQuickPickInfo(B,true,D,0);return(true)};s.prototype.FieldDropdown=function(C){var G=null;var I=this.GetActiveControl();var D=[];if(this.IsPure()){var F=CCFMiscUtil_CreatePropSet();if(typeof(I.GetInputName)==="function"){G=I.GetInputName()}else{G=I.GetSpanPrefix()+this.GetBusComp().GetSelection()+1}F.SetProperty(l,G);F.SetProperty(q.get("SWEJI"),"false");this.InvokeMethod("GetQuickPickInfo",F)}else{var B=I.GetRadioGroupPropSet();var E=true;var H;while((H=B.EnumChildren(E))){E=false;D.push(H.GetProperty(i))}G=I.GetInputName();this.UpdateQuickPickInfo(G,true,D,0)}};s.prototype.GetDrilldownURL=function(B,D,C){};s.prototype.PositionOnRow=function(B){this.GetBusComp().PositionById(B.Id)};s.prototype.CollectFieldValues=function(B){this.DoCollectFieldValues(B);if(!!this.GetBusComp()){this.CollectUpdatedBCValues(B)}};s.prototype.DoCollectFieldValues=function(E){var J=this.GetControls();for(var C in J){if(J.hasOwnProperty(C)){var F=J[C];var B=F.GetUIType();var G=F.GetFieldName();var H=F.GetName();var D="";var I=this.GetBusComp();if(B!==u){if(G||this.IsPrivateField(H)||!this.IsPure()){if(!this.CanUpdate(H)){continue}if(this.IsInQueryMode()){if(!x.IsEmpty(G)){D=I.GetFieldMap()[G].GetSearchSpec()}else{if(this.IsPrivateField(H)){D=this.GetFormattedValue(F,false)}}}else{D=this.GetFormattedValue(F,false)}if(F.GetCtrlFldEncode()){D=x.ControlFieldEncode(D)}if(!x.IsEmpty(B)&&B!==("JavaApplet")&&(B.indexOf("J")===0||B.indexOf("P")===0||x.IndexOf(["Mailto","URL","Mvg","Pick"],B)!==-1)){if(typeof(F.GetInputName)==="function"){E.SetProperty(F.GetInputName(),D);SiebelApp.S_App.OfflineCallMethod("AddFieldName",this,E,C,D)}}}}}}};s.prototype.CollectUpdatedBCValues=function(D){var J=0;var C=true;var M=[];var I=[];var B={};var E;var N;var K;while((E=this.GetBusComp().EnumUpdates(C))){if(C){B={};var L=this.GetControls();for(var H in L){if(L.hasOwnProperty(H)){var F=L[H];var G=F.GetFieldName();if(G){B[G]=1}}}C=false}if(B[E.fieldName]!==1){M[J]=E.fieldName;I[J]=E.newValue;J++}}if(J<1){return(true)}K=CCFMiscUtil_CreatePropSet();N=CCFMiscUtil_CreatePropSet();N.SetType("FieldValues");K.AddChild(N);N.SetProperty("FieldArray",CCFMiscUtil_ArrayToString(M));N.SetProperty("ValueArray",CCFMiscUtil_ArrayToString(I));D.SetProperty("SWEBCVals",K.EncodeAsString());return(true)};s.prototype.OnBlur=function(C,D){var B;B=this.LeaveField(C,D,false);if(B&&C){C.FireOnBlur()}return B};s.prototype.OnFocus=function(C,D){var B;B=this.EnterField(C,D);if(B&&C){C.FireOnFocus()}return B};s.prototype.LeaveField=function(C,D,P){if(!C||C!==this.GetActiveControl()){this.SetPrsrvControl(this.GetActiveControl());this.SetActiveControl(null);return true}var N=this.GetBusComp();var L=C.GetFieldName();var E=!!N?this.GetFormattedValue(C):C.GetValue();var K=C.GetName();var J=this.TransformValue(C,D,E);if(J!==null){if(!!N){if(this.IsInQueryMode()){var O=C.GetUIType();if(O==q.get("SWE_CTRL_DATE_TZ_PICK")||O==q.get("SWE_CTRL_DATE_TIME_PICK")||O==q.get("SWE_CTRL_DATE_PICK")){if(D&&!D.match(/[><=!&|]/g)){if(!x.IsEmpty(J)&&J.charAt(0)!=='"'&&J.charAt(J.length-1)!=='"'){J='"'+J+'"'}if(x.IsEmpty(J)&&!x.IsEmpty(D)){if(D.charAt(0)!=='"'&&D.charAt(D.length-1)!=='"'){J='"'+D+'"'}else{J=D}}}}if(!x.IsEmpty(L)){N.GetFieldMap()[L].SetSearchSpec(J)}var F=N.GetNotifyObject();F.NotifyNewFieldQuerySpec(L)}else{var B;if(this.CanUpdate(K)&&N.GetSelection()>=0||this.IsPrivateField(K)){var H=D;var O=C.GetUIType();if(O==q.get("SWE_CTRL_COMBOBOX")){B=this.GetFormattedFieldValue(C,true)}if(!this.SetFormattedValue(C,J)){this.SetPrsrvControl(this.GetActiveControl());N.ProcessError();var B=this.GetFormattedValue(C);this.SetControlValueByName(C.GetName(),B);return false}H="";if(!x.IsEmpty(C.GetFieldName())&&this.HasCustomShadow()){D=this.GetFormattedFieldValue(C,false);if((D!=E)||(D!=B)){this.FireOnChangeFieldValue(C.GetFieldName(),D)}}}}}else{if(C.GetRadioGroupPropSet().GetChildCount()!==0){var R=C.GetRadioGroupPropSet();var I=true;var Q;var G=A;if(C.GetUIType()===q.get("SWE_CTRL_COMBOBOX")){G=i}while((Q=R.EnumChildren(I))){if(Q.GetProperty(G)===D){var M=Q.GetProperty(A);
C.GetValue=function(){return M};break}I=false}R=null}else{C.GetValue=function(){return D}}}SiebelApp.S_App.OfflineCallMethod("PassOldValue",this,C,D,E)}if(!P){this.SetPrsrvControl(this.GetActiveControl());if(C.GetCaseSensitive()&&this.IsInQueryMode()){this.UpdateCSQueryMsg(false)}this.SetActiveControl(null)}return true};s.prototype.UpdateCSQueryMsg=function(){};s.prototype.TransformValue=function(G,F,D){var B=SiebelApp.S_App.LocaleObject,E=F,C=G.GetUIType();if(C===q.get("SWE_CTRL_DATE_TZ_PICK")||C===q.get("SWE_CTRL_DATE_TIME_PICK")){D=this.GetFormattedValue(G,true);E=B.GetStringFromDateTime(F,q.get("ISO8601_DATETIME_FORMAT"),(G.GetDisplayFormat()||(B.GetDateFormat()+" "+B.GetTimeFormat())))}else{if(C===q.get("SWE_CTRL_DATE_PICK")){D=this.GetFormattedValue(G,true);E=(B.GetStringFromDateTime(F,q.get("ISO_DATE_FORMAT"),(G.GetDisplayFormat()||B.GetDateFormat())))}}if(E===""&&F!==""){E=F}return(D!==E)?E:null};s.prototype.EnterField=function(C,D){var B=false;if(!this.GetActiveControl()&&!C){return B}if(!!this.GetView()){if(!(this.GetView().SetActiveApplet(this))){if(C){this.SetFocusToCtrl(C.GetName(),false)}this.GetView().ProcessError();return B}}this.SetActiveControl(C);if(C.GetCaseSensitive()&&this.IsInQueryMode()){this.UpdateCSQueryMsg(true)}B=true;return B};function y(E,D,F,B,G){var C;if(D){if(x.IsEmpty(B)){C=this.GetBusComp().WSGetFieldValue(G)}else{C=F[B][G]}}else{C=this.GetFieldValue(E)}return C}s.prototype.GetFormattedFieldValue=function(F,I,M){var L=F.GetFieldName();var C;var G;var H=this.GetBusComp()?this.GetBusComp().GetRecordSet():[];if(!x.IsEmpty(F.GetControlMsg())){C=d.call(this,F,I,H,M);return C}if(!this.GetBusComp()){return F.GetValue()?F.GetValue():""}if(F&&this.IsPrivateField(F.GetName())){C=this.GetFieldValue(F,M)}else{C=y.call(this,F,I,H,M,L)}if(SiebelApp.S_App.LocaleObject){var D=this.GetBusComp().GetField(L);if(!D&&!this.IsPrivateField(F.GetName())){this.GetBusComp().SetErrorMsg("BCErrNoSuchField",L);return}h.call(this,H,M,L);if(this.GetBusComp().GetField(L)){var K=this.GetBusComp().GetField(L).GetDataType();var B=K;var J=C;var E=F.GetDisplayFormat();C=SiebelApp.S_App.LocaleObject.StringToFormatted(B,J,E)}}return C};s.prototype.SetFormattedValue=function(D,G){var C;var F;var E;var B=D.GetName();if(this.IsPrivateField(B)){var H=this.GetPrivateFieldMap()[B];if(H.valueArray.length>0){if(H.valueArray[0]!=G){this.GetPrivateFieldMap()[B].valueArray[0]=String(G);this.GetPrivateFieldMap()[B].bDirty=true}}else{this.GetPrivateFieldMap()[B].valueArray.push(G);this.GetPrivateFieldMap()[B].bDirty=true}}if(!x.IsEmpty(D.GetFieldName())){C=this.GetFormattedValue(D,true);F=this.GetBusComp().SetFormattedValue(D.GetFieldName(),G,D.GetDisplayFormat());if(!F){this.FieldChange(D,C);this.SetFocusToCtrl(B,true);return F}}else{return true}E=this.GetBusComp().GetFieldMap()[D.GetFieldName()];G=this.GetFormattedValue(D,true);if(E&&(C!=G)&&(E.IsPostChanges()||E.IsBoundedPick())){F=this.PostChangesToBC(false,D.GetFieldName())}return F};s.prototype.GetFormattedValue=function(D,B){var C="";if(this.IsPrivateField(D.GetName())){C=this.GetFieldValue(D);return C}var E=this.GetBusComp();if(E&&(this.IsInQueryMode()||!B)){C=this.GetBusComp().GetFormattedValue(-1,D.GetFieldName(),"")}else{C=this.GetFormattedFieldValue(D,false)}return C};function d(C,H,G,K){var D=C.GetControlMsg();var E;var F=C.GetMessageVariableMap();for(var I in F){if(F.hasOwnProperty(I)){var J=F[I];var B=this.GetBusComp().GetField(J).GetDataType();E=y.call(this,C,H,G,K,J);h.call(this,G,K,J);E=SiebelApp.S_App.LocaleObject.StringToFormatted(B,E,"");D=D.replace("%"+I,E)}}return D}function h(H,J,I){var B=this.GetBusComp().GetField(I);if(B&&B.GetDataType()=="currency"){var D;var E;var G,F;var C=B.GetCurrField();G=C.indexOf("|");if(G>=0){F=(C.substring(G+1).indexOf("|")==-1)?-1:(C.substring(G+1).indexOf("|")+G);if(F<0){F=C.length}D=C.substr(0,G);if(D.length!=0){if(x.IsEmpty(J)){sCurrCode=this.GetBusComp().GetFieldValue(D)}else{sCurrCode=H[J][D]}if(sCurrCode){SiebelApp.S_App.LocaleObject.SetCurrencyCode(sCurrCode)}else{SiebelApp.S_App.LocaleObject.SetCurrencyCode("")}}D=C.substr(G+1,F-G-1);if(D.length!=0){E=this.GetBusComp().GetFieldValue(D);if(E){SiebelApp.S_App.LocaleObject.SetExchDate(E)}}}}}s.prototype.PostChangesToBC=function(I,J,C){var D=true;var F=CCFMiscUtil_CreatePropSet();var E;var H;var B;if(!this.IsPure()){return true}H=this.HasPendingCommit(J,I);B=this.GetBusComp().IsDeletePending();if(H||B){if(I){if(B&&!H){F.SetProperty(q.get("SWE_DELETE_ONLY"),"1")}E="WriteRecord";if(this.CanInvokeMethod(E)){if(C){var G={};G.ev=q.get("EVENT_NO_FOCUS");this.SetUIEventMap(G)}D=this.InvokeMethod(E,F);return D}}else{if(!x.IsEmpty(J)){F.SetProperty(q.get("SWE_POST_ON_CHANGE_STR"),J)}if(C){F.SetProperty(q.get("SWE_POST_FORCE_STR"),"Y")}E="PostChanges";SiebelApp.S_App.uiStatus.Busy({});D=this.InvokeMethod(E,F);SiebelApp.S_App.uiStatus.Free();return D}}this.ClearErrorMsg();return D};s.prototype.HasPendingCommit=function(E,D){var B=(E&&this.GetActiveControl()&&!x.IsEmpty(this.GetActiveControl().GetFieldName())&&this.GetActiveControl().GetFieldName()==E);var C=(this.GetBusComp()&&this.GetBusComp().IsCommitPending());return(B||C)};s.prototype.UpdateRowCounter=function(){};s.prototype.ShowSelection=function(){if(!!this.GetBusComp()){this.UpdateRowCounter()}};s.prototype.RefreshData=function(B){};s.prototype.FieldChange=function(C,B){};s.prototype.UpdateStateChange=function(){};s.prototype.InvokeStateChange=function(){};s.prototype.Notify=function(C){var D=q.get("SWE_NOTIFICATION_TYPE_POSITION");var B=q.get("SWE_NOTIFICATION_TYPE_REQUERY");switch(C){case D:this.ShowSelection();break;case B:this.RefreshData(true);this.ShowSelection()}};s.prototype.NotifyBeginNotifys=function(){this.UpdateAppletMessage()};s.prototype.NotifyNewActiveRow=function(){var B;if(x.IsEmpty(this.GetBusComp())){return}B=this.GetBusComp().GetNotifyObject();if(B&&B.Get_EnableUIUpdate(this.GetName())){B.Set_DoPopulate(this.GetName(),true)}};s.prototype.NotifyChangeSelection=function(){if(!this.GetEnableUIUpdate()){return}this.SetUpdateConditionals(true);this.UpdateRowCounter()};s.prototype.NotifyDeleteRecord=function(D,C){var B;if(x.IsEmpty(this.GetBusComp())){return}B=this.GetBusComp().GetNotifyObject();if(!B||!B.Get_EnableUIUpdate(this.GetName())){return}B.SetDoPopulate(this.GetName(),true);this.FireOnChangeRecord()};function t(E){if(E.length>0&&E[0]===this.GetName()){var G=E[1];var B=E[2];var D=E[3];var C=E[4];var F=this.GetControls()[G];if(!F){return}F.GetDisplayName=function(){return B};if(C!==F.GetUIType()||(x.IsTrue(F.IsEditEnabled())&&!x.IsTrue(D))||(!x.IsTrue(F.IsEditEnabled())&&x.IsTrue(D))){F.IsEditEnabled=function(){return D};if(x.IsTrue(D)){F.GetUIType=function(){return r}}else{F.GetUIType=function(){return C}}this.HandleCtrlDefChange(F)}}}s.prototype.HandleCtrlDefChange=function(B){};s.prototype.NotifyGeneric=function(D,B){var E=CCFMiscUtil_CreatePropSet();E.SetType(D);for(var C=0;C<B.length;C++){E.SetProperty(C.toString(),B[C])}switch(D){case"SWEICanInvokeMethod":this.NotifyCanInvokeMethod(D,B);
break;case"SWEICtlDefChanged":t.call(this,B);break;case"SWEIPrivFlds":this.NotifyPrivateFields(D,B);break;case"SWEICanUpdate":this.NotifyCanUpdate(D,B);break;case"SWEICanNavigate":this.NotifyCanNavigate(D,B);break;case"SWEAInvokeMethod":this.NotifyInvokeMethod(D,B);break;case"DeletePopup":if(B[0]===this.GetName()){this.DeletePopup()}break;case"SetPopupBookmark":if(B[0]===this.GetName()){this.SetPopBookMark(B[1])}break;case"GetQuickPickInfo":if(B[2]===this.GetName()){this.UpdateQuickPickInfoSrvr(B)}break;case"BegRow":b.call(this,B);break;case"GetCurrencyCalcInfo":if(B[2]===this.GetName()){this.UpdateCurrencyCalcInfo(0,B)}break;case"GetCurrencyCodeInfo":if(B[2]===this.GetName()){this.UpdateCurrencyCodeInfo(1,B)}break;case"CloseCurrencyPickApplet":if(B[2]===this.GetName()){this.UpdateCurrencyCalcInfo(2,B)}break;default:break}SiebelApp.EventManager.fireEvent("ProxyComplete",[this,D,B]);return(true)};function b(B){var C,E;if(B.length>=2){C=B[0];E=Number(B[1]);if(C===this.GetName()&&E>=0){var D;if(x.IsEmpty(this.GetBusComp())){return}D=this.GetBusComp().GetNotifyObject();if(D){D.SetBegRow(this.GetName(),E);if(this.CanUpdateUI()===true){D.SetDoPopulate(this.GetName(),true)}}}}}s.prototype.NotifyStateChanged=function(C,B){this.UpdateAppletMessage(C,B)};s.prototype.NotifyPageRefresh=function(){var B;if(!this.GetEnableUIUpdate()&&!this.GetView().GetActiveApplet()){return}B="?SWECmd=Refresh&SWEFullRefresh=true&SWEView="+this.GetView().GetName()+"&SWEApplet="+this.GetView().GetActiveApplet().GetName()+"#SWEApplet="+this.GetView().GetActiveApplet().GetId();SiebelApp.S_App.SetURLToGo(B,"",true,this.GetView().GetName(),this.GetView().GetBusObj().GetZone(),true)};s.prototype.NotifyInvokeMethod=function(F,D){var E,C;var B=CCFMiscUtil_CreatePropSet();if(D.length>=2){E=D[0];C=D[1];if(E===this.GetName()&&!x.IsEmpty(C)){this.InvokeMethod(C,B,true)}}};s.prototype.NotifyNewPrimary=function(B){};s.prototype.NotifyEndNotifys=function(){return(true)};s.prototype.NotifyNewFieldData=function(C){var B;if(x.IsEmpty(this.GetBusComp())){return}B=this.GetBusComp().GetNotifyObject();if(!B||!B.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(C)};s.prototype.NotifyNewFieldList=function(){var C;var B=this.GetView();if(B){var D=B.GetActiveApplet();if(!this.GetEnableUIUpdate()&&!D){return}C="?SWECmd=Refresh&SWEView="+B.GetName()+"&SWEApplet="+D.GetName();SiebelApp.S_App.SetURLToGo(C,"",true,B.GetName(),B.GetBusObj().GetZone(),true)}};s.prototype.NotifyNewDataWS=function(C){var B;this.RepopulateField(C);if(x.IsEmpty(this.GetBusComp())){return}B=this.GetBusComp().GetNotifyObject();if(!B||!B.Get_EnableUIUpdate(this.GetName())){return}};s.prototype.NotifyNewQuerySpec=function(){};s.prototype.NotifyBeginQuery=function(){var B=this.GetBusComp().GetNotifyObject();B.SetDoPopulate(this.GetName(),true);if(x.IsEmpty(this.GetView())||this===this.GetView().GetActiveApplet()){this.SetFocusDefaultControl(true)}this.BeginQueryState()};s.prototype.NotifyNewFieldQuerySpec=function(C){var B;if(x.IsEmpty(this.GetBusComp())){return}B=this.GetBusComp().GetNotifyObject();if(!B||!B.Get_EnableUIUpdate(this.GetName())){return}this.RepopulateField(C)};s.prototype.NotifyScrollAmount=function(B,C){this.SetScrollDir(B);this.SetScrollAmount(C)};s.prototype.NotifyEndQuery=function(){this.EndQueryState()};s.prototype.BeginQueryState=function(){};s.prototype.EndQueryState=function(){};s.prototype.NotifyExecute=function(){};s.prototype.NotifyCanUpdate=function(F,H){if(H.length>0){if(H[0]===this.GetName()){var D=0;var I=true;var G;var C;for(var E=1,B=H.length;E<B;E+=2){D=parseInt(H[E],10);G=H[E+1];if(isNaN(D)){continue}I=(G==="1"||G==="Y"||G==="y")?true:false;if(D>=this.GetCanUpdateArray().length){continue}C=this.GetCanUpdateArray()[D];if(x.IsEmpty(C)){continue}this.GetCanUpdateByName()[C].bCanUpdate=I}if(this.CanUpdateUI()===true){this.UpdateStateChange()}}}};s.prototype.NotifyCanNavigate=function(F,I){var D;var B;var H;var E=[];var C;var G=I.length;if(I&&G>0){C=I[0];if(C===this.GetName()){for(D=1;D<G;D++){H=I[D];if(!H){continue}if(H.charAt(0)==="*"){if(E.length>0){this.GetCanNavigateMap()[B]=E}B=H.substr(1);E=[];continue}if(!B){continue}E.push(H)}if(E.length>0){this.GetCanNavigateMap()[B]=E}this.NavigateState()}}};s.prototype.NavigateState=function(){};s.prototype.NotifyPrivateFields=function(F,I){var H;if(I.length>0){if(I[0]===this.GetName()){var D=0;var G=null;var C=null;for(var E=1,B=I.length;E<B;E++){G=I[E];if(x.IsEmpty(G)){continue}if(G.charAt(0)==="*"){C=G.substr(1);D=0;continue}G=G.substr(1);if(x.IsEmpty(C)){continue}if(!this.GetPrivateFieldMap()){this.SetPrivateFieldMap()}if(!this.GetPrivateFieldMap()[C]){this.GetPrivateFieldMap()[C]={}}if(this.GetPrivateFieldMap()[C].valueArray&&D>=this.GetPrivateFieldMap()[C].valueArray.length){this.GetPrivateFieldMap()[C].valueArray[D++]=String(G);D=this.GetPrivateFieldMap()[C].valueArray.length}else{if(this.GetPrivateFieldMap()[C].valueArray){this.GetPrivateFieldMap()[C].valueArray[D++]=String(G)}else{this.GetPrivateFieldMap()[C].valueArray=[];this.GetPrivateFieldMap()[C].valueArray[D++]=String(G)}}if(this.CanUpdateUI()===true){if(!H){H={};H.ar=[]}H.ar.push(C)}}if(H){H.ev=q.get("NOT_PRV_FIELDS");this.SetUIEventMap(H)}}}};s.prototype.NotifyCanInvokeMethod=function(G,C){if(C.length>0){if(C[0]===this.GetName()){var F=0;var J=true;var H;var B;var I=false;for(var D=1,E=C.length;D<E;D+=2){F=parseInt(C[D],10);H=C[D+1];if(isNaN(F)){continue}if(x.IsEmpty(H)){continue}J=(H==="1"||H==="Y"||H==="y")?true:false;if(F>=this.GetCanInvokeArray().length){continue}B=this.GetCanInvokeArray()[F];if(x.IsEmpty(B)){continue}if(this.GetCanInvokeByName()[B]){if(this.GetCanInvokeByName()[B].bCanInvoke!==J){this.GetCanInvokeByName()[B].bCanInvoke=J;I=true}}else{this.GetCanInvokeByName()[B]={};this.GetCanInvokeByName()[B].bCanInvoke=J;I=true}}if(this.CanUpdateUI()===true&&I===true){this.SetUpdateConditionals(true);this.InvokeStateChange()}return I}}};function w(D){var G=this.GetActiveControl();if(G){var C=this.GetControls();for(var F in C){if(C.hasOwnProperty(F)){var E=C[F];if(E===G){switch(E.GetUIType()){case q.get("SWE_CTRL_COMBOBOX"):this.FieldDropdown(D);break;case q.get("SWE_CTRL_CURRENCY_CALC"):E.ShowPopup();break;case q.get("SWE_CTRL_CALC"):case q.get("SWE_CTRL_DATE_PICK"):case q.get("SWE_CTRL_DATE_TIME_PICK"):case q.get("SWE_CTRL_DATE_TZ_PICK"):this.ShowPopup(E);break;case q.get("SWE_CTRL_TEXT"):if(E.GetPopupType()!==q.get("SWE_CTRL_DETAIL")){var B=this.GetFieldDataType(E.GetFieldName());if(B.toLowerCase()===q.get("SWE_CTRL_PHONE").toLowerCase()){if(SiebelApp.S_App.CommToolbar){if(SiebelApp.S_App.CommToolbar.CallContactFromUIEnabled()){SiebelApp.S_App.CommToolbar.OpenCallContactFromUIPopup(this.GetControlValueFromUI(E))}}}break}case q.get("SWE_CTRL_MVG"):case q.get("SWE_CTRL_PICK"):case q.get("SWE_CTRL_EFFDAT"):this.FieldPopup(D);break}}}}}return(true)}s.prototype.ShowPopup=function(B){return};s.prototype.FieldPopup=function(C){var E=CCFMiscUtil_CreatePropSet();var G=this.GetActiveControl();if(!G){return
}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Start PopupApplet")}var D=G.GetHeight();var B=G.GetWidth();var F=null;if(typeof(G.GetSpanPrefix)==="function"){F=G.GetSpanPrefix();if(!x.IsEmpty(this.GetBusComp().GetSelection())){F+=this.GetBusComp().GetSelection()+1}}else{F=G.GetInputName()}E.SetProperty(q.get("SWE_FIELD_STR"),F);E.SetProperty(q.get("SWE_METHOD_STR"),"EditField");E.SetProperty(q.get("SWE_SHOW_POPUP_STR"),"true");E.SetProperty(q.get("SWE_HEIGHT_STR"),D);E.SetProperty(q.get("SWE_WIDTH_STR"),B);E.SetProperty("SWECSP","false");this.InvokeMethod("EditField",E,C)};s.prototype.DeletePopup=function(){var B=this.GetPopupApplet();if(B){B.Close();this.SetPopupApplet(null)}};s.prototype.Close=function(){if(this.IsPopupClosed()){return}var B=this.GetParentApplet();if(x.IsEmpty(this.GetView())||this.GetView().IsAppletActive(this)||this.GetView().GetActiveAppletOnLoad()===this){if(B&&B.GetPopupControl()&&!B.GetActiveControl()){}c.call(this,false);if(!x.IsEmpty(this.GetView())){if(B.GetParentApplet()){this.GetView().SetActiveAppletOnLoad(B)}else{this.GetView().SetActiveApplet(B)}}}var C=this.GetBusComp();c.call(this,false);if(C){C.DeRegister(this)}if(B){B.SetPopupMethod(null);B.SetPopupControl(null)}if(C&&B&&C!==B.GetBusComp()){C.GetBusObj().RemoveBusComp(this.GetBusComp())}if(B){this.SetParentApplet(null)}if(x.IsEmpty(this.GetView())){SiebelApp.S_App.RemoveApplet(this)}else{this.GetView().RemoveApplet(this)}this.SetPopupClosed(true)};s.prototype.SetAppletActive=function(C,D){var B=false;if(!this.HandleImplicitCommit(C,D)){return B}B=this.DoSetAppletActive(C,D);if(C){this.RestoreControlFocus()}if(SiebelApp.S_App.IsExternalApplet(this)){SiebelApp.S_App.SetExternalActiveApplet(C?this:null)}return B};s.prototype.DelayPostOnLastActive=function(){return false};s.prototype.SetAppletToDelayPost=function(){return};s.prototype.HandleImplicitCommit=function(C,F){var B=true;var D=null;if(F&&!F.GetBusComp()&&F.GetView()!==SiebelApp.S_App.GetActiveView()){return false}if(!F||(F&&!F.DelayPostOnLastActive())){if(F){D=F.GetParentApplet()}if(!C){if(!this.SetActiveCtrlValue()){return(B=false)}if((!F)||(((this.GetBusComp()&&!x.IsEmpty(this.GetBusComp().IsTransientBC())&&this.GetBusComp().IsTransientBC())||(this.GetBusComp()&&F&&(F.GetBusComp()!==this.GetBusComp()))||(F&&!F.IsEditable())||((F&&!F.IsNoUpdate())&&this.GetBusComp()&&!this.GetBusComp().insertPending))&&(F&&F!==this.GetParentApplet())&&((!this.GetParentApplet())||(this!==this.GetParentApplet()))&!this.GetPopupApplet())){var E;if(F&&F!==this){E=true}if(!this.PostChangesToBC(true,null,E)){this.SetHighlightState(C);return(B=false)}}}}else{if(!C||!this.DelayPostOnLastActive()){F.SetAppletToDelayPost(this)}}return B};s.prototype.SetActiveCtrlValue=function(){var B=true;var C=false;if(!this.GetActiveControl()){return B}return B};s.prototype.RestoreControlFocus=function(){if((!x.IsEmpty(this.GetView())&&!this.GetView().IsAppletActive(this))||!this.CanUpdateUI()){return}var B=this.GetActiveControl()||this.GetPrsrvControl();if(B){this.SetFocusToCtrl(B.GetName(),true)}};s.prototype.SetFocusToCtrl=function(B){};s.prototype.DoSetAppletActive=function(B,C){if(!this.CanUpdateUI()){return true}this.SetHighlightState(B,C);this.ClearErrorMsg();return true};s.prototype.FocusFirstControl=function(){};s.prototype.FocusSelectedTreeNode=function(B){};s.prototype.SetHighlightState=function(B,C){};s.prototype.FocusOnApplet=function(){};s.prototype.FocusDefaultControl=function(B){var D=false;var C;if(x.IsEmpty(B)){B=false}if(!this.GetFocusDefaultControl()){return}if(this.IsInQueryMode()){C=this.GetDefaultFocusOnQuery()}else{if(!!this.GetBusComp()&&this.GetBusComp().insertPending){C=this.GetDefaultFocusOnNew();D=false}else{C=this.GetDefaultFocusOnEdit();D=true}}if(x.IsEmpty(C)){if(B||!D){this.FocusFirstControl()}else{this.FocusOnApplet()}}else{this.SetFocusToCtrl(C,true)}this.SetFocusDefaultControl(false)};s.prototype.GetActiveMode=function(){if(this.GetBusComp()==null){return("")}else{if(this.GetBusComp().IsInsertPending()){return("New")}else{return("Edit")}}};s.prototype.GetControlElement=function(C){var B;B=this.GetControl(C);if(B==null){return(null)}if(!B.GetInputName()){return(null)}else{return $("[name='"+B.GetInputName()+"']")[0]}};s.prototype.GetControlValueFromUI=function(B){if(!B){B=this.GetActiveControl();if(!B){return}}this.GetPhysicalControlValue(B);return(this.GetPModel().Get("PhysicalCtrlVal"))};s.prototype.GetPhysicalControlValue=function(B){};s.prototype.GetControlValueByName=function(B){var C=this.GetControl(B);if(C!=null){return this.GetFormattedValue(C,true)}else{return""}};s.prototype.SetControlValueByName=function(B,C){var D=this.GetControl(B);if(D!=null){this.SetFormattedValue(D,C)}};s.prototype.ForceProcessResponse=function(B,E,D){if(!x.IsEmpty(D)){var C={};C.scope=this;C.args=[];C.args.push(B);C.selfbusy=false;C.mask=true;C.async=true;C.opdecode=true;C.cb=function(){var G=Array.prototype.slice.call(arguments);this.PostExecute(B,E,G[G.length-1],C)};var F={};F.scope=SiebelApp.S_App;F.lp=C;F.outputPS=CCFMiscUtil_CreatePropSet();F.nPR=true;SiebelApp.S_App.OnSuccessCallServer.call(F,D,status,{});this.FocusFirstControl()}};s.prototype.FirePreInvokeMethod=function(D,C){var B;if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnPreInvokeMethod)==="function"){B=this.shadow.OnPreInvokeMethod(D,C);if(B=="CancelOperation"){return false}return true}return true};s.prototype.FireInvokeMethod=function(C,B){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnInvokeMethod)==="function"){this.shadow.OnInvokeMethod(C,B)}};s.prototype.FireOnChangeRecord=function(){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeRecord)==="function"){this.shadow.OnChangeRecord()}};s.prototype.FireOnChangeFieldValue=function(C,B){if(this.HasCustomShadow()&&this.shadow&&typeof(this.shadow.OnChangeFieldValue)==="function"){this.shadow.OnChangeFieldValue(C,B)}};s.prototype.NewFileAttachment=function(K){var M=this.GetBusComp();var D="";var F={};var C="";var J="";var G="";var N=this.GetControls();var I=null;var B=CCFMiscUtil_CreatePropSet();if(M&&M.HasCommitPending()){var L=M.InvokeMethod("WriteRecord",B);if(!L){if(this.GetBusComp().HasErrorMsg()){this.GetBusComp().ProcessError();return false}}}D=this.GetPopBookMark();if(!D){D=""}if(K){this.CollectFieldValues(B);for(var H=true;(sKey=B.EnumProperties(H))!==null;H=false){sValue=B.GetProperty(sKey);F[sKey]=sValue}}if(!x.IsEmpty(this.GetView())){F[q.get("SWE_VIEW_ARG")]=this.GetView().GetName()}F[q.get("SWE_APPLET_STR")]=this.GetName();C=CCFMiscUtil_CreatePropSet();if(!!this.GetBusComp()){J=this.GetRowIds(C)}if(!J){J=""}F[q.get("SWE_ROW_IDS_STR")]=J;F[q.get("SWE_POPUP_VECTOR_STR")]=D;I=N[String(q.get("SWE_FILE_NAME_STR"))];if(K||(!x.IsEmpty(D)&&this.GetParentApplet()&&I&&I.GetUIType()===q.get("SWE_CTRL_FILE"))){if(!!this.GetBusComp()){G=this.GetBusComp().GetIdValue();F[q.get("SWE_ROW_ID_STR")]=G}if(G!==""){F[q.get("SWE_REQ_ROW_ID_STR")]="1"
}else{F[q.get("SWE_REQ_ROW_ID_STR")]="0"}F[q.get("SWE_COUNT_STR")]=SiebelApp.S_App.GetSWEReqCount().toString();F[q.get("SWE_CMD_ARG")]=q.get("SWE_CMD_INVOKE_METHOD_STR")}if(K){F[q.get("SWE_METHOD_STR")]=K.GetMethodName();F.SWEFI="1"}else{if(!x.IsEmpty(D)&&this.GetParentApplet()&&I&&I.GetUIType()===q.get("SWE_CTRL_FILE")){F[q.get("SWE_METHOD_STR")]=q.get("SWE_METHOD_WRITE_RECORD")}else{F[q.get("SWE_CMD_ARG")]=q.get("SWE_CMD_INVOKE_METHOD_STR");F[q.get("SWE_METHOD_STR")]=q.get("SWE_METHOD_NEW_FILE_ATTACHMENT")}}var E=new Date();F[q.get("SWE_TIME_STAMP")]=E.getTime();F[q.get("SWE_VIEW_RPC_ARG")]="1";return F};s.prototype.IsInQueryMode=function(){return !!this.GetBusComp()?this.GetBusComp().IsInQueryState():false};s.prototype.UpdateCurrencyCalcInfo=function(B,C){if(C[1]!=this.GetView().GetName()){return}if(C[2]!=this.GetName()&&(B!=2)){return}this.SetCurrencyApplet();return(this.GetCurrencyApplet().UpdateCurrencyInfo(B,CCFMiscUtil_ArrayToString(C)))};s.prototype.UpdateCurrencyCodeInfo=function(B,C){if(C[1]!=this.GetView().GetName()){return}if(C[2]!=this.GetName()&&(B!=2)){return}this.SetCurrencyApplet();return(this.GetCurrencyApplet().UpdateCurrencyInfo(B,CCFMiscUtil_ArrayToString(C)))};s.prototype.CurrencyPostChanges=function(B,C){return(this.GetCurrencyApplet().PostChangesOnBlur())};s.prototype.UpdateConditionals=function(){};s.prototype.GetEmptyRecordForQuery=function(){var E=this.GetBusComp().GetFieldList();var B={};var D=0;var F="";for(D=0;D<E.length;D++){F=SiebelApp.S_App.LookupStringCache(E[D]);if(!x.IsEmpty(F)){var C=this.GetBusComp().GetFieldSearchSpec(F);B[F]=x.IsEmpty(C)?"":C}}return B};s.prototype.GetWSStartRowNum=function(){var B=0;if(this.GetBusComp().IsNumRowsKnown()&&this.GetBusComp().GetNumRows()===0){return B}B=this.GetBusComp().GetCurRowNum()-this.GetBusComp().GetSelection()+this.GetBusComp().GetNotifyObject().GetBegRow(this.GetName());return B};s.prototype.GetWSEndRowNum=function(){var B=this.GetWSStartRowNum()+this.GetRowListRowCount()-1;var C=this.GetBusComp().GetNumRows();if(B>C){B=C}return B};return s}())};